(this.webpackJsonpweloop=this.webpackJsonpweloop||[]).push([[1],{201:function(e,n,t){"use strict";var r=t(313);t.d(n,"getOpType",(function(){return r.a})),t.d(n,"getOperationNameAndType",(function(){return r.b}));t(314)},313:function(e,n,t){"use strict";t.d(n,"a",(function(){return o})),t.d(n,"b",(function(){return l}));var r=t(143),a=t(220),i=t(218);t(87).ApolloLink;var o=function(e){var n=e.query.definitions.find((function(n){return"OperationDefinition"===n.kind&&!!n.name&&n.name.value===e.operationName}));return n&&n.operation},l=function(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind})).reduce((function(e,n){if(!e){var t=n.selectionSet.selections.find((function(e){return"Field"===e.kind}))||null,r=n.operation;e=t&&[t.name.value,r]}return e}),null)||[]}},314:function(e,n){},435:function(e,n,t){e.exports=t(798)},529:function(e,n,t){var r={"./en_GB/messages.po":[806,0]};function a(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],a=n[0];return t.e(n[1]).then((function(){return t.t(a,7)}))}a.keys=function(){return Object.keys(r)},a.id=529,e.exports=a},530:function(e,n,t){var r={"./en_GB/messages.js":[807,0]};function a(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],a=n[0];return t.e(n[1]).then((function(){return t.t(a,7)}))}a.keys=function(){return Object.keys(r)},a.id=530,e.exports=a},532:function(e,n,t){},678:function(e,n,t){},798:function(e,n,t){"use strict";t.r(n);var r=t(33),a=t.n(r),i=t(2),o=t(40),l=(t(845),t(0)),c=t.n(l),u=t(66),s=t(39),m=t.n(s),d=t(36),p=(t(441),t(45)),f=t(19),v=t(71),g=t(17),b=t(127),h=t(427),E=t(154),x=t(407),O=t(848),j=t(112),y=t(87),w=t(24),k=t(294),T=t(428),S=(t(402),t(31)),C=t.n(S),N=t(30);function _(){var e=Object(i.a)(["\n    mutation anonSignUp($email: String!, $password: String!, $url: String!) {\n  signup(email: $email, password: $password, url: $url)\n}\n    "]);return _=function(){return e},e}function P(){var e=Object(i.a)(["\n    mutation confirmEmail($token: String!) {\n  confirmEmail(token: $token) {\n    accountId\n  }\n}\n    "]);return P=function(){return e},e}function I(){var e=Object(i.a)(["\n    mutation requestConfirmEmail($email: String!, $url: String!) {\n  requestConfirmEmail(email: $email, url: $url)\n}\n    "]);return I=function(){return e},e}function L(){var e=Object(i.a)(["\n    mutation anonLogin($email: String!, $password: String!) {\n  login(emailOrUsername: $email, password: $password) {\n    token\n    currentUsername\n    currentAccountId\n    currentUser {\n      id\n      profile {\n        name\n        summary\n      }\n    }\n  }\n}\n    "]);return L=function(){return e},e}function B(){var e=Object(i.a)(["\n    mutation anonResetPasswordRequest($email: String!) {\n  requestResetPassword(email: $email)\n}\n    "]);return B=function(){return e},e}function R(){var e=Object(i.a)(["\n    mutation updateLostPassword($token: String!, $password: String!, $passwordConfirmation: String!) {\n  changePassword(token: $token, password: $password, passwordConfirmation: $passwordConfirmation) {\n    accountId\n  }\n}\n    "]);return R=function(){return e},e}function A(){var e=Object(i.a)(["\n    mutation changePassword($oldPassword: String!, $password: String!, $passwordConfirmation: String!) {\n  changePassword(oldPassword: $oldPassword, password: $password, passwordConfirmation: $passwordConfirmation) {\n    accountId\n  }\n}\n    "]);return A=function(){return e},e}function z(){var e=Object(i.a)(["\n    mutation resetPwd($email: String!, $url: String!) {\n  requestResetPassword(email: $email, url: $url)\n}\n    "]);return z=function(){return e},e}var U=C()(z());var M=C()(A());var F=C()(R());C()(B());var D=C()(L());var $=C()(I());var V=C()(P());var q=C()(_());var H,W,K=t(12),Q=t(405),G=t.n(Q),Y=t(406),X=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GRAPHQL_ENDPOINT:"",REACT_APP_SENTRY_API_KEY:""}).REACT_APP_PHOENIX_SOCKET_ENDPOINT,J=(parseInt("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GRAPHQL_ENDPOINT:"",REACT_APP_SENTRY_API_KEY:""}).REACT_APP_DEFAULT_PAGE_SIZE)),Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GRAPHQL_ENDPOINT:"",REACT_APP_SENTRY_API_KEY:""}).REACT_APP_INVITE_ONLY_TEXT||"Please note, signups on this instance are currently invite-only."),Z="https://raw.githubusercontent.com/reflow-project/weloop/main/src/static/img/weloop_logo_128x128-01.png",ee=[{code:"en_GB",desc:"English, British",rtl:!1},{code:"en_US",desc:"English, USA",rtl:!1},{code:"es_MX",desc:"Espa\xf1ol, M\xe9jico",rtl:!1},{code:"es_ES",desc:"Espa\xf1ol, Espa\xf1a",rtl:!1},{code:"fr_FR",desc:"Fran\xe7ais, France",rtl:!1},{code:"eu",desc:"Euskara",rtl:!1},{code:"ar_SA",desc:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629, \u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629",rtl:!0}],ne=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GRAPHQL_ENDPOINT:"",REACT_APP_SENTRY_API_KEY:""}).REACT_APP_MOTHERSHIP_API_ID,te=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GRAPHQL_ENDPOINT:"",REACT_APP_SENTRY_API_KEY:""}).REACT_APP_MOTHERSHIP_API_KEY,re=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GRAPHQL_ENDPOINT:"",REACT_APP_SENTRY_API_KEY:""}).REACT_APP_MOTHERSHIP_ENV,ae=ne&&te?{appId:ne,apiKey:te,indexName:re}:null,ie=!ne||!te,oe="rgb(245, 246, 247)",le="#fff",ce="#05244F",ue="#02e379",se="#D1D3D8",me="#2db783",de="#ff5a5f",pe="#ffebb3",fe="#FFFFFF",ve="#F8F8F8",ge="#F3F3F3",be="#EEEEEE",he="#D1D3D8",Ee="#999999",xe="#666666",Oe="#444444",je="#333333",ye="1px solid #F3F3F3",we={primary:'"Barlow", "Open Sans", sans-serif'},ke={s1:"12px",s2:"14px",s3:"16px",m1:"20px",m2:"24px",m3:"28px",l1:"32px",l2:"40px",l3:"48px",code:"90px"},Te=t(201),Se=t(390).GraphQLError,Ce=t(87),Ne=Ce.ApolloLink,_e=Ce.Observable,Pe=t(804),Ie=Pe.selectURI,Le=Pe.selectHttpOptionsAndBody,Be=Pe.fallbackHttpConfig,Re=Pe.serializeFetchParameter,Ae=Pe.createSignalIfSupported,ze=Pe.parseAndCheckHttpResponse,Ue=t(803).extractFiles,Me=function(e,n,t){var r,a=n.trim().split(".");for(r=0;r<a.length-1;r++)e=e[a[r]];e[a[r]]=t},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.uri,t=void 0===n?"/graphql":n,r=e.fetch,a=void 0===r?fetch:r,i=e.fetchOptions,o=e.credentials,l=e.headers,c=e.includeExtensions,u={http:{includeExtensions:c},options:i,credentials:o,headers:l};return new Ne((function(e){var n=Ie(e,t),r=e.getContext(),i=r.clientAwareness,o=(i=void 0===i?{}:i).name,l=i.version,c=r.headers,s={http:r.http,options:r.fetchOptions,credentials:r.credentials,headers:Object(g.a)(Object(g.a)(Object(g.a)({},o&&{"apollographql-client-name":o}),l&&{"apollographql-client-version":l}),c)},m=Le(e,Be,u,s),d=m.options,p=m.body,f=Ue(p),v=f.clone,b=f.files;if(b.size){delete d.headers["content-type"];var h=new FormData;h.append("operationName",v.operationName),h.append("query",v.query);var E=0;b.forEach((function(e){e.forEach((function(e){return Me(v,e,String(++E))}))})),h.append("variables",JSON.stringify(v.variables)),E=0,b.forEach((function(e,n){h.append(++E,n,n.name)})),d.body=h}else d.body=Re(v,"Payload");return new _e((function(t){var r;if(!d.signal){var i=Ae().controller;i&&(r=i,d.signal=r.signal)}return a(n,d).then((function(n){return e.setContext({response:n}),n})).then(ze(e)).then((function(e){t.next(e),t.complete()})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.next({errors:[new Se(String(e))]}))})),function(){r&&r.abort()}}))}))};!function(e){e.Organization="Organization",e.Person="Person"}(H||(H={})),function(e){e.Day="day",e.Hour="hour",e.Minute="minute",e.Month="month",e.Second="second",e.Week="week",e.Year="year"}(W||(W={}));var De={__schema:{types:[{kind:"UNION",name:"AnyContext",possibleTypes:[{name:"Activity"},{name:"Category"},{name:"EconomicEvent"},{name:"Follow"},{name:"Intent"},{name:"Post"},{name:"Process"},{name:"SpatialThing"},{name:"Tag"},{name:"User"}]},{kind:"UNION",name:"AccountingScope",possibleTypes:[{name:"Category"},{name:"Organization"},{name:"Person"},{name:"Tag"}]},{kind:"INTERFACE",name:"Agent",possibleTypes:[]},{kind:"UNION",name:"ProductionFlowItem",possibleTypes:[{name:"EconomicEvent"},{name:"EconomicResource"},{name:"Process"}]},{kind:"UNION",name:"EventOrCommitment",possibleTypes:[{name:"Commitment"},{name:"EconomicEvent"}]},{kind:"UNION",name:"AnyCharacter",possibleTypes:[{name:"Category"},{name:"SpatialThing"},{name:"User"}]},{kind:"UNION",name:"ObservableObject",possibleTypes:[{name:"EconomicResource"},{name:"Organization"},{name:"Person"}]},{kind:"UNION",name:"ObservableResult",possibleTypes:[{name:"Measure"},{name:"ObservablePhenomenon"}]},{kind:"UNION",name:"Observer",possibleTypes:[{name:"EconomicResource"},{name:"Organization"},{name:"Person"},{name:"ResourceSpecification"}]}]}};function $e(){var e=Object(i.a)(["\n    mutation updateUser($userName: String, $summary: String, $icon: Upload, $image: Upload) {\n  updateUser(images: {icon: $icon, image: $image}, profile: {summary: $summary, name: $userName}) {\n    user {\n      profile {\n        name\n        summary\n        icon\n        image\n      }\n    }\n  }\n}\n    "]);return $e=function(){return e},e}function Ve(){var e=Object(i.a)(["\n    mutation createUser($profileName: String!, $userName: String, $summary: String) {\n  createUser(profile: {name: $profileName, summary: $summary}, character: {username: $userName}) {\n    accountId\n    user {\n      character {\n        username\n      }\n      profile {\n        name\n        summary\n      }\n    }\n  }\n}\n    "]);return Ve=function(){return e},e}var qe=C()(Ve());var He=C()($e());function We(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(o.a)(a.a.mark((function e(n){var t,r,i,o,l,c,u,s,m,d,p,f,S,C,N,_,P;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.localKVStore,r=n.appLinks,i=t.get("AUTH_TOKEN"),o=new x.b({introspectionQueryResultData:De}),l=new O.a({fragmentMatcher:o,cacheRedirects:{Query:{activity:function(e,n,t){return(0,t.getCacheKey)({__typename:"Activity",id:n.activityId})},collection:function(e,n,t){return(0,t.getCacheKey)({__typename:"Collection",id:n.collectionId})},community:function(e,n,t){return(0,t.getCacheKey)({__typename:"Community",id:n.communityId})},comment:function(e,n,t){return(0,t.getCacheKey)({__typename:"Comment",id:n.commentId})},user:function(e,n,t){return(0,t.getCacheKey)({__typename:"User",id:n.userId})},thread:function(e,n,t){return(0,t.getCacheKey)({__typename:"Thread",id:n.threadId})},resource:function(e,n,t){return(0,t.getCacheKey)({__typename:"Resource",id:n.resourceId})}}},dataIdFromObject:function(e){switch(e.__typename){case"User":return"userId"in e?e.userId:e.id;default:return Object(O.b)(e)}}}),c=function(e){e?(i=e,t.set("AUTH_TOKEN",e)):u()},u=function(){i=void 0,t.del("AUTH_TOKEN")},s=new y.ApolloLink((function(e,n){var t=e.operationName;return"confirmEmail"!==t&&"changePassword"!==t&&"resetPwd"!==t&&"updateLostPassword"!==t&&"anonSignUp"!==t&&"anonLogin"!==t||u(),n(e).map((function(e){if("anonLogin"===t||"confirmEmail"===t||"createUser"===t){var n,r,a,i,o,l,u,s;if("createUser"===t&&!(null===(n=e.data)||void 0===n||null===(r=n.login)||void 0===r?void 0:r.token))return e;c((null===(a=e.data)||void 0===a||null===(i=a.login)||void 0===i?void 0:i.token)||(null===(o=e.data)||void 0===o||null===(l=o.confirmEmail)||void 0===l?void 0:l.accountId)||(null===(u=e.data)||void 0===u||null===(s=u.resetPassword)||void 0===s?void 0:s.token))}return e}))})),m=Object(k.a)((function(e,n){var t=n.headers;return{headers:Object(g.a)(Object(g.a)({},t),{},{authorization:i?"Bearer ".concat(i):null})}})),d=Object(T.a)((function(e){var n=e.operation,t=e.response,r=e.graphQLErrors,a=e.networkError;if(a){var i="statusCode"in a?G.a.getStatusText(a.statusCode):a.message;return w.a.of({errors:[new K.a("network error:".concat(i))]})}if(r){var o=r.find((function(e){return/Failed to fetch/gi.test(e.message)||/JSON.parse/gi.test(e.message)||/ServerParseError/gi.test(e.message)}));return w.a.of({errors:o?[new K.a("Unexpected error")]:r})}if(null===t||void 0===t?void 0:t.errors)return w.a.of({data:t.data,errors:t.errors});var l=JSON.stringify(t,null,2),c="unknown error:\noperation:".concat(n,"\nresponse:").concat(l);return w.a.of({errors:[new K.a(c)]})})),p=Object(k.a)((function(e,n){var t=n.headers;return Object(g.a)(Object(g.a)({},n),{},{clientAwareness:void 0,headers:Object(g.a)({},t)})})),f=["anonSignUp","anonLogin","resetPwd","confirmEmail","changePassword","updateLostPassword"],S=new y.ApolloLink((function(e,n){if(!i&&("mutation"===Object(Te.getOpType)(e)&&!f.includes(e.operationName)))return w.a.of({errors:[new K.a("You should log in for performing this operation!")]});return n(e)})),C=y.ApolloLink.from([null].concat(Object(v.a)(r),[S,d,m,p,s,Fe({uri:""})]).filter(Boolean)),N=Object(h.a)(b.b(new Y.Socket(X))),_=y.ApolloLink.split((function(e){return Object(E.c)(e.query)}),N,C),P=new j.a({cache:l,link:_,defaultOptions:{watchQuery:{fetchPolicy:"cache-first",errorPolicy:"ignore"},query:{fetchPolicy:"cache-first",errorPolicy:"all"},mutate:{errorPolicy:"all"}}}),e.abrupt("return",{client:P});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qe={breakpoints:["40em","52em","64em"],colors:{app:oe,appInverse:le,primary:ce,secondary:ue,tertiary:se,positive:me,negative:de,warning:pe,lightest:fe,lighter:ve,light:ge,mediumlight:be,medium:he,mediumdark:Ee,dark:xe,darker:Oe,darkest:je,border:ye},variants:{negative:{bg:de,color:ge},positive:{bg:me,color:ge},warning:{bg:pe,color:Oe},avatar:{borderRadius:"100% !important"}},text:{subhead:{fontFamily:we.primary,fontSize:ke.s3,color:xe,textTransform:"capitalize",letterSpacing:"0.5px",fontWeight:"600"},suptitle:{fontFamily:we.primary,fontSize:ke.s1,color:xe,textTransform:"uppercase",letterSpacing:"1px",fontWeight:"700"},link:{fontFamily:we.primary,fontSize:ke.s2,color:xe,letterSpacing:".5px",fontWeight:"600"},text:{fontFamily:we.primary,fontSize:ke.s2,color:xe,letterSpacing:".5px",fontWeight:"500"},heading:{fontFamily:we.primary,fontSize:ke.m3,color:xe,letterSpacing:"1px",fontWeight:"800"}},buttons:{primary:{fontWeight:"600",height:"40px",px:4,backgroundColor:ce,borderRadius:"4px",fontSize:ke.s2,cursor:"pointer",textTransform:"uppercase",letterSpacing:"1px"},danger:{fontWeight:"600",height:"40px",px:4,backgroundColor:de,color:ve,borderRadius:"4px",fontSize:ke.s2,cursor:"pointer",textTransform:"uppercase",letterSpacing:"1px"},outline:{fontWeight:"600",height:"40px",px:4,backgroundColor:"transparent",borderRadius:"4px",fontSize:ke.s2,cursor:"pointer",textTransform:"uppercase",letterSpacing:"1px",color:xe,border:"1px solid ".concat(ce)}},space:["0px","4px","8px","16px","32px","64px","128px","256px"],fontFamily:we.primary},Ge=function(e){var n=e.children,t=e.theme,r=void 0===t?Qe:t;return c.a.createElement(p.ThemeProvider,{theme:r},n)},Ye=t(44),Xe=t(18),Je=t(62),Ze=function(e,n){var t=n.map((function(e){return e.message})).join("\n");return"Ooops, something went wrong with ".concat(e,": \n").concat(t)},en=function(e){return"".concat(e," success")},nn=function(e,n){return Object(d.c)(e,n)},tn=function(e){return Object(Je.a)({},"MN_CTX_FLD",e)};new y.ApolloLink((function(e,n){var t=Object(Te.getOperationNameAndType)(e.query),r=Object(Xe.a)(t,2)[1],a=e.getContext().MN_CTX_FLD,i="query"===r||!(null===a||void 0===a?void 0:a.ctx)&&!(null===a||void 0===a?void 0:a.successMsg);return n(e).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){if(n.errors&&!e.noShowError){var t=e.errorMsg?e.errorMsg(n.errors):Ze(e.ctx||"this operation",n.errors);nn(t,{type:"error"})}else if(!n.errors&&n.data&&!e.noShowSuccess){var r=e.successMsg?e.successMsg(n.data):en(e.ctx||"");nn(r,{type:"success"})}return n}}(Object(g.a)({noShowSuccess:i,ctx:e.operationName},e.getContext().MN_CTX_FLD)))}));function rn(){var e=Object(i.a)(["\n    query me {\n  me {\n    ...UseMeData\n  }\n}\n    ",""]);return rn=function(){return e},e}function an(){var e=Object(i.a)(["\n    fragment UseMeData on Me {\n  accountId\n  user {\n    id\n    profile {\n      image\n      icon\n      name\n      summary\n    }\n    character {\n      username\n    }\n  }\n  users {\n    id\n    profile {\n      name\n      summary\n      icon\n      image\n    }\n    character {\n      username\n    }\n  }\n  flagsForModeration {\n    id\n    verb {\n      verb\n      verbDisplay\n    }\n    subject {\n      __typename\n    }\n    object {\n      __typename\n    }\n  }\n  userFeed {\n    id\n    verb {\n      verb\n      verbDisplay\n    }\n    object {\n      __typename\n    }\n  }\n}\n    "]);return an=function(){return e},e}var on=C()(an()),ln=C()(rn(),on);var cn=function(e,n){return{query:ln,variables:e,context:n}},un=function(){var e,n=(e={context:tn({noShowError:!0})},N.d(ln,e));return Object(l.useMemo)((function(){var e;return{me:null===(e=n.data)||void 0===e?void 0:e.me,loading:n.loading}}),[n])},sn=Object(l.createContext)({isOpen:!0,toggleOpen:function(){return!0}}),mn=function(e){var n=e.children,t=Object(l.useReducer)((function(e){return!e}),!0),r=Object(Xe.a)(t,2),a=r[0],i=r[1],o=Object(l.useMemo)((function(){return{isOpen:a,toggleOpen:i}}),[a,i]);return c.a.createElement(sn.Provider,{value:o},n)},dn=t(6),pn=t(25),fn=t(41),vn=t(54),gn=t(412),bn=t(413),hn=function(e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="local"===e?localStorage:sessionStorage,r=function(e){return"".concat(n).concat(e)},a=function(n){return En(t.getItem(r(n)),e,r(n))},i=function(e,n){return t.setItem(r(e),xn(n))},o=function(e){var n=a(r(e));return t.removeItem(r(e)),n};return{get:a,set:i,del:o}}},En=function(e,n,t){if(null===e)return null;try{return JSON.parse(e)}catch(r){return console.warn("KVStore[".concat(n,"]#parse: could not parse ").concat(e," at key [").concat(t,"]")),null}},xn=function(e){return JSON.stringify(e)},On=hn("local")("LOCALIZATION"),jn=On.get("#locale"),yn=jn&&ee.find((function(e){return e.code===jn}))||ee[0],wn=Object(bn.setupI18n)({locales:ee.map((function(e){return e.code}))}),kn=Object(l.createContext)({current:yn,i18n:wn,available:ee,set:function(){}}),Tn=function(e){var n=e.children,t=Object(l.useState)(yn),r=Object(Xe.a)(t,2),a=r[0],i=r[1],o=Object(l.useState)({}),u=Object(Xe.a)(o,2),s=u[0],m=u[1];Object(l.useEffect)((function(){Cn(a.rtl),s[a.code]||Sn(a.code).then((function(e){return m(Object(g.a)(Object(g.a)({},s),{},Object(Je.a)({},a.code,e)))})).catch((function(e){return console.error("Error loading Locale: ".concat(a.code),e)}))}),[s,a]);var d=Object(l.useCallback)((function(e){i(e);var n,t=e.code;gn.Settings.defaultLocale=t.split("_")[0],n=t,On.set("#locale",n)}),[i]),p=Object(l.useMemo)((function(){return{current:a,available:ee,i18n:wn,set:d}}),[a,d]);return c.a.createElement(dn.I18nProvider,{i18n:wn,language:a.code,catalogs:s},c.a.createElement(kn.Provider,{value:p},n))},Sn=function(){var e=Object(o.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=4;break;case 4:return e.abrupt("return",t(530)("./".concat(n,"/messages.js")));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Cn=function(e){var n=document.querySelector("html");if(n){var t=e?"rtl":"ltr";n.style.direction=t,n.classList.remove("--rtl","--ltr"),n.classList.add("--".concat(t))}},Nn=t(4),_n=p.default,Pn=(p.css,p.createGlobalStyle,p.keyframes,p.ThemeProvider,p.withTheme,_n);t(532);function In(){var e=Object(i.a)(["\n  background-color: ",";\n"]);return In=function(){return e},e}var Ln=Pn(Nn.Box)(In(),(function(e){return"primary"===e.color?"#ffffffeb":e.theme.colors.primary}));var Bn=function(e){var n=Object.assign({},e);return l.createElement("div",Object.assign({className:"spinner"},n),l.createElement(Ln,{color:n.variant,className:"bounce1"}),l.createElement(Ln,{color:n.variant,className:"bounce2"}),l.createElement(Ln,{color:n.variant,className:"bounce3"}))},Rn=t(42);function An(){var e=Object(i.a)(["\n    padding:  10px;\n  "]);return An=function(){return e},e}function zn(){var e=Object(i.a)(["\n  ",";\n  width: ",";\n  border-radius: ",";\n  padding: ",";\n  opacity: ",";\n  cursor: ",";\n  background:  ",";\n  ",";\n  &.show-more {\n    width: auto;\n    padding: 3px 8px;\n    background: transparent;\n    color: ",";\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    ","\n    \n    svg {\n      stroke: ",";\n      margin-right: 10px;\n    }\n    \n    &:hover {\n        background: #f3f3f3;\n      }\n  }\n  &:hover && not:['disabled'] {\n    background: ","\n  }\n}}\n"],["\n  ",";\n  width: ",";\n  border-radius: ",";\n  padding: ",";\n  opacity: ",";\n  cursor: ",";\n  background:  ",";\n  ",";\n  &.show-more {\n    width: auto;\n    padding: 3px 8px;\n    background: transparent;\n    color: ",";\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    ","\n    \n    svg {\n      stroke: ",";\n      margin-right: 10px;\n    }\n    \n    &:hover {\n        background: #f3f3f3;\n      }\n  }\n  &:hover && not:['disabled\\'] {\n    background: ","\n  }\n}}\n"]);return zn=function(){return e},e}var Un=Pn(Nn.Button)(zn(),Object(Rn.e)("background, 0.2s"),(function(e){return!0===e.isIcon?"40px":"auto"}),(function(e){return!0===e.isIcon?"100%":"4px"}),(function(e){return!0===e.isIcon?"0px":"auto"}),(function(e){return!0===e.disabled?"0.7":"1"}),(function(e){return!0===e.disabled?"default":"pointer"}),(function(e){return"warning"===e.variant&&e.theme.colors.negative}),f.a.lessThan("medium")(An()),(function(e){return e.theme.colors.primary}),Object(Rn.e)("background, 0.2s"),(function(e){return e.theme.colors.primary}),(function(e){switch(e.variant){case"primary":return Object(Rn.b)("0.1",e.theme.colors.primary);case"danger":return Object(Rn.d)("0.1",e.theme.colors.primary);default:Object(Rn.d)("0.3",e.theme.colors.primary)}})),Mn=function(e){return c.a.createElement(Un,Object.assign({},e,{width:e.fullWidth?"100%":e.width||"",className:"show-more"===e.variant?"show-more":"",isSubmitting:e.isSubmitting,disabled:e.isDisabled,isIcon:e.isIcon,variant:e.variant}),e.isSubmitting?c.a.createElement(Bn,{variant:e.variant}):e.children)};function Fn(){var e=Object(i.a)(["\n  margin-top: 8px;\n  margin-bottom: 40px;\n  color: #000000a1;\n  font-weight: 500;\n"]);return Fn=function(){return e},e}function Dn(){var e=Object(i.a)(['\n  background: url("','");\n  width: 300px;\n  display: inline-block;\n  height: 100px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n']);return Dn=function(){return e},e}function $n(){var e=Object(i.a)(["\n  grid-area: header;\n  text-align: center;\n"]);return $n=function(){return e},e}var Vn=function(e){var n=c.a.useContext(kn).i18n;return c.a.createElement(qn,null,e.isHome?c.a.createElement(Hn,null):c.a.createElement(pn.b,{to:"/"},c.a.createElement(Hn,null)),c.a.createElement(Wn,null,n._("Co-creating circular and regenerative resource flows in cities")),c.a.createElement(Wn,null,""))},qn=Pn.div($n()),Hn=Pn.div(Dn(),"https://raw.githubusercontent.com/reflow-project/weloop/main/src/static/img/weloop_logo_1200x512.png"),Wn=Pn.h5(Fn());function Kn(){var e=Object(i.a)(["\ncolor: ","\nfont-size: ",";\na {\n  color: ","\n  text-decoration: none;\n}\n  "]);return Kn=function(){return e},e}function Qn(){var e=Object(i.a)(["\n  padding: 16px;\n"]);return Qn=function(){return e},e}function Gn(){var e=Object(i.a)(["\n  text-transform: capitalize;\n  border-bottom: ",";\n  padding: 16px;\n  color: ",";\n  font-size: ",";\n  font-weight: 600;\n"]);return Gn=function(){return e},e}function Yn(){var e=Object(i.a)(["\n  background: ",";\n  border-radius: 4px;\n  align-items: stretch;\n  border: 0 solid black;\n  box-sizing: border-box;\n  flex-basis: auto;\n  flex-direction: column;\n  flex-shrink: 0;\n  margin: 0;\n  min-height: 0;\n  min-width: 0;\n  padding: 0;\n  position: relative;\n  z-index: 0;\n  margin-bottom: 8px !important;\n"]);return Yn=function(){return e},e}function Xn(){var e=Object(i.a)(["\n  position: sticky;\n  align-items: stretch;\n  border: 0 solid black;\n  box-sizing: border-box;\n  flex-basis: auto;\n  flex-direction: column;\n  flex-shrink: 0;\n  margin: 0;\n  min-height: 0;\n  min-width: 0;\n  padding: 0;\n  z-index: 0;\n"]);return Xn=function(){return e},e}function Jn(){var e=Object(i.a)(["\n   display: none;\n  "]);return Jn=function(){return e},e}function Zn(){var e=Object(i.a)(["\n  width: 290px;\n"]);return Zn=function(){return e},e}function et(){var e=Object(i.a)(["\n  width: 240px;\n  align-items: stretch;\n  border: 0 solid black;\n  box-sizing: border-box;\n  flex-basis: auto;\n  flex-direction: column;\n  flex-shrink: 0;\n  margin: 0 0 0 8px;\n  min-height: 0;\n  min-width: 0;\n  padding: 0;\n  position: relative;\n  z-index: 0;\n  font-family: ",";\n  &.extra {\n    width: 100%;\n  }\n  ",";\n  ",";\n"]);return et=function(){return e},e}var nt=Pn(Nn.Flex)(et(),(function(e){return e.theme.fontFamily}),f.a.lessThan("1095px")(Zn()),f.a.lessThan("1005px")(Jn())),tt=(Pn(Nn.Flex)(Xn()),Pn(Nn.Box)(Yn(),(function(e){return e.theme.colors.appInverse}))),rt=Pn(Nn.Text)(Gn(),(function(e){return e.theme.colors.border}),(function(e){return e.theme.colors.darker}),ke.s1),at=Pn(Nn.Box)(Qn()),it=Pn(Nn.Text)(Kn(),(function(e){return e.theme.colors.dark}),ke.s2,(function(e){return e.theme.colors.dark}));function ot(){var e=Object(i.a)(["\n  width: 10px;\n  height: 10px;\n"]);return ot=function(){return e},e}function lt(){var e=Object(i.a)(["\n  margin: 0;\n  margin-bottom: 16px;\n  input {\n    height: 50px;\n    color: inherit;\n    background-color: transparent;\n    border-radius: 4px;\n    border: 1px solid #dadada;\n  }\n"]);return lt=function(){return e},e}function ct(){var e=Object(i.a)(["\n  text-align: center;\n  text-decoration: underline;\n  cursor: pointer;\n  a {\n    color: inherit;\n  }\n"]);return ct=function(){return e},e}function ut(){var e=Object(i.a)(["\n  position: relative;\n  color: rgba(0, 0, 0, 0.5);\n  text-align: center;\n  margin-top: 24px;\n  &:before {\n    position: absolute;\n    content: '';\n    width: calc(50% - 24px);\n    left: 0;\n    top: 8px;\n    height: 1px;\n    display: block;\n    background: rgba(0, 0, 0, 0.45);\n  }\n  &:after {\n    position: absolute;\n    content: '';\n    width: calc(50% - 24px);\n    right: 0;\n    top: 8px;\n    height: 1px;\n    display: block;\n    background: rgba(0, 0, 0, 0.45);\n  }\n"]);return ut=function(){return e},e}function st(){var e=Object(i.a)(["\n  background: ",";\n  a {\n    text-decoration: none;\n    color: ",";\n    button {\n      color: "," !important;\n    }\n  }\n"]);return st=function(){return e},e}function mt(){var e=Object(i.a)(["\n  .extra {\n    width: 100%;\n    margin-left: 0px;\n  }\n  a {\n    text-decoration: none;\n    color: inherit;\n  }\n"]);return mt=function(){return e},e}function dt(){var e=Object(i.a)(["\n  background: ",";\n  border-radius: 4px;\n  height: inherit;\n  border: 1px solid #dddfe2;\n  text-align: left;\n  height: fit-content;\n"]);return dt=function(){return e},e}function pt(){var e=Object(i.a)(["\n  grid-area: form;\n"]);return pt=function(){return e},e}function ft(){var e=Object(i.a)(["\n  margin: 0 auto;\n  max-width: 900px;\n  margin-top: 60px;\n  padding-bottom: 50px;\n"]);return ft=function(){return e},e}function vt(){var e=Object(i.a)(["\n    grid-template-columns: 1fr;\n    grid-template-areas: 'header' 'image' 'form' 'footer';\n    padding: 16px\n  "]);return vt=function(){return e},e}function gt(){var e=Object(i.a)(["\n  display: grid;\n  grid-column-gap: 16px;\n  grid-template-columns: 1fr 1fr;\n  grid-template-areas: 'header header' 'form image' 'footer footer';\n  ",";\n"]);return gt=function(){return e},e}function bt(){var e=Object(i.a)([""]);return bt=function(){return e},e}function ht(){var e=Object(i.a)([""]);return ht=function(){return e},e}function Et(){var e=Object(i.a)(['\n  background: url("','");\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  padding: 50%;\n  width: 400px;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n']);return Et=function(){return e},e}var xt={login:Object(dn.i18nMark)("Sign in"),placeholders:{email:Object(dn.i18nMark)("Enter your email"),password:Object(dn.i18nMark)("Enter your password")}},Ot=function(e){var n=e.formik,t=l.useContext(kn).i18n;return l.createElement(l.Fragment,null,l.createElement(Tt,null,l.createElement(kt,null,l.createElement(Vn,{isHome:!0}),l.createElement(St,null,l.createElement(Ct,null,l.createElement(Lt,null,l.createElement(Nn.Box,{p:3},l.createElement("form",{onSubmit:n.handleSubmit},l.createElement(vn.a,{placeholder:xt.placeholders.email,name:"email",value:n.values.email,onChange:n.handleChange}),l.createElement(Bt,null),l.createElement(vn.a,{type:"password",placeholder:xt.placeholders.password,name:"password",value:n.values.password,onChange:n.handleChange}),l.createElement(Mn,{mt:3,variant:"primary",isSubmitting:n.isSubmitting,isDisabled:n.isSubmitting,type:"submit",style:{width:"100%"},onClick:n.submitForm},l.createElement(dn.Trans,{id:"Sign in"}))))),l.createElement(It,{variant:"text",my:3,mt:2},l.createElement(pn.b,{to:"/reset"},l.createElement(dn.Trans,{id:"Trouble logging in?"})))),l.createElement(Pt,null,l.createElement(dn.Trans,{id:"Or"})),l.createElement(_t,{mt:3,p:3},l.createElement(Nn.Text,{variant:"heading"},l.createElement(dn.Trans,{id:"Browse this instance"})),l.createElement(Nn.Text,{variant:"text",mt:2},t._("You don't need to sign up to preview what people are sharing and discussing publicly.")),l.createElement(pn.b,{to:"/discover"},l.createElement(Mn,{mt:3,variant:"outline"},l.createElement(dn.Trans,{id:"Browse"}))))),l.createElement(Nt,null,l.createElement(pn.b,{to:"signup"},l.createElement(Mn,{mb:2,style:{width:"100%",height:"50px"},variant:"outline"},l.createElement(dn.Trans,{id:"Sign up"}))),l.createElement(nt,{className:"extra"},l.createElement(tt,null,l.createElement(jt,null),l.createElement(yt,{p:3},l.createElement(wt,null,l.createElement(Nn.Text,{variant:"suptitle"},l.createElement(dn.Trans,{id:"Instance description"})),l.createElement(Nn.Text,{mt:2,variant:"text"},"Federated economic network for Reflow pilots")))))))))},jt=Pn(Nn.Box)(Et(),"https://reflowproject.eu/wp-content/uploads/2019/08/reflow-cocreation-1.png"),yt=Pn(Nn.Box)(ht()),wt=Pn(Nn.Box)(bt()),kt=Pn.div(gt(),f.a.lessThan("medium")(vt())),Tt=Pn.div(ft()),St=Pn.div(pt()),Ct=Pn.div(dt(),(function(e){return e.theme.colors.appInverse})),Nt=Pn(Nn.Box)(mt()),_t=Pn(Nn.Box)(st(),(function(e){return e.theme.colors.appInverse}),(function(e){return e.theme.colors.mediumdark}),(function(e){return e.theme.colors.mediumdark})),Pt=Pn.div(ut()),It=Pn(Nn.Text)(ct()),Lt=Pn.div(lt()),Bt=Pn.div(ot()),Rt=t(21),At=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GRAPHQL_ENDPOINT:"",REACT_APP_SENTRY_API_KEY:""}).REACT_APP_FRONTEND_HOSTNAME,zt=function(){var e,n=Object(Ye.g)(),t=function(e,n){e.writeQuery({query:ln,data:{__typename:"RootQueryType",me:n?Object(g.a)(Object(g.a)({__typename:"Me"},n),{},{token:n.token,user:Object(g.a)({__typename:"User"},n.user)}):null}})},r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GRAPHQL_ENDPOINT:"",REACT_APP_SENTRY_API_KEY:""}).REACT_APP_FRONTEND_HOSTNAME||"",a=N.c(D,e),i=Object(Xe.a)(a,2),o=i[0],c=i[1],u=function(e){return N.c(V,e)}(),s=Object(Xe.a)(u,2),m=s[0],d=s[1],p=function(e){return N.c($,e)}(),f=Object(Xe.a)(p,2),v=f[0],b=f[1],h=function(e){return N.c(U,e)}(),E=Object(Xe.a)(h,2),x=E[0],O=E[1],j=function(e){return N.c(M,e)}(),y=Object(Xe.a)(j,2),w=y[0],k=y[1],T=function(e){return N.c(q,e)}(),S=Object(Xe.a)(T,2),C=S[0],_=S[1],P=function(e){return N.c(F,e)}(),I=Object(Xe.a)(P,2),L=I[0],B=I[1];return Object(l.useMemo)((function(){return{login:function(e,n){if(!c.loading)return o({variables:{email:e,password:n},context:tn({ctx:"Login"}),refetchQueries:[cn({})],update:function(e,n){var r;return t(e,null===(r=n.data)||void 0===r?void 0:r.login)}})},loginStatus:c,logout:function(){localStorage.clear(),n.push("/login")},confirmEmail:function(e){if(!d.loading&&!d.called)return m({variables:{token:e},update:function(e,n){return t(e,n.data)}})},confirmEmailStatus:d,requestConfirmEmailMut:v,requestConfirmEmailStatus:b,resetPwdRequest:function(e){if(!O.loading)return x({variables:{email:e,url:"".concat(r,"/reset/:token")}})},resetPwdStatus:O,updatePassword:function(e,n,t){if(!B.loading)return L({variables:{token:e,password:n,passwordConfirmation:t}})},updateLostPasswordStatus:B,changePwdRequest:function(e,n,t){if(!k.loading)return w({variables:{oldPassword:e,password:n,passwordConfirmation:t}})},changePwdStatus:k,signUp:function(e){if(!_.loading)return C({variables:{email:e.email,password:e.password,url:"".concat(At,"/confirm-email/:token")},update:function(e,n){return t(e,n.data)}})},signUpStatus:_}}),[r,n,_,C,m,d,v,b,L,B,x,O,w,k,o,c])},Ut=t(414),Mt=Object(l.createContext)({setTitle:function(e){return e}}),Ft=function(e){var n=e.children,t=Object(l.useContext)(kn).i18n,r=Object(l.useState)(),a=Object(Xe.a)(r,2),i=a[0],o=a[1],u=Object(l.useCallback)((function(e,n){var r=!1===e?void 0:t._(Object(g.a)(Object(g.a)({},e),{},{values:n}));r!==i&&o(r)}),[t,i]),s=Object(l.useMemo)((function(){return{setTitle:u}}),[u]),m=i?"".concat("WeLoop"," - ").concat(i):"WeLoop";return c.a.createElement(Mt.Provider,{value:s},c.a.createElement(Ut.a,null,c.a.createElement("title",null,m)),n)},Dt=function(e,n){var t=Object(l.useContext)(Mt).setTitle;Object(l.useEffect)((function(){t(e,n)}),[t,e,n])},$t=Rt.object({email:Rt.string().max(50).required(),password:Rt.string().max(50).required()}),Vt={id:"Login"},qt=function(){var e=Object(Ye.i)().params;Dt(Vt);var n=Object(Ye.g)(),t=zt(),r=t.login,a=t.loginStatus,i=Object(fn.a)({initialValues:{email:"",password:""},enableReinitialize:!0,onSubmit:function(t){var a,i=t.email,o=t.password;return null===(a=r(i,o))||void 0===a?void 0:a.then((function(t){var r,a,i,o,l,c,u,s,m;(null===(r=t.errors)||void 0===r?void 0:r.length)||((null===(a=t.data)||void 0===a||null===(i=a.login)||void 0===i||null===(o=i.currentUser)||void 0===o?void 0:o.id)?n.push("/user/".concat(null===(l=t.data)||void 0===l||null===(c=l.login)||void 0===c||null===(u=c.currentUser)||void 0===u?void 0:u.id)):n.push("/create-user/".concat((null===e||void 0===e?void 0:e.token)||(null===(s=t.data)||void 0===s||null===(m=s.login)||void 0===m?void 0:m.currentAccountId))))}))},validationSchema:$t});return Object(l.useEffect)((function(){var e;(null===(e=a.error)||void 0===e?void 0:e.message)&&d.c.error(a.error.graphQLErrors[0].message)}),[a.error]),c.a.createElement(Ot,{formik:i})},Ht=function(e){var n=e.children;e.to;return c.a.createElement(c.a.Fragment,null,n)},Wt=function(e){var n=e.children;return c.a.createElement(Ht,{to:"/"},n)},Kt=function(e){var n=e.children;e.to;return c.a.createElement(c.a.Fragment,null,n)},Qt=function(e){var n=e.children;return c.a.createElement(Kt,{to:"/login"},n)},Gt=function(e){var n,t="string"===typeof e.path?[e.path]:(null===(n=e.path)||void 0===n?void 0:n.length)?e.path:[],r=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=t[r],i=new URLSearchParams(n||{}).toString(),o=Object(Ye.e)(a,e);return i?"".concat(o,"?").concat(i):o};return{is:function(n){return!!Object(Ye.f)(n,e)},getSimpleLink:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!t||t.isLocal,o=r(e,n,a),l=i?o:(null===t||void 0===t?void 0:t.canonicalUrl)||"#?#",c={external:!i,url:l};return c},getPath:r}},Yt={exact:!0,path:"/login",component:function(e){e.match;return c.a.createElement(Wt,null,c.a.createElement(ul,{withoutHeader:!0},c.a.createElement(qt,null)))}},Xt=Gt(Yt),Jt={content:function(){return c.a.createElement(dn.Trans,{id:"You need to <0>login</0> for that",components:[c.a.createElement(pn.b,{to:Xt.getPath(void 0,void 0)})]})},opts:{type:"warning"}};function Zt(e,n,t){var r=Object(l.useCallback)(e,n),i=er(t);return Object(l.useCallback)(Object(o.a)(a.a.mark((function e(){var n=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i()?null:r.apply(void 0,n));case 1:case"end":return e.stop()}}),e)}))),[r,i])}var er=function(e){var n,t=un().me,r=!!(null===t||void 0===t||null===(n=t.user)||void 0===n?void 0:n.id)||localStorage.getItem("APOLLO#AUTH_TOKEN");return Object(l.useCallback)((function(){var n=Object(g.a)(Object(g.a)({},Jt),e),t=n.content,a=n.opts;return!r&&Object(d.c)(t,a),!r}),[r,e])},nr=t(847),tr=function(){return ie?null:c.a.createElement(nr.a,null)},rr=t(830),ar=t(676);function ir(){var e=Object(i.a)(["\n  font-family: ",";\n  border-radius: 4px;\n  height: ",";\n  min-width: ",";\n  background-color: ",';\n  background-image: url("','");\n  background-size: cover;\n  background-position: center center;\n  span {\n    height: 100%;\n    width: 100%;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    line-height: normal;\n    font-weight: 700;\n    ',";\n  }\n"]);return ir=function(){return e},e}var or={default:"48px",s:"32px",m:"140px",l:"200px"},lr=Pn(Nn.Box)(ir(),(function(e){return e.theme.fontFamily}),(function(e){return or[e.size]}),(function(e){return or[e.size]}),(function(e){return e.bg?"transparent":e.theme.colors.light}),(function(e){return e.bg}),(function(e){return e.theme.colors.mediumdark})),cr=function(e){var n=e.size,t=void 0===n?"default":n,r=e.src,a=e.initials;e.variant;return l.createElement(lr,{size:t,bg:r},a&&!r?l.createElement("span",null,a.substr(0,2).toUpperCase()):null)},ur=t(361),sr=t(674),mr=t(675),dr=t(824),pr=t(825),fr=t(826),vr=t(827),gr=t(828),br=t(829),hr=t(416),Er=t.n(hr);function xr(){var e=Object(i.a)(["\n  align-items: center;\n  cursor: pointer;\n  padding: 16px;\n  min-width: 100%;\n  width: max-content;\n  flex: 1;\n  &:first-of-type {\n    border-top-left-radius: 6px;\n    border-top-right-radius: 6px;\n  }\n  &:hover {\n    div {\n      color: "," !important;\n    }\n    background: "," !important;\n  }\n"]);return xr=function(){return e},e}function Or(){var e=Object(i.a)(["\n  text-align: left;\n  background: ",";\n  min-width: 210px;\n  display: block;\n  border-radius: 6px;\n  box-shadow: rgba(101, 119, 134, 0.2) 0 0 15px, rgba(101, 119, 134, 0.15) 0 0 3px 1px;\n  position: absolute;\n  top: ",";\n  bottom: ",";\n  left: auto;\n  right: ",";\n  z-index: 4050;\n"]);return Or=function(){return e},e}var jr=function(e){var n=e.orientation,t=e.close,r=e.children;return c.a.createElement(Er.a,{onOutsideClick:t},c.a.createElement(yr,{className:"dropdown",orientation:n},r))},yr=Pn(Nn.Box)(Or(),(function(e){return e.theme.colors.appInverse}),(function(e){return"top"===e.orientation?"8px":"auto"}),(function(e){return"bottom"===e.orientation?"4px":"auto"}),(function(e){return"bottom"===e.orientation?"0px":"10px"}));Pn(Nn.Flex)(xr(),(function(e){return e.theme.colors.mediumdark}),(function(e){return e.theme.colors.light}));function wr(){var e=Object(i.a)(["\n  line-height: 50px;\n  height: 50px;\n  cursor: pointer;\n  align-items: center;\n  & span {\n    display: inline-block;\n    margin-right: 8px;\n    .--rtl & {\n      margin-right: 0px;\n      margin-left: 8px;\n    }\n    & svg {\n      vertical-align: sub;\n    }\n  }\n  & a {\n    color: inherit !important;\n    text-decoration: none;\n  }\n  &:hover {\n    color: ",";\n  }\n"]);return wr=function(){return e},e}function kr(){var e=Object(i.a)(["\n  padding: 8px;\n  border-bottom: ",";\n"]);return kr=function(){return e},e}var Tr=Pn.div(kr(),(function(e){return e.lined?"1px solid #dadada":null})),Sr=Pn(Nn.Flex)(wr(),(function(e){return e.theme.colors.primary})),Cr=function(e){var n=e.userLink,t=e.toggleDropdown,r=Object(Ye.g)().push,a=zt().logout;return l.createElement(jr,{orientation:"top",close:t},l.createElement(Tr,{lined:!0},l.createElement(Sr,{variant:"link",onClick:function(){return r(n)}},l.createElement("span",null,l.createElement(ur.default,{size:16,color:"#333"})),l.createElement(Nn.Text,{variant:"text"},l.createElement(dn.Trans,{id:"My Profile"}))),l.createElement(Sr,null,l.createElement(Nn.Text,{variant:"text"},l.createElement("a",{href:"".concat(n,"/inventory")},l.createElement("span",null,l.createElement(sr.default,{size:16,color:"#333"})),l.createElement(dn.Trans,{id:"My Inventory"})))),l.createElement(Sr,null,l.createElement(Nn.Text,{variant:"text"},l.createElement("a",{href:"".concat(n)},l.createElement("span",null,l.createElement(mr.default,{size:16,color:"#333"})),l.createElement(dn.Trans,{id:"My Activity"})))),l.createElement(Sr,null,l.createElement(Nn.Text,{variant:"text"},l.createElement("a",{href:"".concat(n,"/starred")},l.createElement("span",null,l.createElement(dr.a,{size:16,color:"#333"})),l.createElement(dn.Trans,{id:"My favorites"}))))),l.createElement(Tr,null,l.createElement(Sr,{variant:"link",onClick:function(){return r("/settings")}},l.createElement("span",null,l.createElement(pr.a,{size:16,color:"#333"})),l.createElement(Nn.Text,{variant:"text"},l.createElement(dn.Trans,{id:"Settings"}))),l.createElement(Sr,{variant:"link"},l.createElement(Nn.Text,{variant:"text"},l.createElement("a",{href:"/terms",target:"_blank"},l.createElement("span",null,l.createElement(fr.a,{size:16})),l.createElement(dn.Trans,{id:"Code of Conduct"})))),l.createElement(Sr,{variant:"link",onClick:a},l.createElement("span",null,l.createElement(vr.a,{size:16,strokeWidth:1,color:"#333"})),l.createElement(Nn.Text,{variant:"text"},l.createElement(dn.Trans,{id:"Sign out"})))))},Nr=function(e){var n=e.toggleDropdown,t=e.createIntent,r=e.createResource;return l.createElement(jr,{orientation:"top",close:n},l.createElement(Tr,{lined:!0},l.createElement(Sr,{variant:"link",onClick:function(){return t()}},l.createElement("span",null,l.createElement(gr.a,{size:16,color:"#333"})),l.createElement(Nn.Text,{variant:"text"},l.createElement(dn.Trans,{id:"Create a new intent"}))),l.createElement(Sr,{variant:"link",onClick:function(){return r()}},l.createElement("span",null,l.createElement(br.a,{size:16,color:"#333"})),l.createElement(Nn.Text,{variant:"text"},l.createElement(dn.Trans,{id:"Create a new resource"})))))};function _r(){var e=Object(i.a)(["\n  margin-top: 9px;\n  cursor: pointer;\n"]);return _r=function(){return e},e}function Pr(){var e=Object(i.a)(["\n  border-bottom: ",";\n  height: 50px;\n  background: ",";\n"]);return Pr=function(){return e},e}function Ir(){var e=Object(i.a)(["\n  display: grid;\n  grid-template-columns: auto auto 1fr auto;\n  column-gap: 8px;\n"]);return Ir=function(){return e},e}function Lr(){var e=Object(i.a)(["\n  cursor: pointer;\n  height: 40px;\n  width: 40px;\n  min-width: 40px;\n  border-radius: 40px;\n  margin-top: 5px;\n  display: flex;\n  align-items: center;\n  &:hover {\n    background: ",";\n    svg {\n      stroke: ",";\n    }\n  }\n  svg {\n    stroke: ",";\n    margin: 0 auto;\n  }\n"]);return Lr=function(){return e},e}function Br(){var e=Object(i.a)(["\n  height: 30px;\n  line-height: 30px;\n  text-decoration: none;\n  padding: 0 8px;\n  background: ",";\n  color: ",";\n  border-radius: 4px;\n  margin-top: 10px;\n  &:hover {\n    background: ",";\n  }\n  a {\n    text-decoration: none;\n  }\n  div {\n    text-decoration: none;\n    color: ",";\n  }\n"]);return Br=function(){return e},e}function Rr(){var e=Object(i.a)(["\n  cursor: pointer;\n  display: flex;\n  flex: 0 0 120px;\n  order: 2;\n  justify-content: center;\n  align-items: center;\n  img {\n    min-width: 36px;\n    height: 36px;\n    border-radius: 36px;\n  }\n"]);return Rr=function(){return e},e}function Ar(){var e=Object(i.a)(["\n  cursor: pointer;\n  display: flex;\n  flex: 0 0 200px;\n  order: 2;\n  justify-content: flex-end;\n  align-items: center;\n  img {\n    min-width: 36px;\n    height: 36px;\n    border-radius: 36px;\n  }\n"]);return Ar=function(){return e},e}function zr(){var e=Object(i.a)(["\n    img {\n        margin-right: 0;\n    }\n  "]);return zr=function(){return e},e}function Ur(){var e=Object(i.a)(["\n  border-radius: 0px;\n  padding: 4px 8px;\n  border-radius: 4px;\n  &:hover {\n    background: ",";\n  }\n  ",";\n"]);return Ur=function(){return e},e}function Mr(){var e=Object(i.a)(["\n  ",";\n  color: ",";\n"]);return Mr=function(){return e},e}function Fr(){var e=Object(i.a)(["\n  color: ",";\n"]);return Fr=function(){return e},e}function Dr(){var e=Object(i.a)(["\n  display: flex;\n  margin-top: 7px;\n  input {\n    width: 100%;\n    border-radius: 4px;\n    max-width: 500px;\n    height: 36px;\n    margin: 0;\n    border: 0;\n    background: ",";\n  }\n"]);return Dr=function(){return e},e}function $r(){var e=Object(i.a)(["\n  max-width: 1096px;\n  margin: 0 auto;\n  display: grid;\n  grid-template-columns: 1fr 120px 200px;\n"]);return $r=function(){return e},e}var Vr=function(e){var n=Object(Ye.g)(),t=c.a.useContext(kn).i18n,r=Object(l.useState)(!1),a=Object(Xe.a)(r,2),i=a[0],o=a[1];return c.a.createElement(ea,null,c.a.createElement(qr,null,c.a.createElement(Zr,null,c.a.createElement(Jr,{onClick:function(){return n.goBack()}},c.a.createElement(rr.a,{size:"20"})),c.a.createElement(na,{to:e.user?"/":"/discover"},c.a.createElement(cr,{size:"s",src:Z})),c.a.createElement(Hr,null,c.a.createElement(vn.a,null),e.Search)),c.a.createElement(Yr,null,e.user&&c.a.createElement(Qr,{sx:{position:"relative"},alignItems:"center",onClick:o},c.a.createElement(Kr,{ml:2,variant:"link"},"Create"),c.a.createElement(Wr,null,c.a.createElement(ar.default,{size:"20"})),i&&c.a.createElement(Nr,{createResource:e.createResource,createIntent:e.createIntent,toggleDropdown:function(){o(!i)}}))),c.a.createElement(Gr,{alignItems:"center"},e.user?c.a.createElement(Qr,{sx:{position:"relative"},alignItems:"center",onClick:e.toggleDropdown},c.a.createElement(cr,{size:"s",initials:e.user.name.substring(0,2),src:e.user.icon,variant:"avatar"}),c.a.createElement(Kr,{ml:2,variant:"link"},e.user.name),c.a.createElement(Wr,{ml:2},c.a.createElement(ar.default,{size:"20"})),e.isOpenDropdown&&c.a.createElement(Cr,{userLink:e.user.link,toggleDropdown:e.toggleDropdown})):c.a.createElement(Nn.Box,null,c.a.createElement(Xr,null,c.a.createElement(pn.b,{to:"/login"},c.a.createElement(Nn.Text,{variant:"link"},t._("Sign in"))))))))},qr=Pn(Nn.Box)($r()),Hr=Pn(Nn.Box)(Dr(),(function(e){return e.theme.colors.app})),Wr=Pn(Nn.Box)(Fr(),(function(e){return e.theme.colors.medium})),Kr=Pn(Nn.Text)(Mr(),Object(Rn.c)("180px"),(function(e){return e.theme.colors.darker})),Qr=Pn(Nn.Flex)(Ur(),(function(e){return e.theme.colors.lighter}),f.a.lessThan("1280px")(zr())),Gr=Pn(Nn.Box)(Ar()),Yr=Pn(Nn.Box)(Rr()),Xr=Pn(Qr)(Br(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.lighter}),(function(e){return Object(Rn.b)("0.1",e.theme.colors.primary)}),(function(e){return e.theme.colors.lighter})),Jr=Pn(Nn.Box)(Lr(),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.mediumdark})),Zr=Pn(Nn.Box)(Ir()),ea=Pn(Nn.Box)(Pr(),(function(e){return e.theme.colors.border}),(function(e){return e.theme.colors.appInverse})),na=Pn(pn.b)(_r()),ta=t(143),ra=t(207),aa=t(220),ia=t(218),oa=t(677);function la(){var e=Object(i.a)(["\n    display: block;\n\n  "]);return la=function(){return e},e}function ca(){var e=Object(i.a)(["\n    width: 100%;\n  "]);return ca=function(){return e},e}function ua(){var e=Object(i.a)(["\n  ",";\n  border-bottom: 1px solid ",";\n  height: ",";\n  display: flex;\n  padding: 20px;\n  & textarea {\n    height: 120px;\n  }\n  & label {\n    width: 200px;\n    line-height: 40px;\n    ",";\n  }\n\n  ",";\n"]);return ua=function(){return e},e}function sa(){var e=Object(i.a)(["\n  padding: 0 16px;\n  padding-top: 16px;\n  // border-bottom: 1px solid ",";\n  & h5 {\n    text-align: center !important;\n    margin: 0 !important;\n  }\n"]);return sa=function(){return e},e}function ma(){var e=Object(i.a)(["\n  flex: 1;\n  ",";\n  padding-top: 13px;\n  position: relative;\n  input {\n    height: 40px;\n    background: white;\n    border-radius: 2px;\n    border: ",";\n  }\n  textarea {\n    padding-top: 16px;\n    line-height: 20px;\n    background: white;\n    border-radius: 2px;\n    border: ",";\n    font-family: ",";\n  }\n"]);return ma=function(){return e},e}function da(){var e=Object(i.a)(["\n  position: absolute;\n  top: 2px;\n  right: 8px;\n  text-transform: uppercase;\n  text-align: center;\n  background: #d0d9db;\n  padding: 2px 10px;\n  border-radius: 12px;\n  font-weight: 600;\n  color: #fff;\n  letter-spacing: 1px;\n"]);return da=function(){return e},e}function pa(){var e=Object(i.a)(["\n  ",";\n  padding: 20px 0;\n"]);return pa=function(){return e},e}function fa(){var e=Object(i.a)(["\n  ",";\n  padding: 0 16px;\n  & button {\n    float: right;\n  }\n"]);return fa=function(){return e},e}function va(){var e=Object(i.a)(["\n  font-family: ",";\n  min-height: 300px;\n  overflow-y: auto;\n  max-height: 96vh;\n  padding-bottom: 20px;\n"]);return va=function(){return e},e}function ga(){var e=Object(i.a)(["\n  ",";\n  font-family: ",";\n"]);return ga=function(){return e},e}function ba(){var e=Object(i.a)(["\n  position: absolute;\n  right: -10px;\n  top: -10px;\n  cursor: pointer;\n  background: ",";\n  width: 24px;\n  height: 24px;\n  border-radius: 40px;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  z-index: 999999999;\n"]);return ba=function(){return e},e}function ha(){var e=Object(i.a)(["\n  ",";\n  position: relative;\n"]);return ha=function(){return e},e}function Ea(){var e=Object(i.a)(["\n    width: auto;\n    left: 8px;\n    right: 8px;\n    margin: 0;\n  "]);return Ea=function(){return e},e}function xa(){var e=Object(i.a)(["\n  width: 700px;\n  box-shadow: 0 2px 8px 3px rgba(0, 0, 0, 0.3);\n  z-index: 9999999999;\n  background-color: #ffffff;\n  padding: 0;\n  margin: 40px auto;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  margin-left: -350px;\n  border-radius: 3px;\n  outline: none;\n  transform: translateY(-50%);\n\n  ",";\n"]);return xa=function(){return e},e}function Oa(){var e=Object(i.a)(["\n  margin-top: 4px;\n  z-index: 99999;\n  position: relative;\n"]);return Oa=function(){return e},e}function ja(){var e=Object(i.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(51, 60, 69, 0.95);\n  z-index: 9999999999999;\n  height: 100%;\n  justify-content: center;\n  overflow: auto;\n  cursor: pointer;\n"]);return ja=function(){return e},e}var ya=Pn.div(ja()),wa=Pn.div(Oa()),ka=Pn.div(xa(),f.a.lessThan("medium")(Ea())),Ta=Pn.div(ha(),Object(Rn.a)()),Sa=Pn(Nn.Box)(ba(),(function(e){return e.theme.colors.primary})),Ca=Pn.div(ga(),Object(Rn.a)(),(function(e){return e.theme.fontFamily})),Na=Pn.div(va(),(function(e){return e.theme.fontFamily})),_a=Pn(Nn.Box)(fa(),Object(Rn.a)()),Pa=Pn(_a)(pa(),Object(Rn.a)()),Ia=Pn.div(da()),La=Pn.div(ma(),Object(Rn.a)(),(function(e){return e.theme.colors.border}),(function(e){return e.theme.colors.border}),(function(e){return e.theme.fontFamily})),Ba=Pn.div(sa(),(function(e){return e.theme.colors.lighter})),Ra=Pn.div(ua(),Object(Rn.a)(),(function(e){return e.theme.colors.lighter}),(function(e){return e.big?"180px":"auto"}),f.a.lessThan("medium")(ca()),f.a.lessThan("medium")(la())),Aa=function(e){Object(aa.a)(t,e);var n=Object(ia.a)(t);function t(){return Object(ta.a)(this,t),n.apply(this,arguments)}return Object(ra.a)(t,[{key:"componentDidMount",value:function(){t.el.style.display="block"}},{key:"componentWillUnmount",value:function(){t.el.style.display="none"}},{key:"render",value:function(){return m.a.createPortal(this.props.children,t.el)}}]),t}(c.a.Component);Aa.el=function(){var e=document.createElement("div");return e.setAttribute("id","modalPortal"),e.style.display="none",document.body.appendChild(e),e}();var za=function(e){var n=e.closeModal,t=e.children,r=Object(l.useCallback)((function(){return n()}),[n]);return c.a.createElement(Aa,null,c.a.createElement(ya,{onClick:r}),c.a.createElement(ka,null,c.a.createElement(Ta,null,c.a.createElement(Sa,{onClick:r},c.a.createElement(oa.default,{color:"#fff",size:16}))),c.a.createElement(Ca,null,t)))},Ua=["imageurl","need a file or an url",function(e){return!e||("string"===typeof e||e instanceof File)}];function Ma(){var e=Object(i.a)(["\n    query unitsPages {\n  unitsPages(limit: 30) {\n    edges {\n      id\n      symbol\n      label\n    }\n  }\n}\n    "]);return Ma=function(){return e},e}function Fa(){var e=Object(i.a)(["\n    query economicEventsFiltered($action: ID!) {\n  economicEventsFiltered(action: $action) {\n    id\n    provider {\n      id\n      name\n      displayUsername\n    }\n    receiver {\n      id\n      name\n      displayUsername\n    }\n  }\n}\n    "]);return Fa=function(){return e},e}function Da(){var e=Object(i.a)(["\n    query spatialThingsPages {\n  spatialThingsPages(limit: 15) {\n    edges {\n      id\n      name\n      lat\n      long\n    }\n  }\n}\n    "]);return Da=function(){return e},e}var $a=C()(Da());function Va(e){return N.d($a,e)}C()(Fa());var qa=C()(Ma());function Ha(e){return N.d(qa,e)}function Wa(){var e=Object(i.a)(["\n    mutation createSpatialThing($lat: Float, $long: Float, $name: String!, $note: String) {\n  createSpatialThing(spatialThing: {lat: $lat, long: $long, name: $name, note: $note}) {\n    spatialThing {\n      id\n      lat\n      long\n      name\n      note\n    }\n  }\n}\n    "]);return Wa=function(){return e},e}var Ka=C()(Wa());var Qa=function(){var e,n=N.c(Ka,e),t=Object(Xe.a)(n,2),r=t[0],i=t[1],c=Zt(function(){var e=Object(o.a)(a.a.mark((function e(n){var t,o,l,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.name,o=n.lat,l=n.long,c=n.note,!i.loading){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",r({variables:{lat:o,long:l,name:t,note:c},refetchQueries:[(a={},u=void 0,{query:$a,variables:a,context:u})]}));case 4:case"end":return e.stop()}var a,u}),e)})));return function(n){return e.apply(this,arguments)}}(),[r,i]);return Object(l.useMemo)((function(){return{createLocation:c}}),[c])};function Ga(){var e=Object(i.a)(["\n  color: ",";\n"]);return Ga=function(){return e},e}function Ya(){var e=Object(i.a)(["\n  color: ",";\n"]);return Ya=function(){return e},e}function Xa(){var e=Object(i.a)(["\n  text-align: center;\n  display: block;\n"]);return Xa=function(){return e},e}function Ja(){var e=Object(i.a)(["\n  width: 100%;\n  position: relative;\n  padding: 16px;\n  ",";\n"]);return Ja=function(){return e},e}function Za(){var e=Object(i.a)(["\n      margin-top: 8px;\n    "]);return Za=function(){return e},e}function ei(){var e=Object(i.a)(["\n  flex: 1;\n  position: relative;\n  ",";\n  & h2 {\n    margin: 0;\n    line-height: 32px !important;\n    color: ",";\n    ",";\n  }\n  & p {\n    margin: 0;\n    color: rgba(0, 0, 0, 0.8);\n    margin-top: 8px;\n    color: ",";\n  }\n  .--rtl & {\n    margin-right: 16px;\n    margin-left: 0px;\n  }\n"]);return ei=function(){return e},e}function ni(){var e=Object(i.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: center;\n\n  & > div {\n    width: calc((100% - 20px) / 2);\n  }\n"]);return ni=function(){return e},e}function ti(){var e=Object(i.a)(["\n      display: block;\n    "]);return ti=function(){return e},e}function ri(){var e=Object(i.a)(["\n  display: flex;\n  ",";\n"]);return ri=function(){return e},e}function ai(){var e=Object(i.a)(["\n      min-Height: unset;\n      height: auto;\n    "]);return ai=function(){return e},e}function ii(){var e=Object(i.a)(["\n      flex-direction: column;\n      align-items: unset;\n    "]);return ii=function(){return e},e}function oi(){var e=Object(i.a)(["    \n          flex-basis: 100%;\n          order: 1\n        "]);return oi=function(){return e},e}function li(){var e=Object(i.a)(["    \n          flex-basis: 100%;\n          order: 2\n        "]);return li=function(){return e},e}function ci(){var e=Object(i.a)(["    \n            flex-direction: column;\n        "]);return ci=function(){return e},e}function ui(){var e=Object(i.a)(["\n  position: relative;\n  padding-top: 0;\n\n  input {\n    background: #fbfbfb;\n    border: 0;\n    font-weight: 700;\n    width: 100%;\n\n    &:focus {\n      outline: none;\n    }\n  }\n\n  textarea {\n    padding-top: 6px;\n    background: #fbfbfb;\n    border-radius: 2px;\n    border: 0;\n    height: 120px;\n    resize: none;\n  }\n\n  .d-flex {\n    display: flex;\n    justify-content: space-between;\n    align-items: stretch;\n\n    ",";\n\n    .item_col-6 {\n      flex-basis: calc(50% - 5px);\n    }\n\n    .align-center {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n\n    .item_photo {\n      margin-bottom: 10px;\n      flex-basis: 140px;\n      height: 140px;\n\n      .bopsip {\n        height: 140px !important;\n      }\n\n      ",";\n    }\n    .item_info {\n      margin-bottom: 10px;\n      flex-basis: calc(100% - 160px);\n\n      ",";\n    }\n  }\n  .d-flex-image.d-flex {\n    ",";\n  }\n  .dropzone {\n    ",";\n  }\n"]);return ui=function(){return e},e}var si=Pn(La)(ui(),f.a.lessThan("medium")(ci()),f.a.lessThan("medium")(li()),f.a.lessThan("medium")(oi()),f.a.lessThan("medium")(ii()),f.a.lessThan("medium")(ai())),mi=(Pn.div(ri(),f.a.lessThan("medium")(ti())),Pn.div(ni())),di=Pn.div(ei(),Object(Rn.a)(),(function(e){return e.theme.colors.mediumdark}),f.a.lessThan("medium")(Za()),(function(e){return e.theme.colors.mediumdark})),pi=Pn(Nn.Flex)(Ja(),f.a.lessThan("medium")(Xa())),fi=(Pn(Nn.Text)(Ya(),(function(e){return e.theme.colors.mediumdark})),Pn(Nn.Text)(Ga(),(function(e){return e.theme.colors.mediumdark})));function vi(){var e=Object(i.a)(["\n  width: 100%;\n  margin-bottom: 16px;\n\n  > button {\n    width: 100%;\n  }\n\n  .event_btn {\n    height: 40px;\n    text-transform: uppercase;\n    font-family: 'Arial', sans-serif;\n    font-weight: 600;\n    letter-spacing: 1px;\n  }\n"]);return vi=function(){return e},e}function gi(){var e=Object(i.a)(["\n  .d-flex {\n    margin-top: 10px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    & > div {\n      width: calc(50% - 5px);\n    }\n\n    button {\n      width: 100%;\n      background: #cdcdcd;\n    }\n  }\n"]);return gi=function(){return e},e}function bi(){var e=Object(i.a)(["\n  display: block;\n  font-size: 10px;\n  color: #aaa;\n  font-family: 'Arial', sans-serif;\n  text-transform: uppercase;\n  margin-bottom: 2px;\n"]);return bi=function(){return e},e}function hi(){var e=Object(i.a)(["\n  display: block;\n  position: relative;\n"]);return hi=function(){return e},e}function Ei(){var e=Object(i.a)(["\n  margin: 0 10px 12px 0;\n"]);return Ei=function(){return e},e}Pn("div")(Ei());var xi=Pn("div")(hi()),Oi=Pn("label")(bi()),ji=(Pn("form")(gi()),Pn.div(vi()),t(288));function yi(){var e=Object(i.a)(["\n  margin-bottom: 10px;\n  position: relative;\n  z-index: 100;\n  small {\n    display: block;\n    padding-top: 6px;\n    font-size: 10px;\n    color: #aaa;\n  }\n [class*=\"css-2b097c-container\"] > div > div,\n [class*=\"css-2b097c-container\"] > div {\n    display: flex;\n    height: 36px;\n    margin: 0;\n    font-family: 'Arial', sans-serif;\n    font-weight: 600;\n    font-size: 14px;\n    color: #666666;\n    letter-spacing: 1px;\n    text-transform: uppercase;\n  }\n \n  .css-2b097c-container > div {\n    border-color: #05244f !important;\n    box-shadow: none;\n\n    small {\n      display: none;\n    }\n  }\n  \n  .zenpub__menu > div {\n    display: block !important;\n    background: #fff;\n    min-height: 120px;\n    min-width: 100%;\n    padding: 20px;\n    z-index: 200;\n    box-shadow: 0px 2px 4px 0px #0000001f;\n  }\n  .zenpub__menuList > * ,\n  .zenpub__menuList > * > * {\n     display: block;\n  }\n  .zenpub__input {\n    width: 100%;\n    height: 36px;\n    margin: 0;\n  }\n  .select__control {\n    border: 1px solid #05244f;\n    border-radius: 4px;\n    height: 40px;\n  }\n  cursor: 'pointer';\n  }\n"]);return yi=function(){return e},e}var wi=function(e){var n=e.formik,t=e.onSelect;return l.createElement(ki,null,l.createElement(ji.a,{selectProps:{placeholder:"Please add your city and country location",onChange:function(e){Object(ji.b)(e.label).then((function(e){e[0]&&(t(!0),n.handleChange({target:{name:"name",value:e[0].formatted_address}}),n.handleChange({target:{name:"lat",value:e[0].geometry.location.lat()}}),n.handleChange({target:{name:"long",value:e[0].geometry.location.lng()}}))}))},classNamePrefix:"zenpub"},onLoadFailed:function(e){return console.error("Could not inject Google script",e)},apiKey:"AIzaSyBlbsdiikbCINjPLwD7NNwtsA8-vTcrr0g"}))},ki=Pn("div")(yi());function Ti(){var e=Object(i.a)(["\n  border-radius: 4px;\n  line-height: 26px;\n  padding: 8px 16px;\n  min-height: 58px;\n  font-family: ",";\n  font-weight: 600;\n"]);return Ti=function(){return e},e}var Si=Pn(Nn.Box)(Ti(),(function(e){return e.theme.fontFamily})),Ci=function(e){var n=e.variant,t=e.children;return l.createElement(Si,{variant:n||"info"},t)};function Ni(){var e=Object(i.a)(["\n  background-color: transparent !important;\n  color: #ff5a5f !important;\n  text-align: right !important;\n  line-height: 1 !important;\n"]);return Ni=function(){return e},e}function _i(){var e=Object(i.a)(["\n  textarea,\n  input {\n    opacity: ",";\n    cursor: ",";\n    border: 1px solid #05244f;\n    border-radius: 4px;\n    height: 40px;\n    display: block;\n    width: 100%;\n    box-sizing: border-box;\n    padding: 0 10px;\n    font-family: 'Arial', sans-serif;\n    font-weight: 600;\n    font-size: 14px;\n    color: #666666;\n    letter-spacing: 1px;\n    margin-bottom: 10px;\n  }\n  textarea {\n    padding: 10px;\n    height: 120px;\n\n    &#eventNote {\n      height: 60px;\n    }\n  }\n"]);return _i=function(){return e},e}var Pi=function(e){var n=e.id,t=e.name,r=e.type,a=void 0===r?"text":r,i=e.readOnly,o=void 0!==i&&i,l=e.onChange,u=e.placeholder,s=void 0===u?"":u,m=e.label,d=e.value,p=void 0===d?"":d,f=e.hint,v=void 0===f?{class:"error",value:""}:f,g=e.disabled,b=void 0!==g&&g;return c.a.createElement(Ii,{disabled:b},c.a.createElement("label",{htmlFor:n},m),"textarea"!==a&&c.a.createElement("input",{id:n,type:a,name:t,readOnly:o,placeholder:s,value:p,onChange:l,disabled:b}),"textarea"===a&&c.a.createElement("textarea",{id:n,name:t,placeholder:s,value:p,onChange:l,disabled:b}),c.a.createElement("span",{className:"hint ".concat(v.class)},v.value))},Ii=Pn("div")(_i(),(function(e){return!0===e.disabled?"0.7":"1"}),(function(e){return!0===e.disabled?"default":"text"})),Li=Pn(Ci)(Ni()),Bi=t(850),Ri=t(851),Ai=t(832),zi=t(852),Ui=(t(678),t(59)),Mi=t(831),Fi=t(417);function Di(){var e=Object(i.a)(["\n    height: 200px;\n  "]);return Di=function(){return e},e}function $i(){var e=Object(i.a)(["\n  width: 100%;\n  height: 400px;\n  position: relative;\n  z-index: 0;\n\n  ",";\n"]);return $i=function(){return e},e}var Vi=t.n(Fi).a.renderToString(c.a.createElement(Mi.a,{size:"30",color:Qe.colors.primary,fill:Qe.colors.secondary})),qi=Object(Ui.divIcon)({className:"maker--pin",html:Vi,iconSize:[30,30]}),Hi=function(e){var n=e.center,t=e.zoom,r=void 0===t?20:t,a=e.markers,i=void 0===a?[]:a,o=e.tileAttribution,l=void 0===o?'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors':o,u=function(e,n){return n||(1===e.length?e[0].position:e.length>1?new Ui.LatLngBounds(e.map((function(e){var n=e.position;return[n.lat,n.lng]}))).getCenter():void 0)}(i,n);return c.a.createElement(Wi,null,u&&c.a.createElement(Bi.a,{center:u,zoom:r,style:{height:"100%",width:"100%"}},c.a.createElement(Ri.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:l}),i.map((function(e,n){var t=e.position,r=e.popup;return c.a.createElement(Ai.a,{icon:qi,key:n,position:t},r&&c.a.createElement(zi.a,null,r))}))))},Wi=p.default.div($i(),f.a.lessThan("medium")(Di()));function Ki(){var e=Object(i.a)(["\n         flex-basis: unset;\n      "]);return Ki=function(){return e},e}function Qi(){var e=Object(i.a)(["\n        display: block;\n      "]);return Qi=function(){return e},e}function Gi(){var e=Object(i.a)(["\n  margin-bottom: 10px;\n  \n  .d-flex {\n    display: flex;\n    justify-content: space-between;\n    align-items: stretch;\n    ",";\n\n    .item_col-6 {\n      flex-basis: calc(50% - 5px);\n      ",";\n    }\n    \n    .coordinate-container {\n      display: flex;\n      justify-content: space-between;\n      align-items: stretch;\n    }\n    .coordinate {\n      flex-basis: calc(50% - 5px);\n    }\n  }\n  small {\n    display: block;\n    padding-top: 6px;\n    font-size: 10px;\n    color: #aaa;\n  }\n [class*=\"css-2b097c-container\"] > div > div,\n [class*=\"css-2b097c-container\"] > div {\n    display: flex;\n    height: 36px;\n    margin: 0;\n    font-family: 'Arial', sans-serif;\n    font-weight: 600;\n    font-size: 14px;\n    color: #666666;\n    letter-spacing: 1px;\n    text-transform: uppercase;\n  }\n \n  .css-2b097c-container > div {\n    border-color: #05244f !important;\n    box-shadow: none;\n\n    small {\n      display: none;\n    }\n  }\n  \n  .zenpub__menu {\n    background: #fff;\n    max-height: 200px;\n    padding: 20;\n    box-shadow: 0px 2px 4px 0px #0000001f;\n  }\n  \n  .zenpub__input {\n    width: 100%;\n    height: 36px;\n    margin: 0;\n  }\n  .select__control {\n    border: 1px solid #05244f;\n    border-radius: 4px;\n    height: 40px;\n  }\n  cursor: 'pointer';\n  }\n"]);return Gi=function(){return e},e}var Yi,Xi=function(e){var n=e.formik,t=Object(l.useState)(!1),r=Object(Xe.a)(t,2),a=r[0],i=r[1];return l.createElement(Na,null,l.createElement("form",{onSubmit:function(e){e.preventDefault(),n.handleSubmit()}},l.createElement(Ba,null,l.createElement(Nn.Heading,{m:2},l.createElement(dn.Trans,{id:"{0}",values:{0:Object(dn.i18nMark)("Create Location")}}))),l.createElement(pi,null,l.createElement(di,null,l.createElement(Ji,null,l.createElement(si,null,l.createElement(wi,{formik:n,onSelect:i})),a&&l.createElement("div",{className:"d-flex"},l.createElement("div",{className:"item_col-6"},l.createElement(Hi,{center:{lat:n.values.lat,lng:n.values.long},zoom:12})),l.createElement("div",{className:"item_col-6"},l.createElement(xi,null,l.createElement(Oi,null,Object(dn.i18nMark)("Name")),l.createElement(Pi,{type:"text",id:"name",name:"name",disabled:n.isSubmitting,onChange:n.handleChange,placeholder:Object(dn.i18nMark)("Location name"),value:n.values.name}),l.createElement(Ia,null,60-n.values.name.length)),n.errors.name&&l.createElement(Nn.CustomAlert,{variant:"negative"},n.errors.name),l.createElement("div",{className:"coordinate-container"},l.createElement("div",{className:"coordinate"},l.createElement(xi,null,l.createElement(Oi,null,Object(dn.i18nMark)("Lat")),l.createElement(Pi,{type:"text",id:"lat",name:"lat",readOnly:!0,disabled:n.isSubmitting,onChange:n.handleChange,placeholder:Object(dn.i18nMark)("Name"),value:n.values.lat}))),l.createElement("div",{className:"coordinate"},l.createElement(xi,null,l.createElement(Oi,null,Object(dn.i18nMark)("Long")),l.createElement(Pi,{type:"text",id:"long",name:"long",readOnly:!0,disabled:n.isSubmitting,onChange:n.handleChange,value:n.values.long})))),l.createElement(xi,null,l.createElement(Oi,null,"note"),l.createElement(Pi,{id:"note",type:"textarea",name:"note",onChange:n.handleChange,placeholder:Object(dn.i18nMark)("Note"),value:n.values.note})),n.errors.note&&l.createElement(Nn.CustomAlert,{variant:"negative"},n.errors.note),l.createElement(Mn,{variant:"primary",type:"submit",style:{width:"100%"}},l.createElement(dn.Trans,{id:"Create Location"})))))))))},Ji=Pn("div")(Gi(),f.a.lessThan("medium")(Qi()),f.a.lessThan("medium")(Ki())),Zi=(Rt.object({name:Rt.string().min(2).max(60).required(),summary:Rt.string().max(500),icon:(Yi=Rt.mixed()).test.apply(Yi,Object(v.a)(Ua))}),function(e){var n=e.done,t=Qa().createLocation,r=Rt.object().shape({name:Rt.string().max(60,"Too Long!").required("Required"),note:Rt.string().max(500,"Too Long!")}),a={formik:Object(fn.a)({initialValues:{name:"",lat:"",long:"",note:""},validateOnChange:!1,validateOnBlur:!1,validationSchema:r,enableReinitialize:!0,onSubmit:function(e){return t({name:e.name,lat:e.lat,long:e.long,note:e.note}).then((function(e){e.errors||(n(!1),d.c.success("Location was created",{position:"top-right",transition:d.a,autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}))})).catch((function(e){return console.log(e)}))}})};return c.a.createElement(Xi,a)}),eo=t(153);function no(){var e=Object(i.a)(["\n    mutation createEconomicEventAndExistResource($id: ID!, $action: ID!, $provider: ID!, $receiver: ID!, $hasUnit: ID!, $hasNumericalValue: Float!, $eventNote: String, $hasPointInTime: DateTime) {\n  createEconomicEvent(event: {resourceInventoriedAs: $id, note: $eventNote, action: $action, provider: $provider, receiver: $receiver, resourceQuantity: {hasUnit: $hasUnit, hasNumericalValue: $hasNumericalValue}, hasPointInTime: $hasPointInTime}) {\n    economicEvent {\n      id\n      hasPointInTime\n    }\n    economicResource {\n      id\n    }\n  }\n}\n    "]);return no=function(){return e},e}function to(){var e=Object(i.a)(["\n    mutation createEconomicEventAndNewResource($note: String, $atLocation: ID, $action: ID!, $provider: ID!, $receiver: ID!, $hasUnit: ID!, $hasNumericalValue: Float!, $name: String, $image: URI, $eventNote: String, $hasPointInTime: DateTime) {\n  createEconomicEvent(event: {action: $action, atLocation: $atLocation, provider: $provider, receiver: $receiver, note: $eventNote, hasPointInTime: $hasPointInTime, resourceQuantity: {hasUnit: $hasUnit, hasNumericalValue: $hasNumericalValue}}, newInventoriedResource: {note: $note, name: $name, image: $image, currentLocation: $atLocation}) {\n    economicEvent {\n      id\n    }\n    economicResource {\n      id\n    }\n  }\n}\n    "]);return to=function(){return e},e}var ro=C()(to());var ao=C()(no());var io=function(){var e,n=N.c(ro,e),t=Object(Xe.a)(n,2),r=t[0],i=t[1],c=Zt(function(){var e=Object(o.a)(a.a.mark((function e(n){var t,o,l,c,u,s,m,d,p,f,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.name,o=n.note,l=n.eventNote,c=n.hasPointInTime,u=n.action,s=n.atLocation,m=n.provider,d=n.receiver,p=n.hasUnit,f=n.hasNumericalValue,v=n.image,console.log({createResourceMutStatus:i}),console.log({name:t,note:o,eventNote:l,hasPointInTime:c,atLocation:s,action:u,provider:m,receiver:d,hasUnit:p,hasNumericalValue:f,image:v}),!i.loading){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",r({variables:{name:t,note:o,eventNote:l,hasPointInTime:c,atLocation:s,action:u,provider:m,receiver:d,hasUnit:p,hasNumericalValue:f,image:v}}));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[r]);return Object(l.useMemo)((function(){return{create:c}}),[c])},oo=t(216);function lo(){var e=Object(i.a)(["\n  margin-bottom: 10px;\n  small {\n    display: block;\n    padding-top: 6px;\n    font-size: 10px;\n    color: #aaa;\n  }\n  b,\n  .select__value-container,\n  .select__single-value {\n    display: block;\n    font-family: 'Arial', sans-serif;\n    font-weight: 600;\n    font-size: 14px;\n    color: #666666;\n    letter-spacing: 1px;\n  }\n  .select__control > div {\n    height: 36px;\n  }\n  .select__value-container > div:not(.select__single-value) {\n    height: 36px;\n    padding: 0;\n    margin: 0;\n    line-height: 36px;\n  }\n  .select__value-container {\n    height: 36px;\n    padding: 0 10px;\n  }\n  .select__control--menu-is-open,\n  .select__control--is-focused {\n    border-color: #05244f !important;\n    box-shadow: none;\n\n    small {\n      display: none;\n    }\n  }\n  .select__control {\n    border: 1px solid #05244f;\n    border-radius: 4px;\n    height: 40px;\n  }\n  ",";\n  margin: '0 10px 0 0 ';\n\n  cursor: 'pointer';\n  .select__option--is-disabled {\n    opacity: 0.5;\n  }\n  &:hover && not:['disabled'] {\n    background: ",";\n  }\n"]);return lo=function(){return e},e}var co=Pn(oo.a)(lo(),Object(Rn.e)("background, 0.2s"),(function(e){return"primary"===e.variant||"danger"===e.variant?Object(Rn.b)("0.1",e.theme.colors.primary):Object(Rn.d)("0.3",e.theme.colors.primary)})),uo=function(e){var n=e.onInputChange,t=e.onSelect,r=e.disabled,a=void 0!==r&&r,i=e.variant,o=e.placeholder,u=void 0===o?"":o,s=e.name,m=e.options,d=e.id,p=e.value,f=e.components,v=e.noChange,g=e.openMenuOnClick,b=Object(l.useState)(!1),h=Object(Xe.a)(b,2),E=h[0],x=h[1],O=m?m.map((function(e){return e.isDisabled?{id:e.id,value:e.label,isDisabled:e.isDisabled,label:c.a.createElement("span",null,c.a.createElement("b",null,e.label),e.note&&c.a.createElement("small",null,e.note))}:{id:e.id,value:e.label,label:c.a.createElement("span",null,c.a.createElement("b",null,e.label),e.note&&c.a.createElement("small",null,e.note),e.displayUsername&&e.id===p.id&&c.a.createElement("small",null,e.displayUsername))}})):[];return c.a.createElement(co,{onChange:function(e){t(s,{id:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.value,displayUsername:null===e||void 0===e?void 0:e.displayUsername}),x(!1)},variant:i,placeholder:u,disabled:a,isOptionDisabled:function(e){return e.isDisabled},onInputChange:function(e){!v&&e.length>2?(n&&n(s,e),x(!0)):!v&&e.length<3&&x(!1)},className:"basic-single",classNamePrefix:"select",value:O.find((function(e){return e.id===(null===p||void 0===p?void 0:p.id)}))||null,isDisabled:!1,isLoading:!1,isClearable:!0,isRtl:!1,isSearchable:!0,name:s,id:d,options:O,components:f,openMenuOnClick:g,menuIsOpen:E,onFocus:function(){v&&x(!0)},onBlur:function(){x(!1)}})},so=function(e,n){if("string"===typeof n)return(null===e||void 0===e?void 0:e.length)?e.map((function(e){return{id:e.id,label:e[n],displayUsername:e.displayUsername}})):[];var t=function(e){var t="".concat(n.template);return n.variables.forEach((function(n){t=t.replace(n,"".concat(e[n]))})),t};return(null===e||void 0===e?void 0:e.length)?e.map((function(e){return{id:e.id,label:t(e)}})):[]},mo=t(426),po=t(833),fo=t(834);function vo(){var e=Object(i.a)(["\n    display: block;\n    border-radius: 4px;\n    height: inherit;\n    background-size: cover;\n}\n"]);return vo=function(){return e},e}function go(){var e=Object(i.a)(["\n  width: 100%;\n  box-sizing: border-box;\n  position: relative;\n  height: 114px;\n  object-fit: cover;\n  &:after {\n    position: absolute;\n    content: '';\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    border-radius: 4px;\n    display: block;\n    background: rgba(0, 0, 0, 0.3);\n  }\n  &:hover {\n    &:after {\n      background: rgba(0, 0, 0, 0.1);\n    }\n  }\n  svg {\n    width: 40px;\n  }\n"]);return go=function(){return e},e}function bo(){var e=Object(i.a)(["\n  padding: 20px 10px;\n  border-radius: 4px;\n  background: rgba(0, 0, 0, 0.3);\n\n  &:hover {\n    background: rgba(0, 0, 0, 0.2);\n  }\n"]);return bo=function(){return e},e}function ho(){var e=Object(i.a)(["\n  padding: 20px 10px;\n  border-radius: 4px;\n"]);return ho=function(){return e},e}function Eo(){var e=Object(i.a)(["\n  width: 40px;\n  height: 40px;\n  align-items: center;\n  border-radius: 100px;\n  position: absolute;\n  left: 50%;\n  margin-left: -20px;\n  top: 50%;\n  margin-top: -20px;\n  z-index: 9;\n"]);return Eo=function(){return e},e}function xo(){var e=Object(i.a)(["\n  margin-bottom: 0px;\n  margin-top: 5px;\n  font-weight: bold;\n  text-align: center;\n  font-style: italic;\n"]);return xo=function(){return e},e}function Oo(){var e=Object(i.a)(["\n  background: ",";\n  border-radius: 4px;\n  text-align: center;\n  cursor: pointer;\n  box-sizing: border-box;\n  height: inherit;\n  margin: 0px;\n  &.active {\n    border: 1px dashed ",";\n  }\n  .;\n"]);return Oo=function(){return e},e}var jo=function(e){var n=e.initialUrl,t=e.uploadType,r=e.onFileSelect,a=e.filePattern,i=Object(l.useState)(),o=Object(Xe.a)(i,2),u=o[0],s=o[1],m=Object(l.useState)(),d=Object(Xe.a)(m,2),p=d[0],f=d[1];Object(l.useEffect)((function(){return function(){u&&URL.revokeObjectURL(u)}}),[u]),Object(l.useEffect)((function(){s(n)}),[n]);var v=Object(mo.a)({accept:a,onDrop:function(e){var n=e[0];if(!n)return r(void 0),void f(void 0);r(n),f({file:n,localUrl:URL.createObjectURL(n)})}}),g=v.getRootProps,b=v.getInputProps,h=v.isDragActive;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Nn.Box,Object.assign({sx:{height:"100%"}},g({className:"dropzone"})),c.a.createElement(yo,{className:h?"active":"none"},p||"resource"!==t?null:c.a.createElement(Co,{className:"thumb"},c.a.createElement(ko,null,c.a.createElement(po.a,{size:30,strokeWidth:1,color:"rgba(250,250,250, .5)"}))),"resource"!==t?c.a.createElement(Co,{className:"thumb"},c.a.createElement(ko,null,c.a.createElement(fo.a,{size:30,strokeWidth:1,color:"rgba(250,250,250, .5)"})),c.a.createElement(No,{style:{backgroundImage:'url("'.concat(p?p.localUrl:u,'")')}})):null,p&&"resource"===t?-1===p.file.type.indexOf("image")?c.a.createElement(So,null,c.a.createElement(po.a,{size:20}),p&&c.a.createElement(wo,null,p.file.name)):c.a.createElement(To,null,c.a.createElement(Co,null,c.a.createElement(ko,null,c.a.createElement(fo.a,{size:30,strokeWidth:1,color:"rgba(250,250,250, .5)"})),c.a.createElement(No,{style:{backgroundImage:'url("'.concat(p.localUrl,'")')}})),c.a.createElement(wo,null,p&&p.file.name)):null,c.a.createElement("input",b()))))},yo=Pn.div(Oo(),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.colors.primary})),wo=Pn.p(xo()),ko=Pn(Nn.Flex)(Eo()),To=Pn.div(ho()),So=Pn.div(bo()),Co=Pn.div(go()),No=Pn(Nn.Box)(vo()),_o=t(211),Po=t.n(_o);t(362);function Io(){var e=Object(i.a)(["\n  text-align: right;\n  margin: 10px 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: flex-end;\n\n  & > * {\n    padding: 5px 0;\n  }\n"]);return Io=function(){return e},e}var Lo=function(e){var n=e.title,t=e.formik,r=e.done,a=e.unitPages,i=e.actionList,o=e.spatialThings,l=e.providerList,u=e.receiverList,s=e.toggleCreateLocation,m=e.setAction,p=void 0===m?function(){}:m,f=c.a.useState([]),v=Object(Xe.a)(f,2),b=v[0],h=v[1],E=c.a.useState([]),x=Object(Xe.a)(E,2),O=x[0],j=x[1],y=c.a.useState([]),w=Object(Xe.a)(y,2),k=w[0],T=w[1],S=c.a.useState(new Date),C=Object(Xe.a)(S,2),N=C[0],_=C[1],P=c.a.useCallback((function(e){return t.setValues(Object(g.a)(Object(g.a)({},t.values),{},{image:e}))}),[t]),I=un().me;c.a.useEffect((function(){if(null===a||void 0===a?void 0:a.length){var e=a.map((function(e){return{id:e.id,label:"".concat(e.label," / ").concat(e.symbol)}}));T(e)}}),[a]),c.a.useEffect((function(){var e,n,r,a;h(so(l,{variables:["name","displayUsername"],template:"name / displayUsername"})),j(so(u,{variables:["name","displayUsername"],template:"name / displayUsername"})),t.setValues(Object(g.a)(Object(g.a)({},t.values),{},{hasPointInTime:(new Date).toISOString(),provider:{id:(null===l||void 0===l||null===(e=l.find((function(e){var n;return e.id===(null===I||void 0===I||null===(n=I.user)||void 0===n?void 0:n.id)})))||void 0===e?void 0:e.id)||"",label:(null===l||void 0===l||null===(n=l.find((function(e){var n;return e.id===(null===I||void 0===I||null===(n=I.user)||void 0===n?void 0:n.id)})))||void 0===n?void 0:n.name)||""},receiver:{id:(null===u||void 0===u||null===(r=u.find((function(e){var n;return e.id===(null===I||void 0===I||null===(n=I.user)||void 0===n?void 0:n.id)})))||void 0===r?void 0:r.id)||"",label:(null===u||void 0===u||null===(a=u.find((function(e){var n;return e.id===(null===I||void 0===I||null===(n=I.user)||void 0===n?void 0:n.id)})))||void 0===a?void 0:a.name)||""}}))}),[l,u]),c.a.useEffect((function(){T(so(null===a||void 0===a?void 0:a.edges,{variables:["label","symbol"],template:"label / symbol"}))}),[a]);var L="string"===typeof t.values.image?t.values.image:"";return c.a.createElement(Na,null,c.a.createElement("form",{onSubmit:t.handleSubmit},c.a.createElement(Ba,null,c.a.createElement(Nn.Heading,{m:2},c.a.createElement(dn.Trans,{id:"{title}",values:{title:n}}))),c.a.createElement(pi,null,c.a.createElement(di,null,c.a.createElement(si,null,c.a.createElement("div",{className:"d-flex"},c.a.createElement(Nn.Box,{sx:{width:"140",height:"140"},className:"item_photo"},c.a.createElement(jo,{initialUrl:L,onFileSelect:P,filePattern:"image/*"})),c.a.createElement("div",{className:"item_info"},c.a.createElement(Nn.Box,null,c.a.createElement(xi,null,c.a.createElement(Oi,null,Object(dn.i18nMark)("Resource")),c.a.createElement(Pi,{type:"text",id:"name",name:"name",disabled:t.isSubmitting,onChange:t.handleChange,placeholder:Object(dn.i18nMark)("Name of your resource"),value:t.values.name}),c.a.createElement(Ia,null,60-t.values.name.length)),t.errors.name&&c.a.createElement(Li,{variant:"negative"},t.errors.name)),c.a.createElement(Nn.Box,null,c.a.createElement(xi,null,c.a.createElement(Oi,null,"Event note"),c.a.createElement(Pi,{id:"eventNote",type:"textarea",name:"eventNote",onChange:t.handleChange,placeholder:Object(dn.i18nMark)("Event Note"),value:t.values.eventNote})),c.a.createElement(Ia,null,t.values.eventNote?500-t.values.eventNote.length:500),t.errors.eventNote&&c.a.createElement(Li,{variant:"negative"},t.errors.eventNote))))),c.a.createElement(si,null,c.a.createElement("div",{className:"d-flex"},c.a.createElement("div",{className:"item_col-6"},c.a.createElement(xi,null,c.a.createElement(Oi,null,"Provider"),c.a.createElement(uo,{onSelect:function(e,n){t.setValues(Object(g.a)(Object(g.a)({},t.values),{},Object(Je.a)({},e,n)))},placeholder:Object(dn.i18nMark)("Provider"),options:b,variant:"primary",value:t.values.provider,id:"provider",name:"provider",components:{DropdownIndicator:function(){return null}},onInputChange:function(e,n){var t=null===l||void 0===l?void 0:l.filter((function(e){var t;return null===e||void 0===e||null===(t=e.displayUsername)||void 0===t?void 0:t.toLowerCase().includes(n.toLowerCase())}));h(so(t,{variables:["name","displayUsername"],template:"name / displayUsername"}))},openMenuOnClick:!1})),t.errors.provider&&c.a.createElement(Li,{variant:"negative"},t.errors.provider&&"Required")),c.a.createElement("div",{className:"item_col-6"},c.a.createElement(xi,null,c.a.createElement(Oi,null,"Receiver"),c.a.createElement(uo,{onSelect:function(e,n){t.setValues(Object(g.a)(Object(g.a)({},t.values),{},Object(Je.a)({},e,n)))},placeholder:Object(dn.i18nMark)("Receiver"),options:O,variant:"primary",value:t.values.receiver,id:"receiver",name:"receiver",components:{DropdownIndicator:function(){return null}},onInputChange:function(e,n){var t=null===u||void 0===u?void 0:u.filter((function(e){var t;return null===e||void 0===e||null===(t=e.displayUsername)||void 0===t?void 0:t.toLowerCase().includes(n.toLowerCase())}));j(so(t,{variables:["name","displayUsername"],template:"name / displayUsername"}))},openMenuOnClick:!1})),t.errors.receiver&&c.a.createElement(Li,{variant:"negative"},t.errors.receiver&&"Required")))),c.a.createElement(si,null,c.a.createElement("div",{className:"d-flex"},c.a.createElement("div",{className:"item_col-6"},c.a.createElement(Nn.Box,null,c.a.createElement(xi,null,c.a.createElement(Oi,null,"Actions"),c.a.createElement(uo,{onSelect:function(e,n){p(n.id),t.setValues(Object(g.a)(Object(g.a)({},t.values),{},{action:n}))},options:i,variant:"primary",id:"actions",name:"actions",placeholder:Object(dn.i18nMark)("Select action"),value:t.values.action,noChange:!0,onInputChange:function(){},openMenuOnClick:!0})),t.errors.action&&c.a.createElement(Li,{variant:"negative"},t.errors.action&&"Required")),c.a.createElement(Nn.Box,null,c.a.createElement(Oi,null,"Event date"),c.a.createElement("div",{style:{width:"100%",border:"1px solid #05244f",padding:"0 10px"}},c.a.createElement(Po.a,{className:"date-picker",selected:N,onChange:function(e){_(e),t.setValues(Object(g.a)(Object(g.a)({},t.values),{},{hasPointInTime:e.toISOString()}))},dateFormat:"dd/MM/yyyy"})))),c.a.createElement("div",{className:"item_col-6"},c.a.createElement(xi,null,c.a.createElement(Oi,null,"Location"),c.a.createElement(uo,{onSelect:function(e,n){t.setValues(Object(g.a)(Object(g.a)({},t.values),{},Object(Je.a)({},e,n)))},options:null===o||void 0===o?void 0:o.map((function(e){return{id:e.id,value:e.id,label:e.name}})),placeholder:Object(dn.i18nMark)("CustomSelect location"),value:t.values.atLocation,variant:"primary",id:"atLocation",name:"atLocation",noChange:!0,onInputChange:function(){},openMenuOnClick:!0}),c.a.createElement(Bo,null,c.a.createElement(Oi,null,Object(dn.i18nMark)("If you did not find your locations in the list, you can create it")),c.a.createElement(Mn,{variant:"show-more",onClick:function(){return s(!0)}},c.a.createElement(dn.Trans,{id:"Create Location"}))))))),c.a.createElement(si,null,c.a.createElement("div",{className:"d-flex"},c.a.createElement("div",{className:"item_col-6"},c.a.createElement(xi,null,c.a.createElement(Oi,null,"unit"),c.a.createElement(uo,{onSelect:function(e,n){t.setValues(Object(g.a)(Object(g.a)({},t.values),{},Object(Je.a)({},e,n)))},options:k,variant:"primary",id:"hasUnit",name:"hasUnit",placeholder:Object(dn.i18nMark)("Unit"),value:t.values.hasUnit,noChange:!0,onInputChange:function(){},openMenuOnClick:!0})),t.errors.hasUnit&&c.a.createElement(Li,{variant:"negative"},t.errors.hasUnit&&"Required")),c.a.createElement("div",{className:"item_col-6"},c.a.createElement(xi,null,c.a.createElement(Oi,null,"numerical value"),c.a.createElement(Pi,{type:"number",id:"hasNumericalValue",name:"hasNumericalValue",onChange:t.handleChange,placeholder:Object(dn.i18nMark)("Numerical Value"),value:t.values.hasNumericalValue})),t.errors.hasNumericalValue&&c.a.createElement(Li,{variant:"negative"},t.errors.hasNumericalValue)))),c.a.createElement(si,null,c.a.createElement(xi,null,c.a.createElement(Oi,null,"Resource note"),c.a.createElement(Pi,{id:"note",type:"textarea",name:"note",onChange:t.handleChange,placeholder:Object(dn.i18nMark)("Resource note"),value:t.values.note})),c.a.createElement(Ia,null,t.values.note?500-t.values.note.length:500),t.errors.note&&c.a.createElement(Li,{variant:"negative"},t.errors.note)))),c.a.createElement(_a,null,c.a.createElement(Mn,{variant:"primary",isSubmitting:t.isSubmitting,isDisabled:t.isSubmitting,type:"submit",style:{marginLeft:"10px"}},c.a.createElement(dn.Trans,{id:"Save"})),c.a.createElement(Mn,{variant:"outline",onClick:r},c.a.createElement(dn.Trans,{id:"Cancel"})))),c.a.createElement(d.b,null))},Bo=Pn("div")(Io());function Ro(){var e=Object(i.a)(["\n    query agents {\n  agents {\n    id\n    name\n    displayUsername\n  }\n}\n    "]);return Ro=function(){return e},e}function Ao(){var e=Object(i.a)(["\n    mutation createDefaultEconomicEvent($name: String, $note: String, $action: ID!, $hasBeginning: DateTime!, $hasEnd: DateTime!) {\n  createEconomicEvent(event: {action: $action, note: $note, hasBeginning: $hasBeginning, hasEnd: $hasEnd}, newInventoriedResource: {name: $name, note: $note}) {\n    economicEvent {\n      hasPointInTime\n      hasBeginning\n      hasEnd\n      id\n      note\n    }\n  }\n}\n    "]);return Ao=function(){return e},e}C()(Ao());var zo=C()(Ro());function Uo(){var e=Object(i.a)(["\n    query actions {\n  actions {\n    label\n    id\n    note\n  }\n}\n    "]);return Uo=function(){return e},e}var Mo=C()(Uo());var Fo,Do=function(e){var n,t,r,a=e.children,i=N.d(Mo,r),o=function(e){return N.d(zo,e)}().data,c=Ha(),u=null===(n=i.data)||void 0===n?void 0:n.actions,s=null===(t=c.data)||void 0===t?void 0:t.unitsPages,m=l.useMemo((function(){return{actionList:null===u||void 0===u?void 0:u.map((function(e){return["transfer","consume","produce"].includes(e.id)?Object(g.a)(Object(g.a)({},e),{},{isDisabled:!1}):Object(g.a)(Object(g.a)({},e),{},{isDisabled:!0})})),providerList:null===o||void 0===o?void 0:o.agents,receiverList:null===o||void 0===o?void 0:o.agents,unitPages:s,setAction:function(){}}}),[o,u,s]),d=l.Children.map(a,(function(e){return l.isValidElement(e)?l.cloneElement(e,Object(g.a)({},m)):e}));return l.createElement("div",null,d)},$o=(Rt.object({name:Rt.string().min(2).max(60).required(),summary:Rt.string().max(500),icon:(Fo=Rt.mixed()).test.apply(Fo,Object(v.a)(Ua))}),function(e){var n,t,r=e.done,a=e.resource,i=e.toggleCreateLocation,o=Object(eo.a)(e,["done","resource","toggleCreateLocation"]),l=Object(Ye.g)(),u=io().create,s=null===(n=Va().data)||void 0===n?void 0:n.spatialThingsPages,m=Rt.object().shape({name:Rt.string().max(60,"Too Long!").required("Required"),note:Rt.string().max(500,"Too Long!"),action:Rt.object().shape({id:Rt.string().required("Required")}),provider:Rt.object().shape({id:Rt.string().required("Required")}),receiver:Rt.object().shape({id:Rt.string().required("Required")}),hasUnit:Rt.object().shape({id:Rt.string().required("Required")}),hasNumericalValue:Rt.string().required("Required").notOneOf([0,"0",null,void 0],"Not null")}),p=Object(fn.a)({initialValues:{name:(null===a||void 0===a?void 0:a.name)||"",note:(null===a||void 0===a?void 0:a.note)||"",eventNote:(null===a||void 0===a?void 0:a.eventNote)||"",hasPointInTime:(null===a||void 0===a?void 0:a.hasPointInTime)||"",image:(null===a||void 0===a?void 0:a.image)||"",atLocation:{id:(null===a||void 0===a||null===(t=a.currentLocation)||void 0===t?void 0:t.id)||"",label:""},action:{id:"",label:""},provider:{id:"",label:"",note:""},receiver:{id:"",label:"",note:""},hasUnit:{id:"",label:"",note:""},hasNumericalValue:0},validateOnChange:!1,validateOnBlur:!1,validationSchema:m,enableReinitialize:!0,onSubmit:function(e){var n;return u({name:e.name,action:e.action.id,note:e.note,eventNote:e.eventNote,hasPointInTime:e.hasPointInTime,atLocation:(null===(n=e.atLocation)||void 0===n?void 0:n.id)||"",provider:e.provider.id,receiver:e.receiver.id,hasUnit:e.hasUnit.id,hasNumericalValue:e.hasNumericalValue,image:e.image}).then((function(e){if(!e.errors){var n,t,a,i=null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.createEconomicEvent)||void 0===t||null===(a=t.economicResource)||void 0===a?void 0:a.id,o="/resource/".concat(i," ");r(),l.replace(o),d.c.success("Resource was created",{position:"top-right",transition:d.a,autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})}})).catch((function(e){nn(e.message,{type:"error"})}))}}),f=c.a.useMemo((function(){return Object(g.a)(Object(g.a)({},o),{},{title:"Create a new Resource",formik:p,spatialThings:(null===s||void 0===s?void 0:s.edges)||null,toggleCreateLocation:i,done:r})}),[p,s,i,r,o]);return c.a.createElement(Do,null,c.a.createElement(Lo,f))});function Vo(){var e=Object(i.a)(["\n    mutation createOffer($action: String!, $name: String!, $communityId: ID!, $note: String, $hasUnit: ID!, $hasNumericalValue: Float!, $atLocation: ID) {\n  createOffer(intent: {action: $action, name: $name, resourceQuantity: {hasUnit: $hasUnit, hasNumericalValue: $hasNumericalValue}, atLocation: $atLocation, inScopeOf: [$communityId], note: $note}) {\n    intent {\n      id\n      inScopeOf {\n        __typename\n      }\n      name\n      note\n      atLocation {\n        lat\n        long\n        alt\n      }\n      resourceQuantity {\n        hasUnit {\n          label\n          id\n        }\n        hasNumericalValue\n      }\n    }\n  }\n}\n    "]);return Vo=function(){return e},e}function qo(){var e=Object(i.a)(["\n    mutation createIntent($name: String!, $action: String!, $communityId: ID!, $note: String) {\n  createIntent(intent: {action: $action, name: $name, inScopeOf: [$communityId], note: $note}) {\n    intent {\n      id\n      inScopeOf {\n        __typename\n      }\n      name\n      note\n    }\n  }\n}\n    "]);return qo=function(){return e},e}C()(qo());var Ho=C()(Vo());var Wo=function(){var e,n=N.c(Ho,e),t=Object(Xe.a)(n,2),r=t[0],i=t[1],c=Zt(function(){var e=Object(o.a)(a.a.mark((function e(n){var t,o,l,c,u,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.name,o=n.note,l=n.communityId,c=n.atLocation,u=n.hasNumericalValue,s=n.hasUnit,!i.loading){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",r({variables:{name:t,note:o,communityId:l,action:"produced",atLocation:c,hasUnit:s,hasNumericalValue:u}}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[i,r]);return Object(l.useMemo)((function(){return{create:c}}),[c])},Ko=function(e){var n=e.formik,t=e.cancel,r=e.unitPages,a=e.spatialThings,i=c.a.useState([]),o=Object(Xe.a)(i,2),l=o[0],u=o[1];return c.a.useEffect((function(){if(null===r||void 0===r?void 0:r.length){var e=r.map((function(e){return{id:e.id,label:"".concat(e.label," / ").concat(e.symbol)}}));u(e)}}),[r]),c.a.createElement(Na,null,c.a.createElement("form",{onSubmit:n.handleSubmit},c.a.createElement(Ba,null,c.a.createElement(Nn.Heading,{m:2},c.a.createElement(dn.Trans,{id:"Create an intent"}))),c.a.createElement(pi,null,c.a.createElement(di,null,c.a.createElement(si,null,c.a.createElement(xi,null,c.a.createElement(Oi,null,Object(dn.i18nMark)("Resource")),c.a.createElement(Pi,{type:"text",id:"name",name:"name",disabled:n.isSubmitting,onChange:n.handleChange,hint:{class:"error",value:""},placeholder:Object(dn.i18nMark)("Name of your resource"),value:n.values.name})),c.a.createElement(Ia,null,60-n.values.name.length),n.errors.name&&c.a.createElement(wa,null,c.a.createElement(Li,{variant:"negative"},n.errors.name))),c.a.createElement(si,null,c.a.createElement(Oi,null,Object(dn.i18nMark)("community name")),n.errors.communityId&&c.a.createElement(wa,null,c.a.createElement(Li,{variant:"negative"},n.errors.communityId))),c.a.createElement(mi,null,c.a.createElement(xi,null,c.a.createElement(Oi,null,Object(dn.i18nMark)("unit")),c.a.createElement(uo,{onSelect:function(e,t){n.setValues(Object(g.a)(Object(g.a)({},n.values),{},Object(Je.a)({},e,t.id)))},options:l,placeholder:Object(dn.i18nMark)("unit"),value:{id:n.values.hasUnit,label:""},variant:"primary",id:"hasUnit",name:"hasUnit"}),n.errors.hasUnit&&c.a.createElement(wa,null,c.a.createElement(Li,{variant:"negative"},n.errors.hasUnit))),c.a.createElement(xi,null,c.a.createElement(Oi,null,Object(dn.i18nMark)("Numerical Value")),c.a.createElement(Pi,{type:"number",id:"hasNumericalValue",name:"hasNumericalValue",onChange:n.handleChange,hint:{class:"error",value:""},placeholder:Object(dn.i18nMark)("Numerical Value"),value:n.values.hasNumericalValue.toString()}),n.errors.hasNumericalValue&&c.a.createElement(wa,null,c.a.createElement(Li,{variant:"negative"},n.errors.hasNumericalValue)))),c.a.createElement(si,null,c.a.createElement(Oi,null,Object(dn.i18nMark)("location")),c.a.createElement(uo,{onSelect:function(e,t){n.setValues(Object(g.a)(Object(g.a)({},n.values),{},Object(Je.a)({},e,t.id)))},options:null===a||void 0===a?void 0:a.map((function(e){return{id:e.id,value:e.id,label:e.name}})),placeholder:Object(dn.i18nMark)("CustomSelect location"),value:{id:n.values.atLocation||"",label:""},variant:"primary",id:"atLocation",name:"atLocation"})),c.a.createElement(si,null,c.a.createElement(fi,{mt:2},c.a.createElement(xi,null,c.a.createElement(Oi,null,Object(dn.i18nMark)("description")),c.a.createElement(Pi,{type:"textarea",id:"note",name:"note",onChange:n.handleChange,disabled:n.isSubmitting,hint:{class:"error",value:""},placeholder:Object(dn.i18nMark)("A description of your intent"),value:n.values.note})),c.a.createElement(Ia,null,n.values.note?500-n.values.note.length:500),n.errors.note&&c.a.createElement(wa,null,c.a.createElement(Li,{variant:"negative"},n.errors.note)))))),c.a.createElement(_a,null,c.a.createElement(Mn,{variant:"primary",isSubmitting:n.isSubmitting,isDisabled:n.isSubmitting,type:"submit",style:{marginLeft:"10px"}},c.a.createElement(dn.Trans,{id:"Save"})),c.a.createElement(Mn,{variant:"outline",onClick:t},c.a.createElement(dn.Trans,{id:"Cancel"})))),c.a.createElement(d.b,null))},Qo=function(e){var n,t,r=e.done,a=e.communityId,i=Object(Ye.g)(),o=Wo().create,c=null===(n=Ha().data)||void 0===n?void 0:n.unitsPages,u=null===(t=Va().data)||void 0===t?void 0:t.spatialThingsPages,s=Rt.object().shape({name:Rt.string().max(60,"Too Long!").required("Required"),note:Rt.string().max(500,"Too Long!"),communityId:Rt.string().required("Required"),hasUnit:Rt.string().required("Required"),hasNumericalValue:Rt.string().required("Required").notOneOf([0,"0",null,void 0],"Not null")}),m={formik:Object(fn.a)({initialValues:{name:"",communityId:a||"",note:"",atLocation:"",hasUnit:"",hasNumericalValue:0},validateOnChange:!1,validateOnBlur:!1,validationSchema:s,enableReinitialize:!0,onSubmit:function(e){return o({name:e.name,communityId:e.communityId,note:e.note,atLocation:e.atLocation,hasUnit:e.hasUnit,hasNumericalValue:e.hasNumericalValue}).then((function(n){var t="/communities/".concat(e.communityId);!n.errors&&i.replace(t),!n.errors&&r(),!n.errors&&d.c.success("Intent was created",{position:"top-right",transition:d.a,autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})})).catch((function(e){return console.log(e)}))}}),unitPages:null===c||void 0===c?void 0:c.edges,spatialThings:(null===u||void 0===u?void 0:u.edges)||null,cancel:r};return l.createElement(Ko,m)},Go=function(){var e,n=null===(e=un().me)||void 0===e?void 0:e.user,t=er(),r=c.a.useState(!1),a=Object(Xe.a)(r,2),i=a[0],o=a[1],u=Object(l.useReducer)((function(e){return!t()&&!e}),!1),s=Object(Xe.a)(u,2),m=s[0],d=s[1],p=Object(l.useReducer)((function(e){return!t()&&!e}),!1),f=Object(Xe.a)(p,2),v=f[0],g=f[1],b=m?c.a.createElement(za,{closeModal:d},c.a.createElement(Qo,{done:d})):null,h=v?c.a.createElement(za,{closeModal:g},i?c.a.createElement(Zi,{done:o}):c.a.createElement($o,{done:g,toggleCreateLocation:o})):null,E=Object(l.useContext)(sn).toggleOpen,x=Object(l.useReducer)((function(e){return!e}),!1),O=Object(Xe.a)(x,2),j=O[0],y=O[1],w=Object(l.useMemo)((function(){var e,t;return{Search:c.a.createElement(tr,{key:"search"}),user:n?{icon:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GRAPHQL_ENDPOINT:"",REACT_APP_SENTRY_API_KEY:""}).REACT_APP_GRAPHQL_IMG_LINK).concat(null===n||void 0===n||null===(e=n.profile)||void 0===e?void 0:e.icon),name:"".concat(null===(t=n.character)||void 0===t?void 0:t.username),link:"/user/".concat(n.id)}:null,toggleSideBar:E,createIntent:d,createResource:g,isOpenDropdown:j,toggleDropdown:y}}),[n,E,j]);return c.a.createElement(c.a.Fragment,null,b,h,c.a.createElement(Vr,w))};function Yo(){var e=Object(i.a)(["\n  max-width: 1096px;\n  margin: 0 auto;\n  height: calc(100vh - 66px);\n  display: grid;\n  grid-template-rows: auto;\n  grid-template-columns: 1fr;\n  column-gap: 8px;\n"]);return Yo=function(){return e},e}function Xo(){var e=Object(i.a)(["\n  height: 100vh;\n  grid-template-rows: 50px auto;\n  row-gap: 8px;\n  display: grid;\n"]);return Xo=function(){return e},e}function Jo(){var e=Object(i.a)(["\n    display: none;\n  "]);return Jo=function(){return e},e}function Zo(){var e=Object(i.a)(["\na {\n  height: 40px;\n  line-height: 40px;\n  padding: 0 8px;\n  border-radius: 4px;\n  text-decoration: none;\n  background: ",";\n  color: ",";\n  margin-right: 8px;\n}\nheight: 75px;\nline-height: 75px;\ntext-align: center;\nbackground: ","\nborder-bottom: ",";\ndisplay: flex;\nalign-items: center;\ninput {\n  width: 100%;\n  border-radius: 4px;\n  max-width: 500px;\n  height: 40px;\n  margin: 0;\n  border: 0;\n  background: ",";\n}\n.ais-SearchBox {\n  border: 0;\n  height: auto;\n  margin: 0;\n  width: auto;\n  margin: 0;\n  margin-right: 8px;\n  margin-left: 8px;\n  flex:1;\n}\n","\n"]);return Zo=function(){return e},e}function el(){var e=Object(i.a)(["\n    display: none;\n  "]);return el=function(){return e},e}function nl(){var e=Object(i.a)(["\n  ","\n"]);return nl=function(){return e},e}function tl(){var e=Object(i.a)(["\n  cursor: pointer;\n  height: 40px;\n  width: 40px;\n  min-width: 40px;\n  border-radius: 40px;\n  margin-top: 5px;\n  display: flex;\n  align-items: center;\n  &:hover {\n    background: ",";\n    svg {\n      stroke: ",";\n    }\n  }\n  svg {\n    stroke: ",";\n    margin: 0 auto;\n  }\n"]);return tl=function(){return e},e}var rl=function(e){var n=e.children,t=e.HeaderBox,r=e.SearchBox,a=Object(Ye.g)();return c.a.createElement(ll,null,c.a.createElement(ol,null,c.a.createElement(al,{onClick:function(){return a.goBack()}},c.a.createElement(rr.a,{size:"20"})),r,c.a.createElement(pn.b,{to:"/login"},"Log in")),c.a.createElement(il,null,t),c.a.createElement(cl,null,n))},al=Pn(Nn.Box)(tl(),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.mediumdark})),il=Pn(Nn.Box)(nl(),f.a.lessThan("medium")(el())),ol=Pn(Nn.Box)(Zo(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.colors.appInverse}),(function(e){return e.theme.colors.border}),(function(e){return e.theme.colors.app}),f.a.greaterThan("medium")(Jo())),ll=Pn(Nn.Box)(Xo()),cl=Pn(Nn.Box)(Yo()),ul=function(e){var n=e.children,t=e.withoutHeader,r={HeaderBox:void 0!==t&&t?void 0:c.a.createElement(Go,null),SearchBox:c.a.createElement(tr,null)};return c.a.createElement(mn,null,c.a.createElement(rl,r,n))},sl=function(){var e,n=N.c(qe,e),t=Object(Xe.a)(n,2),r=t[0],i=t[1],c=Zt(function(){var e=Object(o.a)(a.a.mark((function e(n){var t,o,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.profileName,o=n.userName,l=n.summary,!i.loading){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",r({variables:{profileName:t,userName:o,summary:l},refetchQueries:[cn({})]}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[r,i]);return Object(l.useMemo)((function(){return{create:c,createStatus:i}}),[c,i])},ml=t(835);function dl(){var e=Object(i.a)(["\n  background: ",";\n  border-radius: 4px;\n  align-items: center;\n  div {\n    color: white;\n  }\n"]);return dl=function(){return e},e}function pl(){var e=Object(i.a)(["\n  margin: 0;\n  flex: 1;\n  input {\n    height: 50px;\n    color: inherit;\n    background-color: transparent;\n    border-radius: 4px;\n    border: 1px solid #dadada;\n  }\n  background: ",";\n  border-radius: 4px;\n  height: inherit;\n  border: 1px solid #dddfe2;\n  text-align: left;\n  height: fit-content;\n  padding: 16px;\n"]);return pl=function(){return e},e}function fl(){var e=Object(i.a)(["\n  grid-area: header;\n  text-align: center;\n"]);return fl=function(){return e},e}function vl(){var e=Object(i.a)(["\n  margin: 0 auto;\n  max-width: 900px;\n  padding-bottom: 50px;\n"]);return vl=function(){return e},e}function gl(){var e=Object(i.a)(["\n    padding: 16px\n  "]);return gl=function(){return e},e}function bl(){var e=Object(i.a)(["\n  ",";\n"]);return bl=function(){return e},e}function hl(){var e=Object(i.a)(["\n  min-height: 90px;\n  border-radius: 4px;\n  border: 1px solid #dadada !important;\n"]);return hl=function(){return e},e}function El(){var e=Object(i.a)(["\n  display: block;\n  margin-bottom: 6px;\n"]);return El=function(){return e},e}function xl(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  min-width: 180px;\n"]);return xl=function(){return e},e}var Ol={login:Object(dn.i18nMark)("Sign in"),placeholders:{name:Object(dn.i18nMark)("Full name"),userName:Object(dn.i18nMark)("Display User name"),summary:Object(dn.i18nMark)("Summary")}},jl=function(e){var n=e.formik;return l.createElement(Sl,null,l.createElement(Tl,null,l.createElement(Vn,null),l.createElement(Cl,null,l.createElement(_l,{p:3},l.createElement(Nn.Box,{mr:2},l.createElement(ml.a,{size:"20",color:"white"})),l.createElement(Nn.Text,{variant:"suptitle"},J))),l.createElement(Nn.Flex,{mt:2},l.createElement(Nl,{onSubmit:n.handleSubmit},l.createElement(Nn.Box,null,l.createElement(wl,null,l.createElement(dn.Trans,{id:"Full Name"})),l.createElement(vn.a,{placeholder:Ol.placeholders.name,name:"profileName",value:n.values.profileName,onChange:n.handleChange}),n.errors.profileName&&l.createElement(wa,null,l.createElement(Ci,{variant:"negative"},n.errors.profileName))),l.createElement(Nn.Box,{mt:3},l.createElement(wl,null,l.createElement(dn.Trans,{id:"Display user Name"})),l.createElement(vn.a,{placeholder:Ol.placeholders.userName,name:"userName",type:"userName",value:n.values.userName,onChange:n.handleChange}),n.errors.userName&&l.createElement(wa,null,l.createElement(Ci,{variant:"negative"},n.errors.userName))),l.createElement(Nn.Box,{mt:3},l.createElement(wl,null,l.createElement(dn.Trans,{id:"Summary"})),l.createElement(kl,{className:"summary-textarea",placeholder:Ol.placeholders.summary,disabled:n.isSubmitting,name:"summary",value:n.values.summary,onChange:n.handleChange})),l.createElement(Nn.Box,{mt:3,css:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement(Mn,{variant:"primary",isSubmitting:n.isSubmitting,isDisabled:n.isSubmitting,type:"submit"},l.createElement(dn.Trans,{id:"Create User"})),l.createElement(yl,null,l.createElement(dn.Trans,{id:"You have account"}),l.createElement(pn.b,{to:"/login",className:"ml-3"},l.createElement(dn.Trans,{id:"Sign in"}))))))))},yl=Pn(Nn.Box)(xl()),wl=Pn.label(El()),kl=Pn(vn.b)(hl()),Tl=Pn(Nn.Box)(bl(),f.a.lessThan("medium")(gl())),Sl=Pn.div(vl()),Cl=Pn.div(fl()),Nl=Pn.form(pl(),(function(e){return e.theme.colors.appInverse})),_l=Pn(Nn.Flex)(dl(),(function(e){return e.green?"#546d4f":e.theme.colors.secondary})),Pl={profileName:"",userName:"",summary:""},Il={id:"Create New User"},Ll=function(){var e=zt().logout;er()()&&e(),Dt(Il);var n=sl(),t=n.create,r=n.createStatus,i=Rt.object({profileName:Rt.string().max(50).required(),userName:Rt.string().max(50).required()}),u=Object(fn.a)({initialValues:Pl,enableReinitialize:!0,validateOnChange:!1,validateOnBlur:!1,validationSchema:i,onSubmit:function(){var e=Object(o.a)(a.a.mark((function e(n){var r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({profileName:n.profileName,userName:n.userName,summary:n.summary});case 2:return(null===(i=e.sent)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.createUser.accountId)&&s.push("/settings"),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}),s=Object(Ye.g)();Object(l.useEffect)((function(){var e,n;(null===(e=r.error)||void 0===e?void 0:e.graphQLErrors.length)&&d.c.error(null===(n=r.error)||void 0===n?void 0:n.graphQLErrors[0].message)}),[r]);var m=Object(l.useMemo)((function(){return{formik:u}}),[u]);return c.a.createElement(jl,m)},Bl={exact:!0,path:"/create-user/:token",component:function(){return c.a.createElement(ul,{withoutHeader:!0},c.a.createElement(Ll,null))}};function Rl(){var e=Object(i.a)(["\n  background: #fff;\n  border-radius: 4px;\n  height: inherit;\n  padding: 30px 20px;\n  text-align: center;\n  height: fit-content;\n"]);return Rl=function(){return e},e}function Al(){var e=Object(i.a)(["\n  text-align: center;\n  margin-top: 10px;\n"]);return Al=function(){return e},e}function zl(){var e=Object(i.a)(["\n  margin-bottom: 100px;\n  width: 432px;\n"]);return zl=function(){return e},e}function Ul(){var e=Object(i.a)(["\n  margin: 0 auto;\n  width: 100%;\n  max-width: 900px;\n  margin-top: 60px;\n  padding: 16px;\n  padding-bottom: 50px;\n \n  }\n"]);return Ul=function(){return e},e}function Ml(){var e=Object(i.a)(["\n  display: grid;\n  grid-column-gap: 16px;\n  grid-template-columns: 1fr;\n  grid-template-areas: 'form' 'footer';\n"]);return Ml=function(){return e},e}var Fl=Pn.div(Ml()),Dl=Pn.div(Ul()),$l=Pn(Nn.Box)(zl()),Vl=function(e){var n=e.result;return l.createElement(l.Fragment,null,l.createElement(Dl,null,l.createElement(Fl,null,l.createElement($l,null,l.createElement(Vn,null),l.createElement(Hl,null,l.createElement(Nn.Box,null,n?null===n.error?l.createElement(l.Fragment,null,l.createElement(Nn.Text,{variant:"text"},"Email confirmed"),l.createElement(Nn.Text,{variant:"text",sx:{fontWeight:"bold",marginTop:"5px"}},"Welcome ",n.username,"!")):l.createElement(Nn.Text,{variant:"text"},"Error in email confirmation: ",n.error):l.createElement(Nn.Text,{variant:"text"},"Checking ...")),l.createElement(ql,null,l.createElement(pn.b,{to:"/login"},l.createElement(Mn,{mt:3,variant:"primary"},l.createElement(dn.Trans,{id:"Sign in"})))))))))},ql=Pn(Nn.Box)(Al()),Hl=Pn.div(Rl()),Wl={id:"Confirm your email"},Kl=function(e){var n,t,r=e.token;Dt(Wl);var a=zt(),i=a.confirmEmail,o=a.confirmEmailStatus,u=null===(n=o.data)||void 0===n||null===(t=n.confirmEmail)||void 0===t?void 0:t.accountId,s=Object(Ye.g)().push;Object(l.useEffect)((function(){}),[u,s]),Object(l.useEffect)((function(){i(r)}),[r,i]);var m=Object(l.useMemo)((function(){return o.loading?{result:null}:o.error?{result:{error:o.error.message}}:u?{result:{error:null,username:u}}:{result:{error:"No Data Received"}}}),[o,u]);return c.a.createElement(Vl,m)},Ql={exact:!0,path:"/confirm-email/:token",component:function(e){var n=e.match;return c.a.createElement(Ht,{to:"/#welcome"},c.a.createElement(ul,null,c.a.createElement(Kl,{token:n.params.token})))}};function Gl(){var e=Object(i.a)(["\n  width: 10px;\n  height: 10px;\n"]);return Gl=function(){return e},e}function Yl(){var e=Object(i.a)(["\n  grid-area: form;\n"]);return Yl=function(){return e},e}function Xl(){var e=Object(i.a)(["\n  margin: 0 auto;\n  width: 432px;\n  margin-top: 60px;\n  padding: 16px;\n  & button {\n    margin-top: 16px;\n    width: 100%;\n    &:hover {\n      background: #d67218 !important;\n    }\n  }\n"]);return Xl=function(){return e},e}function Jl(){var e=Object(i.a)(["\n  display: grid;\n  grid-column-gap: 16px;\n  grid-template-columns: 1fr;\n  grid-template-areas: 'form';\n  input {\n    height: 50px;\n    color: inherit;\n    background-color: white;\n    border-radius: 4px;\n    border: 1px solid #dadada;\n  }\n"]);return Jl=function(){return e},e}var Zl={placeholders:{password:Object(dn.i18nMark)("Enter your new password"),passwordConfirm:Object(dn.i18nMark)("Confirm your new password")}},ec=function(e){var n=e.formik;return l.createElement(l.Fragment,null,l.createElement(tc,null,l.createElement(nc,null,l.createElement(rc,null,l.createElement(Vn,null),l.createElement(vn.a,{placeholder:Zl.placeholders.password,name:"password",type:"password",value:n.values.password,onChange:n.handleChange}),n.errors.password&&l.createElement(wa,null,l.createElement(Ci,{variant:"negative"},n.errors.password)),l.createElement(ac,null),l.createElement(vn.a,{placeholder:Zl.placeholders.passwordConfirm,name:"passwordConfirm",type:"password",value:n.values.passwordConfirm,onChange:n.handleChange}),n.errors.passwordConfirm&&l.createElement(wa,null,l.createElement(Ci,{variant:"negative"},n.errors.passwordConfirm)),l.createElement(Mn,{variant:"primary",isSubmitting:n.isSubmitting,isDisabled:n.isSubmitting,type:"submit",onClick:n.submitForm},l.createElement(dn.Trans,{id:"Save the new password"}))))))},nc=Pn.div(Jl()),tc=Pn.div(Xl()),rc=Pn.div(Yl()),ac=Pn.div(Gl()),ic=Rt.object().shape({password:Rt.string().min(6).max(50).required("Password is required"),passwordConfirm:Rt.string().oneOf([Rt.ref("password"),null],"Passwords must match").required("Password confirm is required")}),oc={password:"",passwordConfirm:""},lc={id:"reate new Password"},cc=function(e){var n=e.token;Dt(lc);var t=zt().updatePassword,r=Object(fn.a)({onSubmit:function(e){var r=e.password,a=e.passwordConfirm;return t(n,r,a)},initialValues:oc,validationSchema:ic}),a=Object(l.useMemo)((function(){return{formik:r}}),[r]);return c.a.createElement(ec,a)},uc={exact:!0,path:"/reset/:token",component:function(e){var n=e.match.params.token,t=Object(l.useMemo)((function(){return{token:n}}),[n]);return c.a.createElement(Wt,null,c.a.createElement(ul,{withoutHeader:!0},c.a.createElement(cc,t)))}};function sc(){var e=Object(i.a)(["\n  width: 34px;\n  height: 34px;\n  border-radius: 50%;\n  background: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  svg {\n    stroke: ",";\n  }\n\n  &:focus {\n    background: ",";\n\n    svg {\n      stroke: ",";\n    }\n  }\n"]);return sc=function(){return e},e}function mc(){var e=Object(i.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  column-gap: 16px;\n  row-gap: 16px;\n  margin: 16px;\n  margin-bottom: 24px !important;\n"]);return mc=function(){return e},e}function dc(){var e=Object(i.a)(["\n  border-bottom: ",";\n"]);return dc=function(){return e},e}function pc(){var e=Object(i.a)(["\n  background: ",";\n\n  &.replies > div {\n    margin-bottom: 0;\n    border-bottom: ",";\n  }\n\n  > div {\n    &:last-of-type {\n      margin-bottom: 4px;\n      border-bottom: 0;\n    }\n  }\n"]);return pc=function(){return e},e}function fc(){var e=Object(i.a)(["\n       padding: 0;\n  "]);return fc=function(){return e},e}function vc(){var e=Object(i.a)(["\n      justify-content: space-between;\n      align-item: center;\n      flex-wrap: nowrap;\n  "]);return vc=function(){return e},e}function gc(){var e=Object(i.a)(["\n  border-bottom: ",";\n  border-top: ",";\n  height: 60px;\n  padding: 12px 8px;\n  background: ",";\n\n  ",";\n}\n\na {\n  font-weight: 600;\n  text-decoration: none;\n  margin-right: 8px;\n  color: ",";\n  letterspacing: 1px;\n  padding: 0 8px;\n  line-height: 34px;\n  white-space: nowrap;\n\n  ",";\n\n  &.active,\n  &:hover {\n    color: ",";\n    background: ",";\n    border-radius: 4px;\n  }\n}\n"]);return gc=function(){return e},e}function bc(){var e=Object(i.a)(["\n      display: block;\n  "]);return bc=function(){return e},e}function hc(){var e=Object(i.a)(["\n      display: none;\n  "]);return hc=function(){return e},e}function Ec(){var e=Object(i.a)(["\n      display: flex;\n  "]);return Ec=function(){return e},e}function xc(){var e=Object(i.a)(["\n      display: none\n  "]);return xc=function(){return e},e}function Oc(){var e=Object(i.a)(["\n      flex-basis: 36%;\n      overflow: hidden;\n      transition: flex-basis 0.3s ease;\n  "]);return Oc=function(){return e},e}function jc(){var e=Object(i.a)(["\n      flex-basis: 44px;\n      overflow: hidden;\n      transition: flex-basis 0.3s ease;\n  "]);return jc=function(){return e},e}function yc(){var e=Object(i.a)(["\n  width: auto;\n  overflow: hidden;\n  text-align: center;\n\n  ",";\n\n  &.active {\n    ",";\n\n  }\n\n  .text-holder {\n    display: block;\n    ",";\n  }\n\n  .icon-holder {\n    display: none;\n\n    ","\n  }\n\n  &.active .icon-holder {\n    ",";\n  }\n\n  &.active .text-holder {\n    ",";\n"]);return yc=function(){return e},e}function wc(){var e=Object(i.a)(["\n       padding-bottom: 75px;\n  "]);return wc=function(){return e},e}function kc(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  position: relative;\n  ",";\n\n  & ul {\n    display: block;\n\n    & li {\n      display: inline-block;\n\n      & h5 {\n        font-weight: 500;\n      }\n    }\n  }\n\n  & h4 {\n    margin: 0;\n    font-weight: 400 !important;\n    color: #151b26;\n    line-height: 40px;\n  }\n"]);return kc=function(){return e},e}function Tc(){var e=Object(i.a)(["\n  width: 100%;\n  height: 100%;\n  align-items: stretch;\n  border: 0 solid black;\n  box-sizing: border-box;\n  display: flex;\n  flex-basis: auto;\n  flex-direction: column;\n  flex-shrink: 0;\n  margin: 0;\n  min-height: 0;\n  min-width: 0;\n  padding: 0;\n  position: relative;\n  z-index: 0;\n  margin-bottom: 80px;\n"]);return Tc=function(){return e},e}function Sc(){var e=Object(i.a)(["\n  width: 600px;\n  align-items: flex-start;\n  flex-shrink: 1;\n  flex-grow: 1;\n  flex-basis: auto;\n  flex-direction: column;\n  margin: 0;\n  min-height: 0;\n  min-width: 0;\n  padding: 0;\n  position: relative;\n  z-index: 0;\n"]);return Sc=function(){return e},e}function Cc(){var e=Object(i.a)(["\n  align-items: stretch;\n  flex-grow: 1;\n  flex-direction: row;\n  width: 100%;\n"]);return Cc=function(){return e},e}function Nc(){var e=Object(i.a)(["\n  > div:last-of-type {\n    border-bottom: none;\n  }\n"]);return Nc=function(){return e},e}var _c=Pn(Nn.Box)(Nc()),Pc=Pn(Nn.Flex)(Cc()),Ic=Pn(Nn.Flex)(Sc()),Lc=Pn(Nn.Flex)(Tc()),Bc=Pn(Nn.Flex)(kc(),f.a.lessThan("medium")(wc())),Rc=Pn(pn.c)(yc(),f.a.lessThan("medium")(jc()),f.a.lessThan("medium")(Oc()),f.a.lessThan("medium")(xc()),f.a.lessThan("medium")(Ec()),f.a.lessThan("medium")(hc()),f.a.lessThan("medium")(bc())),Ac=Pn(Nn.Flex)(gc(),(function(e){return e.theme.colors.border}),(function(e){return e.theme.colors.border}),(function(e){return e.theme.colors.appInverse}),f.a.lessThan("medium")(vc()),(function(e){return e.theme.colors.darker}),f.a.lessThan("medium")(fc()),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.colors.primary})),zc=(Pn(Nn.Box)(pc(),(function(e){return e.theme.colors.appInverse}),(function(e){return e.theme.colors.border})),Pn(Nn.Box)(dc(),(function(e){return e.theme.colors.border})),Pn(Nn.Box)(mc()),Pn(Nn.Box)(sc(),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.lighter})));function Uc(){var e=Object(i.a)(["\n  background: ",";\n  button {\n    width: 100%;\n  }\n"]);return Uc=function(){return e},e}var Mc=function(e){return c.a.createElement(Fc,{p:2},c.a.createElement(Mn,{isSubmitting:e.LoadMoreFormik.isSubmitting,isDisabled:e.LoadMoreFormik.isSubmitting,onClick:e.LoadMoreFormik.submitForm,variant:"outline"},c.a.createElement(dn.Trans,{id:"Load more"})))},Fc=Pn(Nn.Box)(Uc(),(function(e){return e.theme.colors.appInverse}));function Dc(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  background: ",";\n  border-radius: 8px;\n  max-height: 270px;\n"]);return Dc=function(){return e},e}function $c(){var e=Object(i.a)(["\n  background: ",";\n  height: 40px;\n  line-height: 40px;\n"]);return $c=function(){return e},e}var Vc,qc=function(e){var n=e.ActivitiesBox,t=e.FeaturedCommunitiesBox,r=(e.FeaturedCollectionsBox,e.CollectionsBoxes,e.CommunitiesBoxes,e.LoadMoreFormik),a=e.tabPaths;return l.createElement(Pc,null,l.createElement(Ic,null,l.createElement(Lc,null,l.createElement(Qc,null,t),l.createElement(Bc,null,l.createElement(Wc,{tabPaths:a}),l.createElement(Ye.c,null,l.createElement(Ye.a,{exact:!0,path:a.timeline},l.createElement(_c,null,n),r&&l.createElement(Mc,{LoadMoreFormik:r})))))))},Hc=t(722).default,Wc=function(e){var n=e.tabPaths;return l.createElement(l.Fragment,null,l.createElement(Kc,{px:2,mt:2},l.createElement(Nn.Text,{variant:"suptitle"},"Browse Home instance")),l.createElement(Ac,null,l.createElement(Rc,{exact:!0,to:n.timeline},l.createElement("div",{className:"text-holder"},l.createElement(dn.Trans,{id:"Timeline"})),l.createElement(zc,{className:"icon-holder"},l.createElement(Hc,{size:"24"})))))},Kc=Pn(Nn.Box)($c(),(function(e){return e.theme.colors.appInverse})),Qc=Pn(Nn.Flex)(Dc(),(function(e){return e.theme.colors.appInverse})),Gc=t(102);!function(e){e[e.Activities=0]="Activities",e[e.Communities=1]="Communities",e[e.Collections=2]="Collections"}(Vc||(Vc={}));var Yc,Xc={id:"Discover Activities"},Jc=function(e){e.basePath;var n=e.tab,t=(Vc.Activities,Xc);Dt(t);var r=Object(l.useMemo)((function(){var e=c.a.createElement("div",null,"FeaturedCollections"),t=c.a.createElement("div",null,"FeaturedCommunities"),r=c.a.createElement(c.a.Fragment,null,[].map((function(e){return c.a.createElement("div",null,"ActivityPreviewHOC, ",e)}))),a=c.a.createElement(c.a.Fragment,null,[].map((function(e){return c.a.createElement(Gc.a,{m:2,key:e.id},c.a.createElement("div",null,"CollectionPreviewHOC, ",e))}))),i=c.a.createElement(c.a.Fragment,null,[].map((function(e){return c.a.createElement(Gc.a,{m:2,key:e.id},c.a.createElement("div",null,"CommunityPreviewHOC, ",e))}))),o=n===Vc.Activities?function(){console.log(Vc.Activities)}:null;return{tabPaths:{timeline:Lp.getPath({tab:void 0},void 0)},ActivitiesBox:r,FeaturedCollectionsBox:e,FeaturedCommunitiesBox:t,CollectionsBoxes:a,CommunitiesBoxes:i,LoadMoreFormik:o}}),[n]);return c.a.createElement(qc,r)},Zc=t(836);function eu(){var e=Object(i.a)(["\n  margin-left: 8px;\n  .--rtl & {\n    margin-right: 8px;\n    margin-left: 0px;\n  }\n"]);return eu=function(){return e},e}function nu(){var e=Object(i.a)(["\n  height: 50px;\n  line-height: 50px;\n  font-weight: 600;\n  color: ",";\n  a:focus,\n  a:active {\n    color: inherit;\n  }\n  ",";\n"]);return nu=function(){return e},e}function tu(){var e=Object(i.a)(["\nimg {\n    margin-right: 0;\n}\n"]);return tu=function(){return e},e}function ru(){var e=Object(i.a)(["\n  border-radius: 4px;\n  padding: 0px 4px;\n  &:hover {\n    background: ",";\n  }\n  ",";\n"]);return ru=function(){return e},e}function au(){var e=Object(i.a)(["\n  position: relative;\n  color: inherit;\n  img {\n    width: 36px;\n    height: 36px;\n  }\n  &.active {\n    div {\n      color: ",";\n      position: relative;\n    }\n  }\n  div {\n    color: ",";\n  }\n"]);return au=function(){return e},e}function iu(){var e=Object(i.a)(["\n  a {\n    text-decoration: none;\n  }\n"]);return iu=function(){return e},e}function ou(){var e=Object(i.a)(["\n  overflow-y: auto;\n  flex: 1;\n"]);return ou=function(){return e},e}function lu(){var e=Object(i.a)(["\n    position: relative;\nwidth: 100%\n"]);return lu=function(){return e},e}function cu(){var e=Object(i.a)(["\nwidth: auto;\n"]);return cu=function(){return e},e}function uu(){var e=Object(i.a)(["\n  justify-content: space-between;\n  height: 100%;\n  display: flex;\n  "," ",";\n"]);return uu=function(){return e},e}function su(){var e=Object(i.a)(["\n  transition: 'all 250ms ease';\n  flex: 1;\n"]);return su=function(){return e},e}function mu(){var e=Object(i.a)(["\n  //   width: 50px;\n  // "]);return mu=function(){return e},e}function du(){var e=Object(i.a)(["\n  width: 240px;\n  // ","\n"]);return du=function(){return e},e}!function(e){e[e.Loading=0]="Loading",e[e.Loaded=1]="Loaded"}(Yc||(Yc={}));var pu=Pn(Nn.Flex)(du(),f.a.lessThan("medium")(mu())),fu=Pn(Nn.Box)(su()),vu=Pn(Nn.Box)(uu(),f.a.lessThan("1280px")(cu()),f.a.lessThan("860px")(lu())),gu=Pn(Nn.Box)(ou()),bu=Pn(Nn.Box)(iu()),hu=Pn(pn.c)(au(),(function(e){return e.theme.colors.primary}),(function(e){return e.isActive?e.theme.colors.primary:e.theme.colors.darker})),Eu=Pn(Nn.Flex)(ru(),(function(e){return e.theme.colors.medium}),f.a.lessThan("1280px")(tu())),xu=Pn(Nn.Text)(nu(),(function(e){return e.theme.colors.darker}),Object(Rn.c)("220px")),Ou=Pn(xu)(eu()),ju=function(e){var n=l.useContext(kn).i18n;return l.createElement(l.Fragment,null,e.isSidebarOpen?l.createElement(pu,{className:"sidebar"},l.createElement(fu,null,l.createElement(vu,null,e.status===Yc.Loading?l.createElement(Nn.Text,null,"Loading"):l.createElement(gu,null,l.createElement(l.Fragment,null,l.createElement(bu,null,l.createElement(hu,{exact:!0,to:e.discoverPath},l.createElement(Eu,{alignItems:"center"},l.createElement(Nn.Box,{height:"50px"},l.createElement(Zc.a,{size:36,strokeWidth:"1"})),l.createElement(Ou,{variant:"link"},l.createElement(dn.Trans,{id:"Discover"})))),l.createElement(hu,{exact:!0,to:e.homePath},l.createElement(Eu,{alignItems:"center"},l.createElement(cr,{size:"s",src:Z}),l.createElement(Ou,{variant:"link"},n._("My Timeline")))))))))):null)};function yu(){var e=Object(i.a)(["\n  background: ",";\n  height: 40px;\n  line-height: 40px;\n  border-bottom: ",";\n"]);return yu=function(){return e},e}var wu=function(e){var n=e.basePath,t=e.InboxElements;return l.createElement(Pc,null,l.createElement(Ic,null,l.createElement(Lc,null,l.createElement(Bc,null,l.createElement(ku,{px:2},l.createElement(Nn.Text,{variant:"suptitle"},l.createElement(dn.Trans,{id:"My timeline"}))),l.createElement(Ye.c,null,l.createElement(Ye.a,{path:"".concat(n)},l.createElement(_c,null,t)))))))},ku=Pn(Nn.Box)(yu(),(function(e){return e.theme.colors.appInverse}),(function(e){return e.theme.colors.border})),Tu={id:"My Activities"},Su=function(e){var n=e.basePath;Dt(Tu);var t={activitiesPage:{edges:[]}}.activitiesPage,r=Object(l.useMemo)((function(){return c.a.createElement(c.a.Fragment,null,t.edges.map((function(e){return e&&c.a.createElement("div",null,"ActivityPreviewHOC")})))}),[t]),a=Object(l.useMemo)((function(){return{InboxElements:r,basePath:n}}),[r,n]);return c.a.createElement(wu,a)};function Cu(){var e=Object(i.a)(["\n  margin: 0 auto;\n  width: 432px;\n  margin-top: 60px;\n  padding: 16px;\n  & button {\n    margin-top: 16px;\n    width: 100%;\n    color: #fff !important;\n    text-transform: uppercase\n      &:hover {\n      background: #d67218 !important;\n    }\n  }\n"]);return Cu=function(){return e},e}var Nu=Pn.div(Cu()),_u=function(){return l.createElement(l.Fragment,null,l.createElement(Nu,null,l.createElement(Nn.Box,{sx:{textAlign:"center"}},l.createElement(Vn,null),l.createElement(Nn.Heading,null,l.createElement("span",{"aria-label":"icon",role:"img"},"\ud83e\udd14"),l.createElement(dn.Trans,{id:"Page not found"})))))},Pu={id:"Page Not Found"},Iu=function(){return Dt(Pu,{}),c.a.createElement(_u,null)},Lu={exact:!0,path:"/",component:function(e){e.match;var n=Object(l.useMemo)((function(){return{basePath:""}}),[]);return n&&n?c.a.createElement(Qt,null,c.a.createElement(Pp,null,c.a.createElement(Su,n))):c.a.createElement(Iu,null)}},Bu=Gt(Lu),Ru=function(){var e=Object(l.useContext)(sn).isOpen,n=Object(l.useMemo)((function(){return{isSidebarOpen:e,status:Yc.Loaded,discoverPath:Lp.getPath({tab:void 0},void 0),homePath:Bu.getPath(void 0,void 0)}}),[e]);return c.a.createElement(ju,n)},Au=t(837);function zu(){var e=Object(i.a)(["\n    width: 100%;\n    right: 0;\n  "]);return zu=function(){return e},e}function Uu(){var e=Object(i.a)(["\n  background: ",";\n  height: calc(100vh - 65px);\n  min-width: 230px;\n  text-align: left;\n  position: fixed;\n  z-index: 4020;\n  top: 0;\n  left: 0;\n  right: 80px;\n  transition: transform 0.3s ease-in-out;\n  transform: ",";\n  overflow: hidden;\n  display: grid;\n  grid-template-rows: 160px 1fr 60px;\n  ","\n"]);return Uu=function(){return e},e}function Mu(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  width: 18px;\n  height: 18px;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  z-index: 10;\n  line-height: 75px;\n  margin: 0 auto;\n  margin-top: 26px;\n  &:focus {\n    outline: none;\n  }\n\n  div {\n    width: 18px;\n    height: 2px;\n    background: ",";\n    border-radius: 10px;\n    transition: all 0.3s linear;\n    position: relative;\n    transform-origin: 1px;\n\n    :first-child {\n      transform: ",";\n    }\n\n    :nth-child(2) {\n      opacity: ",";\n      transform: ",";\n    }\n\n    :nth-child(3) {\n      transform: ",";\n    }\n  }\n"]);return Mu=function(){return e},e}function Fu(){var e=Object(i.a)(["\n  z-index: 4000;\n  background: rgba(0, 0, 0, 0.9);\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  height: calc(100vh - 65px);\n  cursor: pointer;\n  transition: opacity 0.3s ease-in-out;\n"]);return Fu=function(){return e},e}function Du(){var e=Object(i.a)(["\n  line-height: 60px;\n  height: 60px;\n  cursor: pointer;\n  align-items: center;\n  margin: 0 auto;\n  text-align: center;\n  width: 100px;\n  svg {\n    stroke: ",";\n  }\n  div {\n    font-weight: 600;\n    color: ",";\n  }\n  & span {\n    display: inline-block;\n    margin-right: 8px;\n  }\n  & a {\n    color: inherit !important;\n    text-decoration: none;\n  }\n  &:hover {\n    color: ",";\n  }\n"]);return Du=function(){return e},e}function $u(){var e=Object(i.a)(["\n  border-top: 1px solid ",";\n"]);return $u=function(){return e},e}function Vu(){var e=Object(i.a)(["\n  overflow: scroll;\n  padding: 16px;\n"]);return Vu=function(){return e},e}function qu(){var e=Object(i.a)(["\n  line-height: initial;\n  margin-top: 8px;\n  font-weight: 500;\n  color: ",";\n"]);return qu=function(){return e},e}function Hu(){var e=Object(i.a)(["\n  line-height: initial;\n  margin-top: 8px;\n  font-weight: 700;\n  color: ",";\n"]);return Hu=function(){return e},e}function Wu(){var e=Object(i.a)(["\n  display: inline-block;\n  margin-right: 12px;\n"]);return Wu=function(){return e},e}function Ku(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #333;\n  padding: 4px;\n  border-radius: 4px;\n  border: 1px solid #333;\n\n  svg {\n    margin-right: 10px;\n  }\n"]);return Ku=function(){return e},e}function Qu(){var e=Object(i.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 120px;\n  "]);return Qu=function(){return e},e}function Gu(){var e=Object(i.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  line-height: initial;\n  ","\n"]);return Gu=function(){return e},e}function Yu(){var e=Object(i.a)(["\n  position: relative;\n  > div:first-of-type {\n    width: 60px;\n    height: 60px;\n    border-radius: 60px;\n  }\n"]);return Yu=function(){return e},e}function Xu(){var e=Object(i.a)(["\n  padding: 16px;\n  border-bottom: ",";\n"]);return Xu=function(){return e},e}function Ju(){var e=Object(i.a)([""]);return Ju=function(){return e},e}var Zu=function(e){var n=e.open,t=e.setOpen;return c.a.createElement(ps,{open:n,onClick:function(){return t(!n)}},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null))},es=function(e){var n=e.open,t=e.Side,r=e.setOpen,a=e.userImage,i=e.name,o=e.username,u=e.signOut,s=Object(l.useState)(!1),m=Object(Xe.a)(s,2),d=m[0],p=m[1];return c.a.createElement("div",null,n&&c.a.createElement(ds,{onClick:function(){return r(!1)}}),c.a.createElement(fs,{open:n},c.a.createElement(ts,null,c.a.createElement(rs,null,c.a.createElement(cr,{size:"s",src:a}),c.a.createElement(ls,null,i),c.a.createElement(cs,null,o),c.a.createElement(as,null,c.a.createElement(os,{to:"/settings"},c.a.createElement(pr.a,{size:"24",strokeWidth:1,color:"#333"})),c.a.createElement(is,{role:"button",onClick:function(){return p(!d)}},c.a.createElement(gr.a,{size:16,color:"#333"}),c.a.createElement("span",null,"Create"))))),c.a.createElement(us,null,t),c.a.createElement(ns,null,c.a.createElement(ss,null,c.a.createElement(ms,{onClick:u},c.a.createElement(Au.a,{size:18}),c.a.createElement(Nn.Box,{ml:2},"Sign out"))))))},ns=Pn(Nn.Box)(Ju()),ts=Pn(Nn.Box)(Xu(),(function(e){return e.theme.colors.border})),rs=Pn(Nn.Box)(Yu()),as=Pn("div")(Gu(),f.a.lessThan("small")(Qu())),is=Pn.span(Ku()),os=Pn(pn.c)(Wu()),ls=Pn(Nn.Box)(Hu(),(function(e){return e.theme.colors.dark})),cs=Pn(Nn.Box)(qu(),(function(e){return e.theme.colors.mediumdark})),us=Pn(Nn.Box)(Vu()),ss=Pn.div($u(),(function(e){return e.theme.colors.medium})),ms=Pn(Nn.Flex)(Du(),(function(e){return e.theme.colors.dark}),(function(e){return e.theme.colors.dark}),(function(e){return e.theme.colors.primary})),ds=Pn(Nn.Box)(Fu()),ps=Pn.button(Mu(),(function(e){var n=e.theme;return e.open?n.colors.primary:n.colors.darker}),(function(e){return e.open?"rotate(45deg)":"rotate(0)"}),(function(e){return e.open?"0":"1"}),(function(e){return e.open?"translateX(20px)":"translateX(0)"}),(function(e){return e.open?"rotate(-45deg)":"rotate(0)"})),fs=Pn.nav(Uu(),(function(e){return e.theme.colors.appInverse}),(function(e){return e.open?"translateX(0)":"translateX(-100%)"}),f.a.lessThan("small")(zu()));function vs(){var e=Object(i.a)(["\n    display: none;\n  "]);return vs=function(){return e},e}function gs(){var e=Object(i.a)(["\n  ","\n"]);return gs=function(){return e},e}function bs(){var e=Object(i.a)(["\n  // Enable to put the right side scrollbar next to the content\n  //overflow: auto;\n"]);return bs=function(){return e},e}function hs(){var e=Object(i.a)(["\n  overflow: auto;\n"]);return hs=function(){return e},e}function Es(){var e=Object(i.a)(["\n    grid-template-rows: auto;\n    grid-template-columns:1fr;\n    column-gap: 0px;\n    margin: 0;\n  "]);return Es=function(){return e},e}function xs(){var e=Object(i.a)(["\n    overflow: overlay;\n    grid-template-rows: auto;\n    grid-template-columns:1fr;\n    column-gap: 0px;\n    margin: 0;\n  "]);return xs=function(){return e},e}function Os(){var e=Object(i.a)(["\n  grid-template-rows: auto;\n  grid-template-columns: 240px 1fr;\n  column-gap: 8px;\n  "]);return Os=function(){return e},e}function js(){var e=Object(i.a)(["\n  max-width: 1096px;\n  margin: 0 auto;\n  display: grid;\n  \n  ","\n  ","\n  ","\n"]);return js=function(){return e},e}function ys(){var e=Object(i.a)(["\n    display: block;\n  "]);return ys=function(){return e},e}function ws(){var e=Object(i.a)(["\n  //   grid-template-rows: 50px auto;\n  //   row-gap: 8px;\n  // "]);return ws=function(){return e},e}function ks(){var e=Object(i.a)(["\n  display: grid;\n  // ","\n  ","\n"]);return ks=function(){return e},e}function Ts(){var e=Object(i.a)(["\n    display: none;\n  "]);return Ts=function(){return e},e}function Ss(){var e=Object(i.a)(["\n  display: grid;\n  grid-template-rows: auto;\n  &.panel_sidebar {\n    ","\n  }\n"]);return Ss=function(){return e},e}function Cs(){var e=Object(i.a)(["\n    display: none;\n  "]);return Cs=function(){return e},e}function Ns(){var e=Object(i.a)(["\n  position: fixed;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 500;\n  background: ","\n  display: grid;\n  border-top: ",";\n  grid-template-columns: 1fr 1fr 1fr;\n  ","\n"]);return Ns=function(){return e},e}function _s(){var e=Object(i.a)(["\n  height: 75px;\n  line-height: 75px;\n  text-align: center;\n"]);return _s=function(){return e},e}function Ps(){var e=Object(i.a)(["\n    display: none;\n  "]);return Ps=function(){return e},e}function Is(){var e=Object(i.a)(["\nheight: 75px;\nline-height: 75px;\ntext-align: center;\nbackground: ","\nborder-bottom: ",";\ndisplay: flex;\nalign-items: center;\ninput {\n  width: 100%;\n  border-radius: 4px;\n  max-width: 500px;\n  height: 40px;\n  margin: 0;\n  border: 0;\n  background: ",";\n}\n.ais-SearchBox {\n  border: 0;\n  height: auto;\n  margin: 0;\n  width: auto;\n  margin: 0;\n  margin-right: 24px;\n  flex:1;\n}\n","\n"]);return Is=function(){return e},e}function Ls(){var e=Object(i.a)(["\n  cursor: pointer;\n  height: 40px;\n  width: 40px;\n  min-width: 40px;\n  border-radius: 40px;\n  margin-top: 5px;\n  display: flex;\n  align-items: center;\n  &:hover {\n    background: ",";\n    svg {\n      stroke: ",";\n    }\n  }\n  svg {\n    stroke: ",";\n    margin: 0 auto;\n  }\n"]);return Ls=function(){return e},e}function Bs(){var e=Object(i.a)(["\n  div {\n    max-width: 36px;\n    height: 36px;\n    min-width: 36px;\n    margin: 15px auto 0;\n    border-radius: 36px;\n  }\n"]);return Bs=function(){return e},e}function Rs(){var e=Object(i.a)(["\n  img {\n    width: 36px;\n    height: 36px;\n    border-radius: 36px;\n    margin-top: 15px;\n  }\n"]);return Rs=function(){return e},e}var As=function(e){var n=e.SidebarBox,t=e.HeaderBox,r=e.SearchBox,a=e.children,i=e.userImage,o=e.userLink,l=e.username,u=e.name,s=e.signOut,m=c.a.useState(!1),d=Object(Xe.a)(m,2),p=d[0],f=d[1],v=Object(Ye.g)();return c.a.createElement(qs,null,c.a.createElement(es,{username:l,name:u,userImage:i,signOut:s,open:p,setOpen:f,Side:n}),c.a.createElement(Fs,null,c.a.createElement(Ms,{onClick:function(){return v.goBack()}},c.a.createElement(rr.a,{size:"20"})),r),c.a.createElement(Qs,null,t),c.a.createElement(Hs,null,c.a.createElement(Vs,{className:"panel_sidebar"},c.a.createElement(Ws,null,n)),c.a.createElement(Vs,null,c.a.createElement(Ks,null,a))),c.a.createElement($s,null,c.a.createElement(Ds,null,c.a.createElement(Zu,{open:p,setOpen:f})),c.a.createElement(Ds,null,c.a.createElement(pn.c,{to:"/"},c.a.createElement(zs,null,c.a.createElement(Gc.b,{src:Z})))),c.a.createElement(Ds,null,c.a.createElement(Us,null,c.a.createElement(pn.c,{to:o},c.a.createElement(cr,{src:i,size:"m"}))))))},zs=Pn(Nn.Box)(Rs()),Us=Pn(Nn.Box)(Bs()),Ms=Pn(Nn.Box)(Ls(),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.mediumdark})),Fs=Pn(Nn.Box)(Is(),(function(e){return e.theme.colors.appInverse}),(function(e){return e.theme.colors.border}),(function(e){return e.theme.colors.app}),f.a.greaterThan("medium")(Ps())),Ds=Pn(Nn.Box)(_s()),$s=Pn(Nn.Box)(Ns(),(function(e){return e.theme.colors.appInverse}),(function(e){return e.theme.colors.border}),f.a.greaterThan("medium")(Cs())),Vs=Pn(Nn.Box)(Ss(),f.a.lessThan("medium")(Ts())),qs=Pn(Nn.Box)(ks(),f.a.greaterThan("large")(ws()),f.a.lessThan("medium")(ys())),Hs=Pn(Nn.Box)(js(),f.a.greaterThan("medium")(Os()),f.a.lessThan("medium")(xs()),f.a.lessThan("small")(Es())),Ws=Pn(Nn.Box)(hs()),Ks=Pn(Nn.Box)(bs()),Qs=Pn(Nn.Box)(gs(),f.a.lessThan("medium")(vs())),Gs=(t(723),t(419)),Ys=t.n(Gs);function Xs(){var e=Object(i.a)(["\n  color: ",";\n  text-decoration: none;\n  font-size: "," !important;\n  letter-spacing: 0 !important;\n  font-family: "," !important;\n  &.markdown-body {\n    box-sizing: border-box;\n    min-width: 200px;\n    max-width: 568px;\n  }\n"]);return Xs=function(){return e},e}var Js,Zs=Pn(Nn.Text)(Xs(),(function(e){return e.theme.colors.dark}),ke.s2,(function(e){return e.theme.fontFamily})),em=function(e){var n=e.content;return c.a.createElement(Zs,{className:"markdown-body",dangerouslySetInnerHTML:{__html:Ys.a.sanitize(n)},variant:"text"})};function nm(){var e=Object(i.a)(["\n  & button {\n    span {\n      vertical-align: sub;\n      display: inline-block;\n      height: 30px;\n      margin-right: 4px;\n    }\n  }\n"]);return nm=function(){return e},e}function tm(){var e=Object(i.a)(["\n  width: 100%;\n  position: relative;\n  border-radius: 6px;\n"]);return tm=function(){return e},e}function rm(){var e=Object(i.a)(["\n  width: 120px;\n  height: 120px;\n  border-radius: 6px;\n  background: ",";\n  border: 3px solid ",";\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 16px;\n"]);return rm=function(){return e},e}function am(){var e=Object(i.a)(["\n  padding: 24px;\n  padding-top: 0;\n  z-index: 9999;\n  position: relative;\n  margin-top: -60px;\n  padding-bottom: 0;\n"]);return am=function(){return e},e}function im(){var e=Object(i.a)(["\n  height: 250px;\n  margin: -4px;\n  background: ",';\n  background-image: url("','");\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  position: relative;\n']);return im=function(){return e},e}function om(){var e=Object(i.a)(["\n  color: ",";\n  font-weight: 500;\n  line-height: 26px;\n  border-radius: 100px;\n  align-items: center;\n  span {\n    margin-right: 8px;\n    & svg {\n      stroke: ",";\n      vertical-align: text-bottom;\n    }\n    .--rtl & {\n      margin-left: 8px;\n      margin-right: 0px;\n    }\n  }\n"]);return om=function(){return e},e}function lm(){var e=Object(i.a)(["\n  color: ",";\n  font-weight: 500;\n"]);return lm=function(){return e},e}function cm(){var e=Object(i.a)(["\n  background: ",";\n  padding-bottom: 16px;\n"]);return cm=function(){return e},e}function um(){var e=Object(i.a)(["\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n"]);return um=function(){return e},e}function sm(){var e=Object(i.a)(["\n  justify-content: space-between;\n  ",";\n"]);return sm=function(){return e},e}function mm(){var e=Object(i.a)(["\n  color: ",";\n"]);return mm=function(){return e},e}function dm(){var e=Object(i.a)(["\n  align-items: center;\n"]);return dm=function(){return e},e}function pm(){var e=Object(i.a)(["\n  padding: 1px 8px;\n  border: 1px solid ",";\n  border-radius: 2px;\n  color: ",";\n  display: inline-block;\n"]);return pm=function(){return e},e}!function(e){e[e.Loading=0]="Loading",e[e.Loaded=1]="Loaded"}(Js||(Js={}));var fm=function(e){var n,t,r,a;if(e.status===Js.Loading)return null;var i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GRAPHQL_ENDPOINT:"",REACT_APP_SENTRY_API_KEY:""}).REACT_APP_GRAPHQL_IMG_LINK;return c.a.createElement(Em,{p:1},c.a.createElement(km,null,c.a.createElement(jm,{src:"".concat(i).concat(e.user.profile.image)}),c.a.createElement(hm,null,c.a.createElement(ym,null,c.a.createElement(wm,{style:{backgroundImage:'url("'.concat(i).concat(e.user.profile.icon,'")')}})),c.a.createElement(gm,{mr:2},e.me?c.a.createElement(c.a.Fragment,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(Mn,{mr:2,variant:e.following?"danger":"primary",isSubmitting:e.toggleFollowFormik.isSubmitting,isDisabled:e.toggleFollowFormik.isSubmitting,onClick:e.toggleFollowFormik.submitForm},e.following?c.a.createElement(dn.Trans,{id:"Unfollow"}):c.a.createElement(dn.Trans,{id:"Follow"}))))),c.a.createElement(Tm,{ml:3},c.a.createElement(bm,{sx:{fontSize:"18px"},mt:2,variant:"heading",fontWeight:"bold"},null===(n=e.user)||void 0===n||null===(t=n.profile)||void 0===t?void 0:t.name),c.a.createElement(xm,{mt:1},"@",null===(r=e.user)||void 0===r||null===(a=r.character)||void 0===a?void 0:a.username,e.me&&e.isAdmin&&c.a.createElement(vm,{ml:2},"Admin")),c.a.createElement(Nn.Box,{mt:2},c.a.createElement(em,{content:e.summary})),e.location?c.a.createElement(Om,{mt:2},c.a.createElement("span",null,c.a.createElement(Mi.a,{strokeWidth:1,size:20})),e.location):null)))},vm=Pn(Nn.Box)(pm(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),gm=Pn(Nn.Flex)(dm()),bm=Pn(Nn.Text)(mm(),(function(e){return e.theme.colors.darker})),hm=Pn(Nn.Flex)(sm(),f.a.lessThan("860px")(um())),Em=Pn(Nn.Box)(cm(),(function(e){return e.theme.colors.appInverse})),xm=Pn(Nn.Text)(lm(),(function(e){return e.theme.colors.mediumdark})),Om=Pn(Nn.Flex)(om(),(function(e){return e.theme.colors.mediumdark}),(function(e){return e.theme.colors.mediumdark})),jm=Pn.div(im(),(function(e){return e.theme.colors.light}),(function(e){return e.src?e.src:e.theme.colors.light})),ym=Pn.div(am()),wm=Pn.div(rm(),(function(e){return e.theme.colors.light}),(function(e){return e.theme.colors.appInverse})),km=Pn.div(tm()),Tm=Pn(Nn.Box)(nm());function Sm(){var e=Object(i.a)(["\n    query userDataBiID($id: ID!) {\n  user(filter: {id: $id}) {\n    ...HeroUserUserData\n  }\n}\n    ",""]);return Sm=function(){return e},e}function Cm(){var e=Object(i.a)(["\n    query userData($username: String!) {\n  user(filter: {username: $username}) {\n    ...HeroUserUserData\n  }\n}\n    ",""]);return Cm=function(){return e},e}function Nm(){var e=Object(i.a)(["\n    fragment HeroUserUserData on User {\n  id\n  profile {\n    name\n    summary\n    image\n    icon\n  }\n  character {\n    username\n  }\n}\n    "]);return Nm=function(){return e},e}var _m=C()(Nm());C()(Cm(),_m);var Pm=C()(Sm(),_m);var Im=function(e){var n,t,r=(t={variables:{id:e}},N.d(Pm,t)),a=un().me,i=null===(n=r.data)||void 0===n?void 0:n.user;return{isMe:Object(l.useMemo)((function(){return!(!(null===a||void 0===a?void 0:a.users)||!(null===a||void 0===a?void 0:a.users[0])||(null===a||void 0===a?void 0:a.users[0].id)!==(null===i||void 0===i?void 0:i.id))}),[a,i]),user:i}},Lm=function(e){var n=e.userId,t=Im(n),r=t.user,a=t.isMe,i=Object(l.useReducer)((function(e){return!e}),!1),o=Object(Xe.a)(i,2),u=o[0],s=o[1],m=Object(fn.a)({initialValues:{},onSubmit:function(){}}),d=er(),p=Object(l.useReducer)((function(e){return!d()&&!e}),!1),f=Object(Xe.a)(p,2),v=f[0],b=f[1],h=r&&v?c.a.createElement(za,{closeModal:b},"FlagModal"):null,E=Object(l.useMemo)((function(){if(!r)return{status:Js.Loading};var e={user:r};return a?Object(g.a)({me:a},e):Object(g.a)({flag:b,me:a,isOpenDropdown:u,toggleDropdown:s,toggleFollowFormik:m},e)}),[a,r,m,u]);return c.a.createElement(c.a.Fragment,null,h,c.a.createElement(fm,E))},Bm=t(838);function Rm(){var e=Object(i.a)(["\n  ",";\n  color: ",";\n  &:hover {\n    text-decoration: underline;\n  }\n"]);return Rm=function(){return e},e}var Am=t(675).default,zm=t(674).default,Um=function(e){e.userInfo;var n=e.HeroUserBox,t=e.ActivityBoxes,r=e.InventoryBoxes,a=e.basePath,i=e.totalCommunities,o=e.userLink,c=e.totalCollections,u=e.totalUsers,s=e.loadMoreActivities;return l.createElement(Pc,null,l.createElement(Ic,null,l.createElement(Lc,null,l.createElement(Nn.Box,{mb:2},n,l.createElement(Mm,{basePath:a,totalCommunities:i,totalCollections:c,totalUsers:u})),l.createElement(Ye.c,null,l.createElement(Ye.a,{path:"".concat(a,"/inventory")},r),l.createElement(Ye.a,{exact:!0,path:"".concat(a,"/")},l.createElement(_c,null,t),s&&l.createElement(Mc,{LoadMoreFormik:s}))))),l.createElement(nt,null,(null===o||void 0===o?void 0:o.length)>0?l.createElement(tt,null,l.createElement(rt,{fontWeight:"bold"},"Relevant links"),l.createElement(at,null,l.createElement(it,null,l.createElement(Nn.Flex,null,l.createElement(Bm.a,{size:20})," ",l.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer"},l.createElement(Fm,{ml:2,flex:1},o)))))):null))},Mm=function(e){var n=e.basePath;e.totalCommunities;return l.createElement(Ac,{p:3,pt:3},l.createElement(Rc,{exact:!0,to:"".concat(n)},l.createElement("div",{className:"text-holder"},l.createElement(dn.Trans,{id:"Recent activity"})),l.createElement(zc,{className:"icon-holder"},l.createElement(Am,{size:"24"}))),l.createElement(Rc,{exact:!0,to:"".concat(n,"/inventory")},l.createElement("div",{className:"text-holder"},l.createElement(dn.Trans,{id:"Inventory"})),l.createElement(zc,{className:"icon-holder"},l.createElement(zm,{size:"24"}))))},Fm=Pn(Nn.Text)(Rm(),Object(Rn.c)("250px"),(function(e){return e.theme.colors.dark})),Dm=t(420),$m=t.n(Dm);function Vm(){var e=Object(i.a)(["\n  margin-top: 20px;\n  margin-bottom: 20px;\n  border-radius: 4px;\n  border: 1px solid #eee;\n  padding: 10px;\n  width: 100%;\n\n  .d-flex {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  .wrapper_info {\n    margin-left: 20px;\n  }\n\n  .intent {\n    padding: 10px 0;\n    &:not(:last-child) {\n      border-bottom: 1px solid #eee;\n    }\n  }\n"]);return Vm=function(){return e},e}var qm=Pn("div")(Vm()),Hm=t(846);function Wm(){var e=Object(i.a)(["\n  flex-basis: 100px;\n  width: 100px;\n  height: 100px;\n\n  img {\n    height: 100px;\n  }\n"]);return Wm=function(){return e},e}function Km(){var e=Object(i.a)(["\n        margin-top: 0;\n        margin-left: 20px;\n      "]);return Km=function(){return e},e}function Qm(){var e=Object(i.a)(["\n  margin-top: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  ",";\n"]);return Qm=function(){return e},e}function Gm(){var e=Object(i.a)(["\n  flex-basis: 140px;\n  width: 140px;\n  height: 140px;\n  border-radius: 4px;\n  background-color: #f3f3f3;\n\n  img {\n    width: 100%;\n    height: 140px;\n    object-fit: cover;\n    border-radius: 4px;\n  }\n"]);return Gm=function(){return e},e}function Ym(){var e=Object(i.a)(["\n  flex-basis: calc(100% - 160px);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: flex-start;\n"]);return Ym=function(){return e},e}function Xm(){var e=Object(i.a)(["\n        padding: 10px 15px 0;\n      "]);return Xm=function(){return e},e}function Jm(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding: 15px 0 0;\n\n  &:not(:last-child) {\n    margin-bottom: 10px;\n  }\n\n  button {\n    margin-right: 0;\n  }\n\n  ",";\n"]);return Jm=function(){return e},e}function Zm(){var e=Object(i.a)(["\n  padding: 10px 10px 10px 20px;\n  border-bottom: 1px solid #ccc;\n"]);return Zm=function(){return e},e}function ed(){var e=Object(i.a)(["\n        display: flex;\n        margin-bottom: 20px;\n      "]);return ed=function(){return e},e}function nd(){var e=Object(i.a)(["\n  ",";\n"]);return nd=function(){return e},e}function td(){var e=Object(i.a)(["\n        display: block;\n      "]);return td=function(){return e},e}function rd(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  flex-grow: 0;\n  background: #fff;\n  height: auto;\n  padding: 1em;\n  margin-bottom: 10px;\n\n  ",";\n"]);return rd=function(){return e},e}function ad(){var e=Object(i.a)(["\n  width: 30px;\n  display: inline-block;\n  svg {\n    stroke: ",";\n  }\n"]);return ad=function(){return e},e}function id(){var e=Object(i.a)(["\n  color: ",";\n  text-decoration: none !important;\n"]);return id=function(){return e},e}function od(){var e=Object(i.a)(["\n  background: ",";\n  color: ",";\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: 10px;\n  border-radius: 4px;\n  padding: 3px 5px;\n  width: auto;\n  display: inline-block;\n  margin-bottom: 10px;\n"]);return od=function(){return e},e}var ld=t(676).default,cd=t(739).default,ud=t(740).default,sd=t(370).default,md=t(371).default,dd=t(741).default,pd=t(361).default,fd=t(742).default,vd=t(743).default,gd=t(744).default,bd=t(745),hd=function(e){var n,t,r,a,i,o,c,u,s,m=e.resource,d=e.openEditModal,p=e.openUpdateResourceModal,f=(e.openDeleteResourceModal,window.location.href),v=l.useState({first:!1,second:!1}),b=Object(Xe.a)(v,2),h=b[0],E=b[1];return l.createElement(Pc,null,l.createElement(Ic,null,l.createElement(Lc,null,l.createElement(Bc,null,l.createElement(kd,null,l.createElement(Mn,{mr:2,onClick:d,variant:"button"},l.createElement(dn.Trans,{id:"Perform event"})),l.createElement(Mn,{ml:2,onClick:p,variant:"error"},l.createElement(dd,{size:"16",className:"ml-2"})," ",l.createElement(dn.Trans,{id:"Edit"}))),l.createElement(jd,null,l.createElement(yd,null,l.createElement(Sd,null,(null===m||void 0===m?void 0:m.image)&&l.createElement("img",{src:m.image,alt:m.name})),l.createElement(Cd,null,(null===m||void 0===m?void 0:m.id)&&l.createElement(bd,{value:f}))),l.createElement(Td,null,l.createElement(Nn.Box,{mb:2},l.createElement(xd,{variant:"heading"}," ",l.createElement(dn.Trans,{id:"{0}",values:{0:m&&m.name}}))),l.createElement(Nn.Box,null,l.createElement(Nn.Text,{variant:"text"},l.createElement(Od,null,l.createElement(md,{size:"16"})),l.createElement("b",null,l.createElement(dn.Trans,{id:"Note:"})," ")," ",l.createElement(dn.Trans,{id:"{0}",values:{0:(null===m||void 0===m?void 0:m.note)?m.note:"Not provided"}}))),l.createElement(Nn.Box,null,l.createElement(Nn.Text,{variant:"text"},l.createElement(Od,null,l.createElement(ud,{size:"16"})),l.createElement("b",null,l.createElement(dn.Trans,{id:"Location:"}))," ",(null===m||void 0===m||null===(n=m.currentLocation)||void 0===n?void 0:n.name)?m.currentLocation.name:"Not provided")),l.createElement(Nn.Box,null,l.createElement(Nn.Text,{variant:"text"},l.createElement(Od,null,l.createElement(sd,{size:"16"})),l.createElement("b",null,"Quantity in stock:")," ",l.createElement("span",{style:{color:(null===m||void 0===m?void 0:m.onhandQuantity)&&m.onhandQuantity.hasNumericalValue<0?"red":"inherit"}},(null===m||void 0===m?void 0:m.onhandQuantity)?"".concat(null===m||void 0===m||null===(t=m.onhandQuantity)||void 0===t?void 0:t.hasNumericalValue," ").concat(null===m||void 0===m||null===(r=m.onhandQuantity)||void 0===r?void 0:r.hasUnit.label):"Not provided"))),l.createElement(Nn.Box,null,l.createElement(Nn.Text,{variant:"text"},l.createElement(Od,null,l.createElement(pd,{size:"16"})),l.createElement("b",null,l.createElement(dn.Trans,{id:"Owner:"}))," ",(null===m||void 0===m?void 0:m.primaryAccountable)?null===m||void 0===m?void 0:m.primaryAccountable.name:"Not provided")),l.createElement(Nn.Box,{p:3},l.createElement(Nn.Text,{variant:"subhead"},l.createElement(Od,null,l.createElement(fd,{size:"16"})),"History:"," ",(null===m||void 0===m||null===(a=m.track)||void 0===a?void 0:a.length)>0||(null===m||void 0===m||null===(i=m.trace)||void 0===i?void 0:i.length)>0?"":"Not available")),null===m||void 0===m||null===(o=m.track)||void 0===o?void 0:o.map((function(e){var n,t,r;return l.createElement(wd,{key:e.id},l.createElement(Ed,null,e.action?l.createElement(dn.Trans,{id:"{0}",values:{0:e.action.label}}):l.createElement(dn.Trans,{id:"Not provided"})),l.createElement(Nn.Box,{mr:1},l.createElement(Nn.Text,{variant:"text"},l.createElement(Od,null,l.createElement(vd,{size:"16"})),l.createElement("b",null,l.createElement(dn.Trans,{id:"Result:"}))," ",e.toResourceInventoriedAs?l.createElement(pn.b,{to:"/resource/".concat(e.toResourceInventoriedAs.id),key:e.toResourceInventoriedAs.id},e.toResourceInventoriedAs.name):"Not available")),l.createElement(Nn.Box,{mr:1},l.createElement(Nn.Text,{variant:"text"},l.createElement(Od,null,l.createElement(md,{size:"16"})),l.createElement("b",null,l.createElement(dn.Trans,{id:"Track note:"}))," ",e.note?e.note:"Not provided")),l.createElement(Nn.Box,{mr:1},l.createElement(Nn.Text,{variant:"text"},l.createElement(Od,null,l.createElement(gd,{size:"16"})),l.createElement("b",null,l.createElement(dn.Trans,{id:"Event Date:"}))," ",e.hasPointInTime?Object(Hm.a)(new Date(e.hasPointInTime),"dd.MM.yyyy"):"Not provided")),l.createElement(Nn.Box,{mr:1},l.createElement(Nn.Text,{variant:"text"},l.createElement(Od,null,l.createElement(sd,{size:"16"})),l.createElement("b",null,"Quantity: ")," ",(null===(n=e.resourceQuantity)||void 0===n?void 0:n.hasNumericalValue)?"".concat(null===(t=e.resourceQuantity)||void 0===t?void 0:t.hasNumericalValue," ").concat(null===(r=e.resourceQuantity)||void 0===r?void 0:r.hasUnit.label):"Not provided")),l.createElement(Nn.Box,{mr:1},l.createElement(Nn.Text,{variant:"text"},l.createElement(Od,null,l.createElement(pd,{size:"16"})),l.createElement("b",null,l.createElement(dn.Trans,{id:"Provider:"}))," ",e.provider?l.createElement(pn.b,{to:"/user/".concat(e.provider.id),key:e.provider.id},e.provider.name):"Not available")),l.createElement(Nn.Box,{mr:1},l.createElement(Nn.Text,{variant:"text"},l.createElement(Od,null,l.createElement(pd,{size:"16"})),l.createElement("b",null,l.createElement(dn.Trans,{id:"Receiver:"}))," ",e.receiver?l.createElement(pn.b,{to:"/user/".concat(e.receiver.id),key:e.receiver.id},e.receiver.name):"Not available")))})),null===m||void 0===m||null===(c=m.trace)||void 0===c?void 0:c.map((function(e){var n,t,r;return l.createElement(wd,{key:e.id},l.createElement(Ed,null,e.action?l.createElement(dn.Trans,{id:"{0}",values:{0:e.action.label}}):l.createElement(dn.Trans,{id:"Not provided"})),l.createElement(Nn.Box,{mr:1},l.createElement(Nn.Text,{variant:"text"},l.createElement(Od,null,l.createElement(vd,{size:"16"})),l.createElement("b",null,l.createElement(dn.Trans,{id:"Source:"}))," ",e.resourceInventoriedAs?l.createElement(pn.b,{to:"/resource/".concat(e.resourceInventoriedAs.id),key:e.resourceInventoriedAs.id},e.resourceInventoriedAs.name):"Not available")),l.createElement(Nn.Box,{mr:1},l.createElement(Nn.Text,{variant:"text"},l.createElement(Od,null,l.createElement(md,{size:"16"})),l.createElement("b",null,l.createElement(dn.Trans,{id:"Trace note:"}))," ",e.note?e.note:"Not provided")),l.createElement(Nn.Box,{mr:1},l.createElement(Nn.Text,{variant:"text"},l.createElement(Od,null,l.createElement(sd,{size:"16"})),l.createElement("b",null,"Quantity:")," ",(null===(n=e.resourceQuantity)||void 0===n?void 0:n.hasNumericalValue)?"".concat(null===(t=e.resourceQuantity)||void 0===t?void 0:t.hasNumericalValue," ").concat(null===(r=e.resourceQuantity)||void 0===r?void 0:r.hasUnit.label):"Not provided")),l.createElement(Nn.Box,{mr:1},l.createElement(Nn.Text,{variant:"text"},l.createElement(Od,null,l.createElement(gd,{size:"16"})),l.createElement("b",null,l.createElement(dn.Trans,{id:"Event Date:"}))," ",e.hasPointInTime?Object(Hm.a)(new Date(e.hasPointInTime),"dd.MM.yyyy"):"Not provided")),l.createElement(Nn.Box,{mr:1},l.createElement(Nn.Text,{variant:"text"},l.createElement(Od,null,l.createElement(pd,{size:"16"})),l.createElement("b",null,l.createElement(dn.Trans,{id:"Provider:"}))," ",e.provider?l.createElement(pn.b,{to:"/user/".concat(e.provider.id),key:e.provider.id},e.provider.name):"Not available")),l.createElement(Nn.Box,{mr:1},l.createElement(Nn.Text,{variant:"text"},l.createElement(Od,null,l.createElement(pd,{size:"16"})),l.createElement("b",null,l.createElement(dn.Trans,{id:"Receiver:"}))," ",e.receiver?l.createElement(pn.b,{to:"/user/".concat(e.receiver.id),key:e.receiver.id},e.receiver.name):"Not available")))})),l.createElement(Nn.Box,{p:3},l.createElement(Nn.Text,{variant:"subhead"},l.createElement(Od,null,l.createElement(ud,{size:"16"})),"Location:")),l.createElement(Hi,{zoom:13,markers:[{position:{lng:(null===m||void 0===m||null===(u=m.currentLocation)||void 0===u?void 0:u.long)||2.2,lat:(null===m||void 0===m||null===(s=m.currentLocation)||void 0===s?void 0:s.lat)||41.4}}]}),l.createElement(qm,null,l.createElement("div",{className:"d-flex"},l.createElement(Nn.Text,{variant:"heading"},l.createElement(dn.Trans,{id:"More info"})),l.createElement(Mn,{mr:2,onClick:function(){return E(Object(g.a)(Object(g.a)({},h),{},{first:!h.first}))},variant:"show-more"},h.first?l.createElement(l.Fragment,null,l.createElement(cd,{size:"16"}),l.createElement(dn.Trans,{id:"Hide data"})):l.createElement(l.Fragment,null,l.createElement(ld,{size:"16"}),l.createElement(dn.Trans,{id:"Show data"})))),h.first?l.createElement("div",null,l.createElement("div",{className:"intent"},l.createElement(Nn.Text,{variant:"text"},l.createElement("b",null,l.createElement(dn.Trans,{id:"contained In:"}))," ",(null===m||void 0===m?void 0:m.containedIn)+"")),l.createElement("div",{className:"intent"},l.createElement(Nn.Text,{variant:"text"},l.createElement("b",null,l.createElement(dn.Trans,{id:"contains:"}))," ",(null===m||void 0===m?void 0:m.contains)+"")),l.createElement("div",{className:"intent"},l.createElement(Nn.Text,{variant:"text"},l.createElement("b",null,l.createElement(dn.Trans,{id:"lot:"}))," ",(null===m||void 0===m?void 0:m.lot)+"")),l.createElement("div",{className:"intent"},l.createElement(Nn.Text,{variant:"text"},l.createElement("b",null,l.createElement(dn.Trans,{id:"stage:"}))," ",(null===m||void 0===m?void 0:m.stage)+"")),l.createElement("div",{className:"intent"},l.createElement(Nn.Text,{variant:"text"},l.createElement("b",null,l.createElement(dn.Trans,{id:"trace length:"}))," ",null===m||void 0===m?void 0:m.trace.length)),l.createElement("div",{className:"intent"},l.createElement(Nn.Text,{variant:"text"},l.createElement("b",null,l.createElement(dn.Trans,{id:"tracking Identifier:"}))," ",(null===m||void 0===m?void 0:m.trackingIdentifier)+"")),l.createElement("div",{className:"intent"},l.createElement(Nn.Text,{variant:"text"},l.createElement("b",null,l.createElement(dn.Trans,{id:"unit Of Effort:"}))," ",(null===m||void 0===m?void 0:m.unitOfEffort)+""))):null)))))))},Ed=Pn(Nn.Text)(od(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.light})),xd=Pn(Nn.Text)(id(),(function(e){return e.theme.colors.dark})),Od=Pn(Nn.Box)(ad(),(function(e){return e.theme.colors.mediumdark})),jd=Pn("div")(rd(),f.a.lessThan("medium")(td())),yd=Pn("div")(nd(),f.a.lessThan("medium")(ed())),wd=Pn("div")(Zm()),kd=Pn("div")(Jm(),f.a.lessThan("medium")(Xm())),Td=Pn("div")(Ym()),Sd=Pn("div")(Gm()),Cd=Pn(Sd)(Qm(),f.a.lessThan("medium")(Km())),Nd=(Pn(Sd)(Wm()),"ASC");function _d(){var e=Object(i.a)(["\n  font-size: ",";\n  color: ",";\n  text-decoration: none !important;\n  margin-bottom: 10px;\n\n  &:hover {\n    text-decoration: underline !important;\n  }\n"]);return _d=function(){return e},e}function Pd(){var e=Object(i.a)(["\n  text-decoration: none !important;\n\n  * {\n    text-decoration: none !important;\n  }\n"]);return Pd=function(){return e},e}function Id(){var e=Object(i.a)(["\n  text-align: center;\n\n  ul {\n    padding: 10px 0 20px;\n    margin: 0;\n  }\n\n  .page-link {\n    line-height: 30px;\n    border: 1px solid #999;\n    color: #999;\n    background-color: #fff;\n    border-radius: 4px;\n    margin: 2px;\n  }\n\n  .page-item.active .page-link {\n    border: 1px solid #02e379;\n    color: #02e379;\n  }\n"]);return Id=function(){return e},e}function Ld(){var e=Object(i.a)(["\n      margin: 0 10px;\n  "]);return Ld=function(){return e},e}function Bd(){var e=Object(i.a)(["\n  margin: 0 10px;\n  height: 34px;\n  text-transform: capitalize;\n  line-height: 34px;\n  padding: 0 16px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  &:not(:last-child) {\n    margin-right: 20px;\n  }\n\n  & > svg {\n    display: inline-block;\n    margin-right: 8px;\n    margin-left: 16px;\n  }\n  & > div {\n    color: #fff;\n    display: inline-block;\n  }\n\n  ",";\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n"]);return Bd=function(){return e},e}function Rd(){var e=Object(i.a)(["\n      justify-content: space-between;\n      margin: 10px;\n  "]);return Rd=function(){return e},e}function Ad(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: flex-end;\n  height: 34px;\n  margin: 10px 0;\n  position: relative;\n\n  ",";\n"]);return Ad=function(){return e},e}var zd=t(370).default,Ud=t(371).default,Md=t(361).default,Fd=function(e){var n,t,r=e.inventory,a=e.done,i=e.children,o=e.owner,c=un().me,u=null===c||void 0===c||null===(n=c.user)||void 0===n?void 0:n.id,s=Object(l.useState)([]),m=Object(Xe.a)(s,2),d=m[0],p=m[1],f=Object(l.useState)(1),v=Object(Xe.a)(f,2),g=v[0],b=v[1];return Object(l.useEffect)((function(){if(r.length){var e=r.slice(5*(g-1),5*(g-1)+5);p(e)}else p([])}),[r,g]),Object(l.useEffect)((function(){b(1)}),[r.length]),l.createElement(l.Fragment,null,l.createElement(Dd,null,(null===c||void 0===c||null===(t=c.user)||void 0===t?void 0:t.id)===o&&l.createElement($d,{variant:"primary",onClick:a},l.createElement(br.a,{size:16,color:"#fff"}),l.createElement(Nn.Text,{variant:"button"},l.createElement(dn.Trans,{id:"Create a new resource"})))),l.createElement("div",{style:{position:"relative"}},i),l.createElement(Bc,null,!!d.length&&d.map((function(e){var n=e.id,t=e.name,r=e.note,a=e.image,i=e.onhandQuantity,o=e.primaryAccountable;return l.createElement(qd,{to:"/resource/".concat(n),key:n},l.createElement(jd,{key:n},l.createElement(Sd,null,a&&l.createElement("img",{src:a,alt:t})),l.createElement(Td,null,l.createElement(Hd,{variant:"subhead"},t),l.createElement(Nn.Box,{mr:1},l.createElement(Nn.Text,{variant:"text"},l.createElement(Od,null,l.createElement(Ud,{size:"16"})),l.createElement("b",null,l.createElement(dn.Trans,{id:"Note:"})," ")," ",l.createElement(dn.Trans,{id:"{0}",values:{0:r||"Not provided"}}))),l.createElement(Nn.Box,{mr:1},l.createElement(Nn.Text,{variant:"text"},l.createElement(Od,null,l.createElement(zd,{size:"16"})),l.createElement("b",null,"Quantity in stock:")," ",l.createElement("span",{style:{color:i&&i.hasNumericalValue<0?"red":"inherit"}},i?"".concat(i.hasNumericalValue," ").concat(i.hasUnit.label):"Not provided"))),l.createElement(Nn.Box,{mr:1},l.createElement(Nn.Text,{variant:"text"},l.createElement(Od,null,l.createElement(Md,{size:"16"})),l.createElement("b",null,l.createElement(dn.Trans,{id:"Owner:"}))," ",(null===o||void 0===o?void 0:o.id)===u?"Me":null===o||void 0===o?void 0:o.name)))))})),!!d.length&&l.createElement(Vd,null,l.createElement($m.a,{size:"sm",totalItems:0,pageSize:5,onSelect:function(e){b(e)},maxPaginationNumbers:4,defaultActivePage:1,previousPageText:"Prev"})),!d.length&&l.createElement("p",{style:{textAlign:"center",fontWeight:600,color:"#444444",paddingBottom:40}},"No results")))},Dd=Pn.div(Ad(),f.a.lessThan("medium")(Rd())),$d=Pn(Nn.Button)(Bd(),f.a.lessThan("medium")(Ld()),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.appInverse})),Vd=Pn("div")(Id()),qd=Pn(pn.c)(Pd()),Hd=Pn(Nn.Text)(_d(),ke.m1,(function(e){return e.theme.colors.dark})),Wd=t(367),Kd=t(368);function Qd(){var e=Object(i.a)(["\n     margin: 0 15px 0 0;\n     left: 15px;\n  "]);return Qd=function(){return e},e}function Gd(){var e=Object(i.a)(["\n  background-color: #fff;\n  border: 1px solid #05244f;\n  border-radius: 4px;\n  color: #05244f;\n  padding: 0;\n  margin: 0;\n  height: 34px;\n  width: 34px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  left: 0;\n  top: -44px;\n\n  ",";\n"]);return Gd=function(){return e},e}function Yd(){var e=Object(i.a)(["\n  flex-basis: calc(100% - 30px);\n  font-family: Arial, sans-serif;\n  font-size: 14px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  span {\n    display: inline-block;\n    margin-left: 20px;\n  }\n"]);return Yd=function(){return e},e}function Xd(){var e=Object(i.a)(["\n  text-transform: uppercase;\n  color: #999;\n  font-weight: 600;\n  letter-spacing: 1px;\n  padding: 0;\n\n  & > div {\n    display: flex;\n    padding: 10px 0;\n\n    input {\n      flex-basis: 20px;\n      height: 20px;\n    }\n  }\n"]);return Xd=function(){return e},e}function Jd(){var e=Object(i.a)(["\n  background-color: transparent;\n  border: none;\n  color: #999;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  &.active {\n    color: #05244f;\n  }\n"]);return Jd=function(){return e},e}function Zd(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 40px;\n  line-height: 40px;\n  margin: 0 20px;\n"]);return Zd=function(){return e},e}function ep(){var e=Object(i.a)(["\n  padding: 10px;\n  background-color: #fff;\n  border: 1px solid #05244f;\n  border-radius: 4px;\n  margin-bottom: 10px;\n"]);return ep=function(){return e},e}function np(){var e=Object(i.a)(["\n  margin-left: auto;\n  margin-bottom: 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 20px;\n\n  svg {\n    margin-right: 10px;\n  }\n"]);return np=function(){return e},e}var tp=t(751).default,rp=t(752).default,ap=t(753).default,ip=t(677).default,op=function(e){var n=e.isOpen,t=e.filterSet,r=e.triggerOpen,i=e.onChange,l=e.onClear,u=function(){var e=Object(o.a)(a.a.mark((function e(n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.currentTarget.name,i({sort:r,order:"DES"===t.order?Nd:"DES"});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement(pp,{onClick:function(){return r(!n)},type:"button"},n?c.a.createElement(ip,{size:"16"}):c.a.createElement(ap,{size:"16"})),n?c.a.createElement(c.a.Fragment,null,c.a.createElement(cp,null,c.a.createElement("div",{className:"d-flex"},c.a.createElement("div",{className:"item_col-6 align-center"},c.a.createElement(sp,{onClick:u,name:"name",className:"name"===t.sort&&"active"},"Sort by Name:","name"===t.sort&&t.order===Nd?c.a.createElement(up,null," ",c.a.createElement(tp,{size:16})," ",Nd):c.a.createElement(up,null," ",c.a.createElement(rp,{size:16})," ","DES")))),c.a.createElement(xi,null,c.a.createElement(Oi,null,"Name"),c.a.createElement(Pi,{type:"text",id:"name",name:"search",onChange:function(e){var n=e.currentTarget;return i({search:n.value})},placeholder:Object(dn.i18nMark)("Search query"),value:t.search})),c.a.createElement("div",{className:"d-flex"},c.a.createElement("div",{className:"item_col-6"},c.a.createElement(mp,null,c.a.createElement(dp,null,c.a.createElement(Wd.a,{style:{width:"auto"},name:"trace",id:"trace",type:"checkbox",checked:t.trace||!1,onChange:function(){return i({trace:!t.trace})}}),c.a.createElement("span",null,"Resulted from a previous resource")))),c.a.createElement("div",{className:"item_col-6"},c.a.createElement(mp,null,c.a.createElement(dp,null,c.a.createElement(Wd.a,{style:{width:"auto"},name:"track",id:"track",type:"checkbox",checked:t.track||!1,onChange:function(){return i({track:!t.track})}}),c.a.createElement("span",null,"Created further resources"))))),c.a.createElement("div",{className:"d-flex"},c.a.createElement(lp,{onClick:function(){l(),r(!1)},type:"button"},c.a.createElement(ip,{size:16}),"Clear")))):null)},lp=Pn(Nn.Button)(np()),cp=Pn(si)(ep()),up=Pn.span(Zd()),sp=Pn(Nn.Button)(Jd()),mp=Pn.span(Xd()),dp=Pn(Kd.a)(Yd()),pp=Pn(Nn.Button)(Gd(),f.a.lessThan("medium")(Qd()));function fp(){var e=Object(i.a)(["\n    query economicResource($id: ID!) {\n  economicResource(id: $id) {\n    id\n    image\n    trackingIdentifier\n    primaryAccountable {\n      id\n      name\n      image\n      relationshipsAsObject {\n        id\n        relationship {\n          id\n          inverseRoleLabel\n        }\n      }\n    }\n    name\n    note\n    image\n    stage {\n      id\n      name\n      note\n    }\n    contains {\n      image\n    }\n    stage {\n      id\n      name\n      note\n    }\n    containedIn {\n      id\n      name\n    }\n    currentLocation {\n      id\n      name\n      lat\n      long\n    }\n    lot {\n      id\n      expiryDate\n      batchNumber\n    }\n    track {\n      __typename\n      ... on EconomicEvent {\n        id\n        note\n        action {\n          id\n          label\n        }\n        toResourceInventoriedAs {\n          id\n          name\n        }\n        hasPointInTime\n        ...ResourceQuantity\n        provider {\n          id\n          name\n        }\n        receiver {\n          id\n          name\n        }\n        atLocation {\n          id\n          name\n        }\n      }\n    }\n    trace {\n      __typename\n      ... on EconomicEvent {\n        id\n        note\n        toResourceInventoriedAs {\n          id\n          name\n        }\n        hasPointInTime\n        action {\n          id\n          label\n        }\n        provider {\n          id\n          name\n        }\n        receiver {\n          id\n          name\n        }\n        ...ResourceQuantity\n        atLocation {\n          id\n          name\n        }\n      }\n    }\n    unitOfEffort {\n      id\n      label\n    }\n    ...OnhandQuantity\n  }\n}\n    ","\n",""]);return fp=function(){return e},e}function vp(){var e=Object(i.a)(["\n    fragment ResourceQuantity on EconomicEvent {\n  resourceQuantity {\n    hasNumericalValue\n    canonicalUrl\n    hasUnit {\n      id\n      label\n      symbol\n    }\n  }\n}\n    "]);return vp=function(){return e},e}function gp(){var e=Object(i.a)(["\n    fragment OnhandQuantity on EconomicResource {\n  onhandQuantity {\n    id\n    hasNumericalValue\n    hasUnit {\n      id\n      label\n    }\n  }\n}\n    "]);return gp=function(){return e},e}var bp=C()(gp()),hp=C()(vp()),Ep=C()(fp(),hp,bp);var xp=function(e,n){return{query:Ep,variables:e,context:n}};function Op(){var e=Object(i.a)(["\n    query economicResourcesFiltered($agent: [ID]) {\n  economicResourcesFiltered(agent: $agent) {\n    id\n    image\n    trackingIdentifier\n    primaryAccountable {\n      id\n      name\n      image\n      relationshipsAsObject {\n        id\n        relationship {\n          id\n          inverseRoleLabel\n        }\n      }\n    }\n    name\n    note\n    image\n    stage {\n      id\n      name\n      note\n    }\n    contains {\n      image\n    }\n    stage {\n      id\n      name\n      note\n    }\n    containedIn {\n      id\n      name\n    }\n    currentLocation {\n      id\n      name\n      lat\n      long\n    }\n    lot {\n      id\n      expiryDate\n      batchNumber\n    }\n    track {\n      __typename\n      ... on EconomicEvent {\n        id\n        note\n        action {\n          id\n          label\n        }\n        toResourceInventoriedAs {\n          id\n          name\n        }\n        hasPointInTime\n        ...ResourceQuantity\n        provider {\n          id\n          name\n        }\n        receiver {\n          id\n          name\n        }\n        atLocation {\n          id\n          name\n        }\n      }\n    }\n    trace {\n      __typename\n      ... on EconomicEvent {\n        id\n        note\n        toResourceInventoriedAs {\n          id\n          name\n        }\n        hasPointInTime\n        action {\n          id\n          label\n        }\n        provider {\n          id\n          name\n        }\n        receiver {\n          id\n          name\n        }\n        ...ResourceQuantity\n        atLocation {\n          id\n          name\n        }\n      }\n    }\n    unitOfEffort {\n      id\n      label\n    }\n    ...OnhandQuantity\n  }\n}\n    ","\n",""]);return Op=function(){return e},e}var jp=C()(Op(),hp,bp);var yp,wp=t(754),kp={sort:"",order:"",search:"",trace:!1,track:!1},Tp=function(e){e.triggerTab;var n=Object(Ye.h)(),t=Object(Ye.g)(),r=n.pathname.split("/")[2],a=c.a.useState(!1),i=Object(Xe.a)(a,2),o=i[0],u=i[1],s=Object(l.useState)(!1),m=Object(Xe.a)(s,2),d=m[0],p=m[1],f=Object(l.useState)(kp),b=Object(Xe.a)(f,2),h=b[0],E=b[1];Object(l.useEffect)((function(){var e=n.search,t=wp.parse(e);(null===e||void 0===e?void 0:e.length)&&p(!0),E(t)}),[]);var x,O=Object(l.useState)(!1),j=Object(Xe.a)(O,2),y=j[0],w=j[1],k=function(){w(!1)},T=y?c.a.createElement(za,{closeModal:k},o?c.a.createElement(Zi,{done:u}):c.a.createElement($o,{done:k,toggleCreateLocation:u})):null,S=(x={variables:{agent:r?[r]:[]}},N.d(jp,x)).data,C=(null===S||void 0===S?void 0:S.economicResourcesFiltered)||[],_=Object(l.useState)(Object(v.a)(C)),P=Object(Xe.a)(_,2),I=P[0],L=P[1];Object(l.useEffect)((function(){if(C.length)if(n.search.length){var e=Object(v.a)(C);!0===h.trace&&(e=e.filter((function(e){return e.trace.length}))),!0===h.track&&(e=e.filter((function(e){return e.track.length}))),h.search&&(e=e.filter((function(e){var n;return null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(h.search.toLowerCase())}))),h.order&&(e=e.sort((function(e,n){return e[h.sort]>n[h.sort]?1:e[h.sort]<n[h.sort]?-1:0}))),h.order&&h.order!==Nd?L(e):L(e.reverse()),L(e)}else L(C)}),[C]);Object(l.useEffect)((function(){B(h.trace)}),[h.trace]),Object(l.useEffect)((function(){B(h.track)}),[h.track]),Object(l.useEffect)((function(){L(C.filter((function(e){var n,t,r;return null===e||void 0===e||null===(n=e.name)||void 0===n||null===(t=n.toLowerCase())||void 0===t?void 0:t.includes((null===h||void 0===h||null===(r=h.search)||void 0===r?void 0:r.toLowerCase())||"")})))}),[h.search,C]),Object(l.useEffect)((function(){var e=Object(v.a)(I);e=e.sort((function(e,n){return e[h.sort]>n[h.sort]?1:e[h.sort]<n[h.sort]?-1:0})),h.order!==Nd?L(e):L(e.reverse())}),[h.order]),Object(l.useEffect)((function(){var e=wp.stringify(function(e){var n={};return Object.keys(e).forEach((function(t){("boolean"===typeof e[t]&&!0===e[t]||"number"===typeof e[t]||"string"===typeof e[t]&&""!==e[t])&&(n[t]=e[t])})),n}(h));t.push({search:e}),B(!0)}),[h]);var B=function(e){if(n.search.length||e){var t=Object(v.a)(C);h.trace&&(t=t.filter((function(e){return e.trace.length}))),h.track&&(t=t.filter((function(e){return e.track.length}))),h.search&&(t=t.filter((function(e){var n;return null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(h.search.toLowerCase())}))),h.order&&(t=t.sort((function(e,n){return e[h.sort]>n[h.sort]?1:e[h.sort]<n[h.sort]?-1:0}))),h.order&&h.order!==Nd?L(t):L(t.reverse()),L(t)}else L(C)};return c.a.createElement(c.a.Fragment,null,T,c.a.createElement(Fd,{inventory:I,done:function(){w(!0)},owner:r},c.a.createElement(op,{isOpen:d,triggerOpen:function(e){p(e)},onChange:function(e,n){E(n?kp:function(n){return Object(g.a)(Object(g.a)({},n),e)})},onClear:function(){E(kp),L(C)},filterSet:h})))};!function(e){e[e.Starred=0]="Starred",e[e.Communities=1]="Communities",e[e.Collections=2]="Collections",e[e.Following=3]="Following",e[e.Activities=4]="Activities",e[e.Inventory=5]="Inventory"}(yp||(yp={}));var Sp,Cp=function(e){var n=e.userId,t=e.basePath,r=(e.tab,Im(n).user),a=Object(l.useMemo)((function(){var e=c.a.createElement(c.a.Fragment,null),a=c.a.createElement(c.a.Fragment,null),i=c.a.createElement(c.a.Fragment,null),o=c.a.createElement(c.a.Fragment,null),l=c.a.createElement(Tp,null),u=c.a.createElement(c.a.Fragment,null);return{basePath:t,userInfo:r,ActivityBoxes:a,LikesBoxes:e,HeroUserBox:c.a.createElement(Lm,{userId:n}),CollectionsBoxes:i,CommunityBoxes:o,InventoryBoxes:l,UserBoxes:u}}),[r,t,n]);return c.a.createElement(Um,a)},Np={exact:!0,path:"/user/:userId/:tab(starred|communities|collections|inventory|following)?",component:function(e){var n=e.match,t=n.params.userId,r=n.params.tab,a="starred"===r?yp.Starred:"communities"===r?yp.Communities:"collections"===r?yp.Collections:"following"===r?yp.Following:"inventory"===r?yp.Inventory:r?null:yp.Activities,i=un().me,o=Object(l.useMemo)((function(){var e,n;return t||(null===i||void 0===i?void 0:i.users)&&(null===i||void 0===i?void 0:i.users[0])&&(null===i||void 0===i||null===(e=i.users[0])||void 0===e||null===(n=e.character)||void 0===n?void 0:n.username)}),[i,t]),u=Object(l.useMemo)((function(){return null===a?null:{tab:a,userId:o,basePath:_p.getPath({tab:void 0,userId:t},void 0)}}),[a,t,o]);return u?c.a.createElement(Pp,null,c.a.createElement(Cp,u)):c.a.createElement(Iu,null)}},_p=Gt(Np),Pp=function(e){var n=e.children,t=un(),r=t.loading,a=t.me,i=Object(l.useMemo)((function(){var e=null===a||void 0===a?void 0:a.user;if(!e||r)return null;var n=_p.getPath({tab:void 0,userId:e.id||""},void 0);return{SidebarBox:c.a.createElement(Ru,null),HeaderBox:c.a.createElement(Go,null),SearchBox:c.a.createElement(tr,null),userLink:n}}),[r,a]);return i?c.a.createElement(mn,null,c.a.createElement(As,i,n)):c.a.createElement(ul,null,n)},Ip={exact:!0,path:"/discover/:tab(collections|communities)?",component:function(e){var n=e.match.params.tab,t="collections"===n?Vc.Collections:"communities"===n?Vc.Communities:n?null:Vc.Activities,r=Object(l.useMemo)((function(){return null===t?null:{basePath:"/discover",tab:t}}),[t]);return r?c.a.createElement(Pp,null,c.a.createElement(Jc,r)):c.a.createElement(Iu,null)}},Lp=Gt(Ip),Bp=function(){var e,n=N.c(ao,e),t=Object(Xe.a)(n,2),r=t[0],i=t[1],c=Zt(function(){var e=Object(o.a)(a.a.mark((function e(n){var t,o,l,c,u,s,m,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.id,o=n.action,l=n.provider,c=n.receiver,u=n.hasUnit,s=n.hasNumericalValue,m=n.eventNote,d=n.hasPointInTime,!i.loading){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",r({variables:{id:t,action:o,provider:l,receiver:c,hasUnit:u,hasNumericalValue:s,eventNote:m,hasPointInTime:d},refetchQueries:[xp({id:t})]}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[i,r]);return Object(l.useMemo)((function(){return{create:c}}),[c])},Rp=function(e){var n,t=e.title,r=e.formik,a=e.done,i=e.actionList,o=e.providerList,l=e.receiverList,u=e.setAction,s=void 0===u?function(){}:u,m=c.a.useState([]),p=Object(Xe.a)(m,2),f=p[0],v=p[1],b=c.a.useState([]),h=Object(Xe.a)(b,2),E=h[0],x=h[1],O=c.a.useState(new Date),j=Object(Xe.a)(O,2),y=j[0],w=j[1];return c.a.useEffect((function(){v(so(o,{variables:["name","displayUsername"],template:"name / displayUsername"})),x(so(l,{variables:["name","displayUsername"],template:"name / displayUsername"})),r.setValues(Object(g.a)(Object(g.a)({},r.values),{},{hasPointInTime:(new Date).toISOString()}))}),[o,l]),c.a.createElement(Na,null,c.a.createElement("form",{onSubmit:r.handleSubmit},c.a.createElement(Ba,null,c.a.createElement(Nn.Heading,{m:2},c.a.createElement(dn.Trans,{id:"{title}",values:{title:t}}))),c.a.createElement(pi,null,c.a.createElement(di,null,c.a.createElement(si,null,c.a.createElement("div",{className:"d-flex d-flex-image"},c.a.createElement(Nn.Box,{sx:{width:"140",height:"140"},className:"item_photo"},c.a.createElement(Sd,null,c.a.createElement("img",{src:"object"!==typeof r.values.image?r.values.image:r.values.image.path,alt:"img"}))),c.a.createElement("div",{className:"item_info"},c.a.createElement(Nn.Box,{mr:1,mb:2},c.a.createElement(xd,{variant:"heading"}," ",c.a.createElement(dn.Trans,{id:"{0}",values:{0:r.values.name}}))),c.a.createElement(Nn.Box,{mr:1,mb:2},c.a.createElement(Nn.Text,{variant:"text"},c.a.createElement("b",null,c.a.createElement(dn.Trans,{id:"Location:"})," ")," ",c.a.createElement(dn.Trans,{id:"{0}",values:{0:null===(n=r.values.atLocation)||void 0===n?void 0:n.label}}))),c.a.createElement(Nn.Box,{mr:1},c.a.createElement(Nn.Text,{variant:"text"},c.a.createElement("b",null,c.a.createElement(dn.Trans,{id:"Note:"})," ")," ",c.a.createElement(dn.Trans,{id:"{0}",values:{0:r.values.note}})))))),c.a.createElement(si,null,c.a.createElement(Nn.Box,null,c.a.createElement(xi,null,c.a.createElement(Oi,null,"Actions"),c.a.createElement(uo,{onSelect:function(e,n){s(n.id),r.setValues(Object(g.a)(Object(g.a)({},r.values),{},{action:n}))},options:i,variant:"primary",id:"actions",name:"actions",placeholder:Object(dn.i18nMark)("Select action"),value:r.values.action,noChange:!0,onInputChange:function(){},openMenuOnClick:!0})),r.errors.action&&c.a.createElement(Li,{variant:"negative"},r.errors.action&&"Required")),c.a.createElement("div",{className:"d-flex"},c.a.createElement("div",{className:"item_col-6"},c.a.createElement(xi,null,c.a.createElement(Oi,null,"Provider"),c.a.createElement(uo,{onSelect:function(e,n){r.setValues(Object(g.a)(Object(g.a)({},r.values),{},Object(Je.a)({},e,n)))},placeholder:Object(dn.i18nMark)("Provider"),options:f,variant:"primary",value:r.values.provider,id:"provider",name:"provider",components:{DropdownIndicator:function(){return null}},onInputChange:function(e,n){var t=null===o||void 0===o?void 0:o.filter((function(e){var t;return null===e||void 0===e||null===(t=e.displayUsername)||void 0===t?void 0:t.toLowerCase().includes(n.toLowerCase())}));v(so(t,{variables:["name","displayUsername"],template:"name / displayUsername"}))},openMenuOnClick:!1})),r.errors.provider&&c.a.createElement(Li,{variant:"negative"},r.errors.provider&&"Required")),c.a.createElement("div",{className:"item_col-6"},c.a.createElement(xi,null,c.a.createElement(Oi,null,"Receiver"),c.a.createElement(uo,{onSelect:function(e,n){r.setValues(Object(g.a)(Object(g.a)({},r.values),{},Object(Je.a)({},e,n)))},placeholder:Object(dn.i18nMark)("Receiver"),options:E,variant:"primary",value:r.values.receiver,id:"receiver",name:"receiver",components:{DropdownIndicator:function(){return null}},onInputChange:function(e,n){var t=null===l||void 0===l?void 0:l.filter((function(e){var t;return null===e||void 0===e||null===(t=e.displayUsername)||void 0===t?void 0:t.toLowerCase().includes(n.toLowerCase())}));x(so(t,{variables:["name","displayUsername"],template:"name / displayUsername"}))},openMenuOnClick:!1})),r.errors.receiver&&c.a.createElement(Li,{variant:"negative"},r.errors.receiver&&"Required")))),c.a.createElement(si,null,c.a.createElement("div",{className:"d-flex"},c.a.createElement("div",{className:"item_col-6"},c.a.createElement(xi,null,c.a.createElement(Oi,null,"unit"),c.a.createElement(Pi,{type:"text",id:"hasUnit",name:"hasUnit",disabled:!0,onChange:r.handleChange,value:r.values.hasUnit.label})),r.errors.hasUnit&&c.a.createElement(Li,{variant:"negative"},r.errors.hasUnit&&"Required")),c.a.createElement("div",{className:"item_col-6"},c.a.createElement(xi,null,c.a.createElement(Oi,null,"numerical value"),c.a.createElement(Pi,{type:"number",id:"hasNumericalValue",name:"hasNumericalValue",onChange:r.handleChange,placeholder:Object(dn.i18nMark)("Numerical Value"),value:r.values.hasNumericalValue})),r.errors.hasNumericalValue&&c.a.createElement(Li,{variant:"negative"},r.errors.hasNumericalValue)))),c.a.createElement(si,null,c.a.createElement(Oi,null,"Event date"),c.a.createElement("div",{style:{width:"100%",border:"1px solid #05244f",padding:"0 10px",marginBottom:10}},c.a.createElement(Po.a,{selected:y,onChange:function(e){w(e),r.setValues(Object(g.a)(Object(g.a)({},r.values),{},{hasPointInTime:e.toISOString()}))},dateFormat:"dd/MM/yyyy"}))),c.a.createElement(si,null,c.a.createElement(xi,null,c.a.createElement(Oi,null,"Event Note"),c.a.createElement(Pi,{id:"eventNote",type:"textarea",name:"eventNote",onChange:r.handleChange,placeholder:Object(dn.i18nMark)("Event Note"),value:r.values.eventNote})),c.a.createElement(Ia,null,r.values.eventNote?500-r.values.eventNote.length:500),r.errors.eventNote&&c.a.createElement(Li,{variant:"negative"},r.errors.eventNote)))),c.a.createElement(_a,null,c.a.createElement(Mn,{variant:"primary",isSubmitting:r.isSubmitting,isDisabled:r.isSubmitting,type:"submit",style:{marginLeft:"10px"}},c.a.createElement(dn.Trans,{id:"Save"})),c.a.createElement(Mn,{variant:"outline",onClick:a},c.a.createElement(dn.Trans,{id:"Cancel"})))),c.a.createElement(d.b,null))};function Ap(){var e=Object(i.a)(["\n  width: 100%;\n  justify-content: stretch;\n  align-items: stretch;\n  flex-grow: 1;\n  flex-direction: row;\n  border-bottom: 1px solid #05244f;\n"]);return Ap=function(){return e},e}function zp(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  padding: 16px;\n  font-size: 16px;\n  font-weight: bold;\n  color: #666666;\n  cursor: pointer;\n\n  input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n  }\n\n  .slider {\n    position: relative;\n    cursor: pointer;\n    width: 60px;\n    height: 30px;\n    margin-right: 16px;\n    background-color: #ccc;\n    -webkit-transition: 0.4s;\n    transition: 0.4s;\n    box-shadow: 0 3px 22px -6px #c5bcbc;\n    border-radius: 34px;\n  }\n\n  .slider:before {\n    position: absolute;\n    border-radius: 50%;\n    content: '';\n    height: 30px;\n    width: 30px;\n    left: 30px;\n    bottom: 0;\n    background-color: white;\n    -webkit-transition: 0.4s;\n    transition: 0.4s;\n  }\n\n  input:checked + .slider {\n    background-color: #05244f;\n  }\n\n  input:focus + .slider {\n    box-shadow: 0 0 1px #2196f3;\n  }\n\n  input:checked + .slider:before {\n    transform: translateX(-30px);\n  }\n"]);return zp=function(){return e},e}Rt.object({name:Rt.string().min(2).max(60).required(),summary:Rt.string().max(500),image:(Sp=Rt.mixed()).test.apply(Sp,Object(v.a)(Ua))});var Up=function(e){var n=e.done,t=e.resource,r=Object(eo.a)(e,["done","resource"]),a=Bp().create,i=Rt.object().shape({name:Rt.string().max(60,"Too Long!").required("Required"),note:Rt.string().max(500,"Too Long!"),eventNote:Rt.string().max(500,"Too Long!"),action:Rt.object().shape({id:Rt.string().required("Required")}),provider:Rt.object().shape({id:Rt.string().required("Required")}),receiver:Rt.object().shape({id:Rt.string().required("Required")}),hasUnit:Rt.object().shape({id:Rt.string().required("Required")}),hasNumericalValue:Rt.string().required("Required").notOneOf([0,"0",null,void 0],"Not null")}),o=Object(fn.a)({initialValues:c.a.useMemo((function(){var e,n,r,a,i,o,l,c,u,s,m,d,p={name:"",note:"",image:void 0,atLocation:{id:"",label:"",value:""},action:{id:"",label:""},provider:{id:"",label:""},receiver:{id:"",label:""},hasUnit:{id:"",label:""},hasNumericalValue:0,eventNote:"",hasPointInTime:""};t&&(p={name:t.name||"",note:t.note||"",hasPointInTime:(null===t||void 0===t?void 0:t.hasPointInTime)||"",image:t.image||void 0,action:{id:"",label:""},provider:{id:(null===(e=t.track[0])||void 0===e||null===(n=e.provider)||void 0===n?void 0:n.id)||"",label:(null===(r=t.track[0])||void 0===r||null===(a=r.provider)||void 0===a?void 0:a.name)||""},receiver:{id:(null===(i=t.track[0])||void 0===i||null===(o=i.receiver)||void 0===o?void 0:o.id)||"",label:(null===(l=t.track[0])||void 0===l||null===(c=l.receiver)||void 0===c?void 0:c.name)||""},hasUnit:{id:(null===(u=t.onhandQuantity)||void 0===u?void 0:u.hasUnit.id)||"",label:(null===(s=t.onhandQuantity)||void 0===s?void 0:s.hasUnit.label)||""},hasNumericalValue:(null===(m=t.onhandQuantity)||void 0===m?void 0:m.hasNumericalValue)||0,eventNote:(null===(d=t.track[0])||void 0===d?void 0:d.note)||"",atLocation:t.currentLocation?{id:t.currentLocation.id,value:t.currentLocation.id,label:t.currentLocation.name}:{id:"",label:"",value:""}});return p}),[t]),validateOnChange:!1,validateOnBlur:!1,validationSchema:i,enableReinitialize:!0,onSubmit:function(e){return a({id:t.id,name:e.name,atLocation:e.atLocation.id,eventNote:e.eventNote||"",action:e.action.id,note:e.note,provider:e.provider.id,receiver:e.receiver.id,hasUnit:e.hasUnit.id,hasNumericalValue:e.hasNumericalValue,image:e.image,hasPointInTime:e.hasPointInTime}).then((function(e){e.errors?console.log(e.errors[0].message):(d.c.success("Event on resource ".concat(t.name," created"),{position:"top-right",transition:d.a,autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}),n())})).catch((function(e){return console.log(e)}))}}),u=Object(g.a)(Object(g.a)({},r),{},{title:"Create a new event on resource ".concat(t.name),formik:o,done:n}),s=Object(l.useState)(!1),m=Object(Xe.a)(s,2),p=m[0],f=m[1],v=c.a.createElement(c.a.Fragment,null,p?c.a.createElement(Zi,{done:f}):c.a.createElement($o,{done:function(){O(0),n()},toggleCreateLocation:f,resource:o.values})),b=c.a.createElement(Rp,u),h=Object(l.useState)(0),E=Object(Xe.a)(h,2),x=E[0],O=E[1],j=Object(l.useState)(!0),y=Object(Xe.a)(j,2),w=y[0],k=y[1];return c.a.createElement(Do,null,c.a.createElement(Fp,null,c.a.createElement(Mp,null,c.a.createElement("input",{type:"checkbox",name:"toggleSwitch",id:"toggleSwitch",checked:w,onChange:function(){k(!w),O(0===x?1:0)}}),c.a.createElement("span",{className:"slider round"}),c.a.createElement(dn.Trans,{id:"{0}",values:{0:w?"Create a new event on exist resource":"Create an event that results in a new resource"}}))),x?v:b)},Mp=Pn("label")(zp()),Fp=Pn(Nn.Flex)(Ap()),Dp=function(e){var n=e.title,t=e.formik,r=e.done,a=(e.spatialThings,c.a.useCallback((function(e){return t.setValues(Object(g.a)(Object(g.a)({},t.values),{},{image:e}))}),[t])),i="string"===typeof t.values.image?t.values.image:"";return c.a.createElement(Na,null,c.a.createElement("form",{onSubmit:t.handleSubmit},c.a.createElement(Ba,null,c.a.createElement(Nn.Heading,{m:2},c.a.createElement(dn.Trans,{id:"{title}",values:{title:n}}))),c.a.createElement(pi,null,c.a.createElement(di,null,c.a.createElement(si,null,c.a.createElement("div",{className:"d-flex d-flex-image"},c.a.createElement(Nn.Box,{sx:{width:"140",height:"140"},className:"item_photo"},c.a.createElement(jo,{initialUrl:i,onFileSelect:a,filePattern:"image/*"}),c.a.createElement("p",null),c.a.createElement(Oi,null,"Image URL"),c.a.createElement(Pi,{type:"text",id:"image",name:"image",onChange:t.handleChange,placeholder:Object(dn.i18nMark)("Image"),value:"object"!==typeof t.values.image?t.values.image:t.values.image.path})),c.a.createElement("div",{className:"item_info"},c.a.createElement(si,null,c.a.createElement(xi,null,c.a.createElement(Oi,null,Object(dn.i18nMark)("Note")),c.a.createElement(Pi,{type:"textarea",id:"note",name:"note",onChange:t.handleChange,placeholder:Object(dn.i18nMark)("Note"),value:t.values.note}),c.a.createElement(Ia,null,t.values.note?500-t.values.note.length:500)),t.errors.note&&c.a.createElement(Li,{variant:"negative"},t.errors.note))))))),c.a.createElement(_a,null,c.a.createElement(Mn,{variant:"primary",isSubmitting:t.isSubmitting,isDisabled:t.isSubmitting,type:"submit",style:{marginLeft:"10px"}},c.a.createElement(dn.Trans,{id:"Update"})),c.a.createElement(Mn,{variant:"outline",onClick:r},c.a.createElement(dn.Trans,{id:"Cancel"})))),c.a.createElement(d.b,null))};function $p(){var e=Object(i.a)(["\n    mutation updateEconomicResource($id: ID!, $note: String, $image: URI) {\n  updateEconomicResource(resource: {id: $id, note: $note, image: $image}) {\n    economicResource {\n      id\n    }\n  }\n}\n    "]);return $p=function(){return e},e}var Vp=C()($p());var qp,Hp=function(){var e,n=N.c(Vp,e),t=Object(Xe.a)(n,2),r=t[0],i=t[1],c=Zt(function(){var e=Object(o.a)(a.a.mark((function e(n){var t,o,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.id,o=n.note,l=n.image,!i.loading){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",r({variables:{id:t,note:o,image:l},refetchQueries:[xp({id:t})]}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[i,r]);return Object(l.useMemo)((function(){return{update:c}}),[c])},Wp=(Rt.object({name:Rt.string().min(2).max(60).required(),note:Rt.string().max(500),image:(qp=Rt.mixed()).test.apply(qp,Object(v.a)(Ua))}),function(e){var n,t=e.done,r=e.resource,a=Object(eo.a)(e,["done","resource"]),i=Hp().update,o=Rt.object().shape({note:Rt.string().max(500,"Too Long!")}),l=null===(n=Va().data)||void 0===n?void 0:n.spatialThingsPages,u=Object(fn.a)({initialValues:c.a.useMemo((function(){var e={note:"",image:void 0};return r&&(e={note:r.note||"",image:r.image||void 0}),e}),[r]),validateOnChange:!1,validateOnBlur:!1,validationSchema:o,enableReinitialize:!0,onSubmit:function(e){return i({id:r.id,note:e.note,image:e.image}).then((function(e){e.errors?console.log(e.errors[0].message):(d.c.success("Resource was updated",{position:"top-right",transition:d.a,autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}),t())})).catch((function(e){return console.log(e)}))}}),s=Object(g.a)(Object(g.a)({},a),{},{spatialThings:null===l||void 0===l?void 0:l.edges,title:"Update resource ".concat(r.name),formik:u,done:t});return c.a.createElement(Dp,s)}),Kp=function(e){var n,t=e.resourceId,r=(n={variables:{id:t.trim()}},N.d(Ep,n)),a=r.data,i=r.loading,o=r.error,u=null===a||void 0===a?void 0:a.economicResource,s=er(),m=Object(l.useReducer)((function(e){return!s()&&!e}),!1),d=Object(Xe.a)(m,2),p=d[0],f=d[1],v=Object(l.useReducer)((function(e){return!s()&&!e}),!1),g=Object(Xe.a)(v,2),b=g[0],h=g[1],E=p?c.a.createElement(za,{closeModal:f},c.a.createElement(Up,{done:f,resource:u})):null,x=b?c.a.createElement(za,{closeModal:h},c.a.createElement(Wp,{done:h,resource:u})):null,O={openEditModal:f,openUpdateResourceModal:h,resource:u,loading:i,error:o};return c.a.createElement(c.a.Fragment,null,x,E,c.a.createElement(hd,O))},Qp={exact:!1,path:"/resource/:resourceId",component:function(e){var n={resourceId:e.match.params.resourceId};return c.a.createElement(Pp,null,c.a.createElement(Kp,n))}},Gp=function(e){var n=e.center,t=e.zoom,r=void 0===t?13:t,a=e.markers,i=void 0===a?[]:a;return c.a.createElement(Pc,null,c.a.createElement(Ic,null,c.a.createElement(Lc,null,c.a.createElement(Bc,null,c.a.createElement(Hi,{center:n,zoom:r,markers:i})))))};function Yp(){var e=Object(i.a)(["\n  query communityMapPoints($communityId: [ID]!) {\n    proposalsFiltered(inScopeOf: $communityId) {\n      __typename\n      id\n      name\n      note\n      eligibleLocation {\n        lat\n        long\n        geom\n      }\n    }\n  }\n"]);return Yp=function(){return e},e}var Xp=C()(Yp()),Jp=function(e){if(!e)return!1;var n=e.eligibleLocation;return n&&(n.geom||(null===n||void 0===n?void 0:n.lat)&&n.long)},Zp=function(e){var n=e.communityId,t=Object(N.a)(),r=Object(l.useState)([]),a=Object(Xe.a)(r,2),i=a[0],o=a[1];return Object(l.useEffect)((function(){t.query({query:Xp,variables:{communityId:n}}).then((function(e){e.data&&e.data.proposalsFiltered&&o(e.data.proposalsFiltered.filter(Jp).map((function(e){return e})).map((function(e){var n=e.eligibleLocation,t=n.lat,r=n.long,a=n.geom;return{position:t&&r?{lat:t,lng:r}:{lat:a.coordinates[0],lng:a.coordinates[1]},popup:e.name}})))}))}),[n,t]),Dt({id:"Map"}),c.a.createElement(Gp,{markers:i,zoom:13,center:{lat:41.396,lng:2.192}})},ef={exact:!0,path:"/communities/:communityId/map/",component:function(e){var n=e.match;return null===n?c.a.createElement(Iu,null):c.a.createElement(Pp,null,c.a.createElement(Zp,{communityId:n.params.communityId}))}};Gt(ef);function nf(){var e=Object(i.a)(["\n  width: 432px;\n"]);return nf=function(){return e},e}function tf(){var e=Object(i.a)(["\n  margin: 0 auto;\n  max-width: 900px;\n  margin-top: 60px;\n  padding: 16px;\n  padding-bottom: 50px;\n  & button {\n    margin-top: 16px;\n    width: 100%;\n    color: #fff !important;\n    text-transform: uppercase;\n    &:hover {\n      background: #d67218 !important;\n    }\n  }\n"]);return tf=function(){return e},e}function rf(){var e=Object(i.a)(["\n  input {\n    height: 50px;\n    color: inherit;\n    background-color: white;\n    border-radius: 4px;\n    border: 1px solid #dadada;\n  }\n"]);return rf=function(){return e},e}function af(){var e=Object(i.a)([""]);return af=function(){return e},e}function of(){var e=Object(i.a)(["\n  background: ",";\n  border-radius: 4px;\n  padding: 16px;\n  max-width: 400px;\n"]);return of=function(){return e},e}function lf(){var e=Object(i.a)(["\n  background: ",";\n  padding: 8px 16px;\n  border-radius: 4px;\n  text-decoration: none;\n  font-weight: 600;\n  color: ",";\n  margin-top: 16px;\n  margin: 0 auto;\n  display: block;\n  text-align: center;\n  margin-top: 16px;\n"]);return lf=function(){return e},e}var cf={placeholders:{email:Object(dn.i18nMark)("Enter your email")}},uf=function(e){var n=e.formik,t=e.isSubmitted;return l.createElement(l.Fragment,null,l.createElement(ff,null,l.createElement(pf,null,l.createElement(Vn,null),t?l.createElement(mf,null,l.createElement(df,{variant:"text"},l.createElement(dn.Trans,{id:"If your email is linked to an account in our database, we have sent you an email with which you can reset your password. It may take a few minutes to arrive depending on your mail provider."})),l.createElement(sf,{to:"/login"},l.createElement(dn.Trans,{id:"Login"}))):l.createElement(vf,null,l.createElement(vn.a,{placeholder:cf.placeholders.email,name:"email",value:n.values.email,onChange:n.handleChange}),n.errors.email&&l.createElement(wa,null,l.createElement(Ci,{variant:"negative"},n.errors.email)),l.createElement(Mn,{variant:"primary",isSubmitting:n.isSubmitting,isDisabled:n.isSubmitting,type:"submit",onClick:n.submitForm},l.createElement(dn.Trans,{id:"Reset the password"}))))))},sf=Pn(pn.b)(lf(),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.lighter})),mf=Pn(Nn.Box)(of(),(function(e){return e.theme.colors.appInverse})),df=Pn(Nn.Text)(af()),pf=Pn.div(rf()),ff=Pn.div(tf()),vf=Pn.form(nf()),gf=Rt.object({email:Rt.string().max(50).required()}),bf={email:""},hf={id:"Reset Password"},Ef=function(){Dt(hf);var e=zt().resetPwdRequest,n=Object(fn.a)({onSubmit:function(n){var t=n.email;return e(t)},initialValues:bf,validationSchema:gf});return c.a.createElement(uf,{formik:n,isSubmitted:n.submitCount>0})},xf={exact:!0,path:"/reset",component:function(e){e.match;return c.a.createElement(Wt,null,c.a.createElement(ul,{withoutHeader:!0},c.a.createElement(Ef,null)))}},Of=t(839),jf=t(840),yf=t(841),wf=t(842),kf=t(843);function Tf(){var e=Object(i.a)(["\ncolor: ","\nborder-bottom: 1px solid ",";\na {\n  color: ","\n  text-decoration: none;\n  font-weight: 700;\n  &.active {\n      color: ",";\n    .icon {\n        background: ",";\n        svg {\n          stroke: ",";\n        }\n    }\n    \n  }\n}\n&:hover {\n    .icon {\n        background: ",";\n        svg {\n          stroke: ",";\n        }\n    }\n  }\n  "]);return Tf=function(){return e},e}function Sf(){var e=Object(i.a)([""]);return Sf=function(){return e},e}function Cf(){var e=Object(i.a)(["\n  text-transform: uppercase;\n  border-bottom: 4px solid ",";\n  padding: 16px;\n"]);return Cf=function(){return e},e}function Nf(){var e=Object(i.a)(["\n  background: ",";\n  border-radius: 4px;\n  align-items: stretch;\n  border: 0 solid black;\n  box-sizing: border-box;\n  flex-basis: auto;\n  flex-direction: column;\n  flex-shrink: 0;\n  margin: 0px;\n  min-height: 0px;\n  min-width: 0px;\n  padding: 0px;\n  position: relative;\n  z-index: 0;\n  margin-bottom: 8px !important;\n"]);return Nf=function(){return e},e}function _f(){var e=Object(i.a)(["\n  width: 80px;\n"]);return _f=function(){return e},e}function Pf(){var e=Object(i.a)(["\n  width: 290px;\n"]);return Pf=function(){return e},e}function If(){var e=Object(i.a)(["\n  width: 350px;\n  align-items: stretch;\n  border: 0 solid black;\n  box-sizing: border-box;\n  flex-basis: auto;\n  flex-direction: column;\n  flex-shrink: 0;\n  min-height: 0px;\n  min-width: 0px;\n  padding: 0px;\n  position: relative;\n  z-index: 0;\n  font-family: ",";\n  &.extra {\n    width: 100%;\n  }\n  ",";\n  ",";\n"]);return If=function(){return e},e}function Lf(){var e=Object(i.a)(["\n  cursor: pointer;\n  height: 40px;\n  width: 40px;\n  border-radius: 40px;\n  display: flex;\n  align-items: center;\n  svg {\n    stroke: ",";\n    width: 40px;\n  }\n"]);return Lf=function(){return e},e}function Bf(){var e=Object(i.a)(["\n  & button {\n    span {\n      vertical-align: sub;\n      display: inline-block;\n      height: 30px;\n      margin-right: 4px;\n    }\n  }\n"]);return Bf=function(){return e},e}function Rf(){var e=Object(i.a)(["\n  width: 100%;\n  position: relative;\n  border-radius: 6px;\n  & p {\n    color: ",";\n    padding: 0 24px;\n    margin-left: 120px;\n    margin: 0;\n    margin-left: 136px;\n    margin-top: -40px;\n    line-height: 26px;\n    padding-bottom: 16px;\n  }\n"]);return Rf=function(){return e},e}function Af(){var e=Object(i.a)(["\n  padding: 24px;\n  padding-top: 0;\n  z-index: 9999;\n  position: relative;\n  margin-top: -60px;\n  padding-bottom: 0;\n"]);return Af=function(){return e},e}function zf(){var e=Object(i.a)(["\n  color: ",";\n  font-weight: 500;\n"]);return zf=function(){return e},e}function Uf(){var e=Object(i.a)([""]);return Uf=function(){return e},e}function Mf(){var e=Object(i.a)(["\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n"]);return Mf=function(){return e},e}function Ff(){var e=Object(i.a)(["\n  justify-content: space-between;\n  ",";\n"]);return Ff=function(){return e},e}function Df(){var e=Object(i.a)(["\n  height: 250px;\n  border-radius: 4px;\n  width: 100%;\n  display: inline-block;\n  .thumb {\n    height: 100%;\n  }\n"]);return Df=function(){return e},e}function $f(){var e=Object(i.a)(["\n  width: 120px;\n  height: 120px;\n  border-radius: 6px;\n  background: ",";\n  border: 3px solid ",";\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 16px;\n"]);return $f=function(){return e},e}function Vf(){var e=Object(i.a)(["\n  input {\n    background: #fbfbfb;\n    color: ",";\n    border: 0;\n    font-weight: 700;\n  }\n\n  textarea {\n    background: #fbfbfb;\n    border-radius: 2px;\n    border: 0;\n    height: 120px;\n    resize: none;\n  }\n"]);return Vf=function(){return e},e}function qf(){var e=Object(i.a)(["\n  border-top: 4px solid ",";\n  border-bottom: 1px solid ",";\n"]);return qf=function(){return e},e}function Hf(){var e=Object(i.a)(["\ndisplay: none;\n"]);return Hf=function(){return e},e}function Wf(){var e=Object(i.a)(["\n  ",";\n"]);return Wf=function(){return e},e}function Kf(){var e=Object(i.a)(["\n  text-align: right;\n  width: 100%;\n  a {\n    text-decoration: underline;\n    color: ",";\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return Kf=function(){return e},e}function Qf(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  padding: 18px 18px 12px;\n"]);return Qf=function(){return e},e}function Gf(){var e=Object(i.a)(["\n  background: ",";\n"]);return Gf=function(){return e},e}var Yf,Xf={placeholders:{name:Object(dn.i18nMark)("Display Name"),displayName:Object(dn.i18nMark)("User Name"),summary:Object(dn.i18nMark)("Please tell us a little bit about yourself...")}};!function(e){e[e.Loading=0]="Loading",e[e.Loaded=1]="Loaded"}(Yf||(Yf={}));var Jf,Zf=function(e){var n=e.formik,t=e.Preferences,r=e.displayUsername,a=e.isAdmin,i=e.sectionPaths,o=e.toggleUpdatePasswordModal,c=(e.userProfile,l.useCallback((function(e){return n.setValues(Object(g.a)(Object(g.a)({},n.values),{},{icon:e}))}),[n])),u="string"===typeof n.values.icon?"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GRAPHQL_ENDPOINT:"",REACT_APP_SENTRY_API_KEY:""}).REACT_APP_GRAPHQL_IMG_LINK).concat(n.values.icon):"",s=l.useCallback((function(e){return n.setValues(Object(g.a)(Object(g.a)({},n.values),{},{image:e}))}),[n]),m="string"===typeof n.values.image?"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GRAPHQL_ENDPOINT:"",REACT_APP_SENTRY_API_KEY:""}).REACT_APP_GRAPHQL_IMG_LINK).concat(n.values.image):"";return l.createElement(Pc,null,l.createElement(rv,{sectionPaths:i,isAdmin:a}),l.createElement(Ic,null,l.createElement(Lc,null,l.createElement(Bc,null,l.createElement(ev,null,l.createElement(Ye.c,null,l.createElement(Ye.a,{path:i.preferences},t),l.createElement(Ye.a,{path:i.general},l.createElement(sv,{p:1,pb:2},l.createElement(pv,null,l.createElement(Nn.Flex,null,l.createElement(cv,null,l.createElement(jo,{initialUrl:m,filePattern:"image/*",onFileSelect:s}))),l.createElement(uv,null,l.createElement(dv,null,l.createElement(lv,null,l.createElement(jo,{initialUrl:u,filePattern:"image/*",onFileSelect:c})))),l.createElement(fv,{mt:2,ml:3,mr:3},l.createElement(ov,null,l.createElement("h2",null,n.values.name)),l.createElement(ov,null,l.createElement(vn.a,{placeholder:Xf.placeholders.displayName,disabled:n.isSubmitting,name:"displayName",value:n.values.displayName,onChange:n.handleChange})),l.createElement(mv,{mt:1,p:2},r),l.createElement(ov,null,l.createElement(vn.b,{placeholder:Xf.placeholders.summary,disabled:n.isSubmitting,name:"summary",value:n.values.summary,onChange:n.handleChange})))),l.createElement(nv,{mt:3,mr:3,sx:{height:"inherit !important"}},l.createElement(Mn,{variant:"primary",onClick:o},"Update password"),l.createElement(Mn,{variant:"primary",isSubmitting:n.isSubmitting,isDisabled:n.isSubmitting,type:"submit",style:{marginLeft:"10px"},onClick:n.submitForm},l.createElement(dn.Trans,{id:"Save"}))))))))),l.createElement(tv,{variant:"text",my:3,mt:2},l.createElement("a",{href:"https://gitlab.com/moodlenet/meta/-/issues",target:"_blank",rel:"noopener noreferrer"},l.createElement(dn.Trans,{id:"Want to report a bug?"})))))},ev=Pn(Nn.Box)(Gf(),(function(e){return e.theme.colors.appInverse})),nv=Pn(_a)(Qf()),tv=Pn(Nn.Text)(Kf(),(function(e){return e.theme.colors.dark}),(function(e){return e.theme.colors.darkest})),rv=function(e){var n=e.sectionPaths,t=e.isAdmin;return l.createElement(gv,{mr:2},l.createElement(bv,null,l.createElement(hv,null,l.createElement(Ev,{p:3},l.createElement(pn.c,{exact:!0,to:n.general},l.createElement(Nn.Flex,{alignItems:"center",sx:{textTransform:"capitalize",fontSize:"14px"}},l.createElement(vv,{className:"icon",mr:1},l.createElement(pr.a,{size:20})),l.createElement(av,null,l.createElement(dn.Trans,{id:"General information"}))))),l.createElement(Ev,{p:3},l.createElement(pn.c,{to:n.preferences},l.createElement(Nn.Flex,{alignItems:"center",sx:{textTransform:"capitalize",fontSize:"14px"}},l.createElement(vv,{className:"icon",mr:1},l.createElement(Of.a,{size:20})),l.createElement(av,null,l.createElement(dn.Trans,{id:"Preferences"}))))),t?l.createElement(l.Fragment,null,l.createElement(iv,{p:3},l.createElement(Nn.Flex,{alignItems:"center",p:3,sx:{textTransform:"capitalize",fontSize:"14px"}},l.createElement(Nn.Text,{variant:"suptitle"},"Admin"))),l.createElement(Ev,{p:3},l.createElement(Nn.Flex,{alignItems:"center",sx:{textTransform:"capitalize",fontSize:"14px"}},l.createElement(vv,{className:"icon",mr:1},l.createElement(jf.a,{size:20})),l.createElement(av,null,l.createElement(dn.Trans,{id:"Instance"})))),l.createElement(Ev,{p:3},l.createElement(Nn.Flex,{alignItems:"center",sx:{textTransform:"capitalize",fontSize:"14px"}},l.createElement(vv,{className:"icon",mr:1},l.createElement(yf.a,{size:20})),l.createElement(av,null,l.createElement(dn.Trans,{id:"Invites"})))),l.createElement(Ev,{p:3},l.createElement(Nn.Flex,{alignItems:"center",sx:{textTransform:"capitalize",fontSize:"14px"}},l.createElement(vv,{className:"icon",mr:1},l.createElement(wf.a,{size:20})),l.createElement(av,null,l.createElement(dn.Trans,{id:"Flags"})))),l.createElement(Ev,{p:3},l.createElement(Nn.Flex,{alignItems:"center",sx:{textTransform:"capitalize",fontSize:"14px"}},l.createElement(vv,{className:"icon",mr:1},l.createElement(kf.a,{size:20})),l.createElement(av,null,l.createElement(dn.Trans,{id:"Moderation log"}))))):null)))},av=Pn(Nn.Text)(Wf(),f.a.lessThan("medium")(Hf())),iv=Pn(Nn.Flex)(qf(),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.colors.lighter})),ov=Pn(La)(Vf(),(function(e){return e.theme.colors.mediumdark})),lv=Pn.div($f(),(function(e){return e.theme.colors.light}),(function(e){return e.theme.colors.light})),cv=Pn(Nn.Box)(Df()),uv=Pn(Nn.Flex)(Ff(),f.a.lessThan("860px")(Mf())),sv=Pn(Nn.Box)(Uf()),mv=Pn(Nn.Text)(zf(),(function(e){return e.theme.colors.mediumdark})),dv=Pn.div(Af()),pv=Pn.div(Rf(),(function(e){return e.theme.colors.mediumdark})),fv=Pn(Nn.Box)(Bf()),vv=Pn(Nn.Box)(Lf(),(function(e){return e.theme.colors.medium})),gv=Pn(Nn.Flex)(If(),(function(e){return e.theme.fontFamily}),f.a.lessThan("1095px")(Pf()),f.a.lessThan("medium")(_f())),bv=Pn(Nn.Box)(Nf(),(function(e){return e.theme.colors.appInverse})),hv=(Pn(Nn.Text)(Cf(),(function(e){return e.theme.colors.lighter})),Pn(Nn.Box)(Sf())),Ev=Pn(Nn.Text)(Tf(),(function(e){return e.theme.colors.mediumdark}),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.colors.mediumdark}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.colors.primary})),xv=function(e){return l.createElement(oo.a,{options:e.locales,defaultValue:e.current,onChange:function(n){var t=Array.isArray(n)?n[0]:n;t&&e.setLocale(t.value)}})},Ov=function(e){return l.createElement(Nn.Box,null,l.createElement(Ra,null,l.createElement(La,null,l.createElement("label",null,l.createElement(dn.Trans,{id:"Select language"})),l.createElement(xv,e),l.createElement(Pa,{sx:{height:"inherit !important"}},l.createElement(Mn,{variant:"primary",isSubmitting:e.formik.isSubmitting,isDisabled:e.formik.isSubmitting,type:"submit",style:{marginLeft:"10px"},onClick:e.formik.submitForm},l.createElement(dn.Trans,{id:"Save"}))))))},jv=Rt.object({moodleWebsite:Rt.string().matches(/^.+\..+$/)}),yv=function(){var e,n,t=c.a.useContext(kn),r=t.available,a=t.current,i=t.set,o=un().me,u=null===o||void 0===o?void 0:o.user;console.log(u);var s=Object(fn.a)({enableReinitialize:!0,initialValues:{moodleWebsite:(null===u||void 0===u||null===(e=u.extraInfo)||void 0===e||null===(n=e.LMS)||void 0===n?void 0:n.site)||""},validationSchema:jv,onSubmit:function(e){var n,t=e.moodleWebsite;return n={profile:{extraInfo:{LMS:{site:t}}}},void console.log(n)}}),m=Object(l.useMemo)((function(){return r.map((function(e){return{value:e.code,label:e.desc}}))}),[r]),d=Object(l.useMemo)((function(){return m.find((function(e){return e.value===a.code}))||m[0]}),[a.code,m]),p=Object(l.useCallback)((function(e){var n=r.find((function(n){return n.code===e}));n&&i(n)}),[r,i]);return c.a.createElement(Ov,{formik:s,current:d,locales:m,setLocale:p})},wv=function(e){var n=e.formik,t=e.isOpen,r=e.cancel;return t?c.a.createElement(za,{closeModal:r},c.a.createElement(Na,null,c.a.createElement("form",{onSubmit:n.handleSubmit},c.a.createElement(Ba,null,c.a.createElement(Nn.Heading,{m:2},c.a.createElement(dn.Trans,{id:"Update Password"}))),c.a.createElement(pi,null,c.a.createElement(di,null,c.a.createElement(si,null,c.a.createElement(xi,null,c.a.createElement(Oi,null,Object(dn.i18nMark)("Old Password")),c.a.createElement(Pi,{type:"password",id:"oldPassword",name:"oldPassword",disabled:n.isSubmitting,onChange:n.handleChange,hint:{class:"error",value:""},placeholder:Object(dn.i18nMark)("Input your old password"),value:n.values.oldPassword})),n.touched&&n.errors.oldPassword&&c.a.createElement(wa,null,c.a.createElement(Li,{variant:"negative"},n.errors.oldPassword))),c.a.createElement(si,null,c.a.createElement(xi,null,c.a.createElement(Oi,null,Object(dn.i18nMark)("New password")),c.a.createElement(Pi,{type:"password",id:"password",name:"password",disabled:n.isSubmitting,onChange:n.handleChange,hint:{class:"error",value:""},placeholder:Object(dn.i18nMark)("Input your new password"),value:n.values.password})),n.errors.password&&c.a.createElement(wa,null,c.a.createElement(Li,{variant:"negative"},n.errors.password))),c.a.createElement(si,null,c.a.createElement(xi,null,c.a.createElement(Oi,null,Object(dn.i18nMark)("Confirm password")),c.a.createElement(Pi,{type:"password",id:"passwordConfirm",name:"passwordConfirm",disabled:n.isSubmitting,onChange:n.handleChange,hint:{class:"error",value:""},placeholder:Object(dn.i18nMark)("Confirm your new password"),value:n.values.passwordConfirm})),n.errors.passwordConfirm&&c.a.createElement(wa,null,c.a.createElement(Li,{variant:"negative"},n.errors.passwordConfirm))))),c.a.createElement(_a,null,c.a.createElement(Mn,{variant:"primary",isSubmitting:n.isSubmitting,isDisabled:n.isSubmitting,type:"submit",style:{marginLeft:"10px"}},c.a.createElement(dn.Trans,{id:"Save"})),c.a.createElement(Mn,{variant:"outline",onClick:r},c.a.createElement(dn.Trans,{id:"Cancel"})))),c.a.createElement(d.b,null))):null},kv={oldPassword:"",password:"",passwordConfirm:""},Tv=function(e){var n=e.isOpen,t=e.cancel,r=zt().changePwdRequest,i=Rt.object().shape({oldPassword:Rt.string().required("Required"),password:Rt.string().min(10).max(50).required("Password is required"),passwordConfirm:Rt.string().oneOf([Rt.ref("password"),null],"Passwords must match").required("Password confirm is required")}),u=Object(fn.a)({onSubmit:function(){var e=Object(o.a)(a.a.mark((function e(n){var t,i,o,l,c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.oldPassword,o=n.password,l=n.passwordConfirm,e.next=3,r(i,o,l);case 3:c=e.sent,(u=null===c||void 0===c||null===(t=c.errors)||void 0===t?void 0:t.map((function(e){return e.message})).join("\n"))?nn(u,{type:"error"}):nn("Password was changed successful!",{type:"success"})&&s();case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),initialValues:kv,validateOnChange:!1,validateOnBlur:!1,validationSchema:i}),s=Object(l.useCallback)((function(){t(),u.setValues(Object(g.a)({},kv))}),[t,u]),m=Object(l.useMemo)((function(){return{formik:u,isOpen:n,cancel:s}}),[u,n,s]);return c.a.createElement(wv,m)},Sv=function(){var e,n=N.c(He,e),t=Object(Xe.a)(n,2),r=t[0],i=t[1],c=Zt(function(){var e=Object(o.a)(a.a.mark((function e(n){var t,r,o,l,c,u,s,m,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.userName,r=n.summary,o=n.icon,l=n.image,!i.loading){e.next=3;break}return e.abrupt("return");case 3:if(c=new FormData,u="https://reflow-test.dyne.org/api/graphql",s=JSON.parse(localStorage.getItem("APOLLO#AUTH_TOKEN")||""),c.append("query","\n                mutation updateUser($userName: String, $summary: String, $icon: Upload, $image: Upload) {\n                    updateUser(\n                        images: {\n                            icon: $icon\n                            image: $image\n                        }\n                        profile: {\n                            summary: $summary\n                            name: $userName\n                        }\n                      ){\n                        user {\n                            profile {\n                                name\n                                summary\n                                icon\n                                image\n                            }\n                        }\n                    }\n            }"),m={userName:t,summary:r},!o||"string"===typeof o){e.next=18;break}if(d=o.name.split(".")[1],!(o.size>1e6)){e.next=13;break}return nn("Icon size more then 1Mb",{type:"error"}),e.abrupt("return");case 13:if(["jpg","png","jpeg"].includes(d)){e.next=16;break}return nn('Wrong file format, select "jpg", "png", "jpeg"',{type:"error"}),e.abrupt("return");case 16:m.icon="icon",c.append("icon",o);case 18:if(!l||"string"===typeof l){e.next=28;break}if(p=l.name.split(".")[1],!(l.size>1e6)){e.next=23;break}return nn("Image size more then 1Mb",{type:"error"}),e.abrupt("return");case 23:if(["jpg","png","jpeg"].includes(p)){e.next=26;break}return nn('Wrong file format, select "jpg", "png", "jpeg"',{type:"error"}),e.abrupt("return");case 26:m.image="image",c.append("image",l);case 28:return c.append("variables",JSON.stringify(m)),e.abrupt("return",fetch(u,{method:"POST",headers:{authorization:"Bearer ".concat(s)},body:c}).then((function(e){return e.json()})).then((function(e){if("string"===typeof e&&e.includes("errors")){var n=JSON.parse(e).errors[0].detail;throw new Error(n)}return nn("Update Successfully!",{type:"success"}),e})).catch((function(e){nn(e.message,{type:"error"})})));case 30:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[i,r]);return Object(l.useMemo)((function(){return{update:c,updateStatus:i}}),[c,i])};!function(e){e[e.Preferences=0]="Preferences",e[e.Invites=1]="Invites",e[e.Instance=2]="Instance",e[e.Flags=3]="Flags",e[e.ModerationLogs=4]="ModerationLogs",e[e.General=5]="General"}(Jf||(Jf={}));var Cv={id:"Settings - Preferences"},Nv={id:"Settings - General"},_v=function(e){e.basePath;var n=e.tab===Jf.Preferences?Cv:Nv;Dt(n);var t=un().me,r=Sv().update,a=zt().logout;er()()&&a();var i=Object(l.useMemo)((function(){return(null===t||void 0===t?void 0:t.users)&&(null===t||void 0===t?void 0:t.users[0])}),[t]),o=Object(l.useMemo)((function(){var e,n,t,r,a,o,l,c,u,s;return{icon:(null===(e=i)||void 0===e||null===(n=e.profile)||void 0===n?void 0:n.icon)||"",image:(null===(t=i)||void 0===t||null===(r=t.profile)||void 0===r?void 0:r.image)||"",displayName:(null===(a=i)||void 0===a||null===(o=a.profile)||void 0===o?void 0:o.name)||"",name:(null===(l=i)||void 0===l||null===(c=l.character)||void 0===c?void 0:c.username)||"",summary:(null===(u=i)||void 0===u||null===(s=u.profile)||void 0===s?void 0:s.summary)||""}}),[i]),u=Object(fn.a)({initialValues:o,enableReinitialize:!0,onSubmit:function(e){var n=e.displayName,t=e.summary,a=e.icon,o=e.image,l=e.name;return r({userName:n,summary:t,icon:a,image:o,name:l}).then((function(e){var n,t;i=null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.updateUser)||void 0===t?void 0:t.user}))}}),s=Object(l.useState)(!1),m=Object(Xe.a)(s,2),d=m[0],p=m[1],f=function(){return p((function(e){return!e}))},v=Object(l.useMemo)((function(){var e;return{toggleUpdatePasswordModal:f,sectionPaths:{preferences:ug.getPath({tab:"preferences"},void 0),general:ug.getPath({tab:void 0},void 0)},displayUsername:"",isAdmin:!1,formik:u,Preferences:c.a.createElement(yv,null),userProfile:null===(e=i)||void 0===e?void 0:e.profile}}),[u,i]);return v&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Zf,v),c.a.createElement(Tv,{isOpen:d,cancel:f}))};function Pv(){var e=Object(i.a)(["\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  min-height: 100vh;\n  margin-top: 16px;\n"]);return Pv=function(){return e},e}function Iv(){var e=Object(i.a)(["\n    grid-template-rows: auto;\n    grid-template-columns:1fr;\n    column-gap: 0px;\n    margin: 0;\n    margin: 0 8px;\n  "]);return Iv=function(){return e},e}function Lv(){var e=Object(i.a)(["\n  // height: calc(100vh - 150px);\n  overflow: overlay;\n  grid-template-rows: auto;\n  grid-template-columns:1fr;\n  column-gap: 0px;\n  margin: 0;\n  margin: 0 8px;\n  "]);return Lv=function(){return e},e}function Bv(){var e=Object(i.a)(["\n  grid-template-rows: auto;\n  grid-template-columns:  1fr;\n  "]);return Bv=function(){return e},e}function Rv(){var e=Object(i.a)(["\n  max-width: 1096px;\n  margin: 0 auto;\n  display: grid;\n  \n  ","\n  ","\n  ","\n"]);return Rv=function(){return e},e}function Av(){var e=Object(i.a)(["\n    display: block;\n  "]);return Av=function(){return e},e}function zv(){var e=Object(i.a)(["\n    grid-template-rows: 50px auto;\n    row-gap: 8px;\n  "]);return zv=function(){return e},e}function Uv(){var e=Object(i.a)(["\n  height: 100vh;\n  display: grid;\n  ","\n  ","\n"]);return Uv=function(){return e},e}function Mv(){var e=Object(i.a)(["\n    display: none;\n  "]);return Mv=function(){return e},e}function Fv(){var e=Object(i.a)(["\n  position: fixed;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 500;\n  background: ","\n  display: grid;\n  border-top: ",";\n  grid-template-columns: 1fr 1fr 1fr;\n  ","\n\n"]);return Fv=function(){return e},e}function Dv(){var e=Object(i.a)(["\n    background: #fff;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n  "]);return Dv=function(){return e},e}function $v(){var e=Object(i.a)(["\n  height: 75px;\n  line-height: 75px;\n  text-align: center;\n  ","\n"]);return $v=function(){return e},e}function Vv(){var e=Object(i.a)(["\n    display: none;\n  "]);return Vv=function(){return e},e}function qv(){var e=Object(i.a)(["\nheight: 75px;\nline-height: 75px;\ntext-align: center;\nbackground: ","\nborder-bottom: ",";\ndisplay: flex;\nalign-items: center;\ninput {\n  width: 100%;\n  border-radius: 4px;\n  max-width: 500px;\n  height: 40px;\n  margin: 0;\n  border: 0;\n  background: ",";\n}\n.ais-SearchBox {\n  border: 0;\n  height: auto;\n  margin: 0;\n  width: auto;\n  margin: 0;\n  margin-right: 24px;\n  flex:1;\n}\n","\n"]);return qv=function(){return e},e}function Hv(){var e=Object(i.a)(["\n    display: none;\n  "]);return Hv=function(){return e},e}function Wv(){var e=Object(i.a)(["\n  ","\n"]);return Wv=function(){return e},e}function Kv(){var e=Object(i.a)(["\n  div {\n    max-width: 36px;\n    height: 36px;\n    min-width: 36px;\n    margin: 0 auto;\n    border-radius: 36px;\n    margin-top: 15px;\n  }\n"]);return Kv=function(){return e},e}function Qv(){var e=Object(i.a)(["\n  cursor: pointer;\n  height: 40px;\n  width: 40px;\n  min-width: 40px;\n  border-radius: 40px;\n  margin-top: 5px;\n  display: flex;\n  align-items: center;\n  &:hover {\n    background: ",";\n    svg {\n      stroke: ",";\n    }\n  }\n  svg {\n    stroke: ",";\n    margin: 0 auto;\n  }\n"]);return Qv=function(){return e},e}function Gv(){var e=Object(i.a)(["\n  img {\n    width: 36px;\n    height: 36px;\n    border-radius: 36px;\n    margin-top: 15px;\n  }\n"]);return Gv=function(){return e},e}var Yv=function(e){var n=e.SidebarBox,t=e.HeaderBox,r=e.SearchBox,a=e.children,i=e.userImage,o=(e.userLink,e.username),l=e.name,u=e.signOut,s=c.a.useState(!1),m=Object(Xe.a)(s,2),d=m[0],p=m[1],f=Object(Ye.g)();return c.a.createElement(ag,null,c.a.createElement(ng,null,c.a.createElement(Jv,{onClick:function(){return f.goBack()}},c.a.createElement(rr.a,{size:"20"})),r),c.a.createElement(eg,null,t),c.a.createElement(ig,null,c.a.createElement(og,null,a)),c.a.createElement(rg,null,"mnn",c.a.createElement(tg,null,c.a.createElement(Zu,{open:d,setOpen:p}),c.a.createElement(es,{username:o,name:l,userImage:i,signOut:u,open:d,setOpen:p,Side:n})),c.a.createElement(tg,null,c.a.createElement(Xv,null,c.a.createElement(Gc.b,{src:Z}))),c.a.createElement(tg,null,c.a.createElement(Zv,null,c.a.createElement(cr,{src:i,size:"m"})))))},Xv=Pn(Nn.Box)(Gv()),Jv=Pn(Nn.Box)(Qv(),(function(e){return e.theme.colors.lighter}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.mediumdark})),Zv=Pn(Nn.Box)(Kv()),eg=Pn(Nn.Box)(Wv(),f.a.lessThan("medium")(Hv())),ng=Pn(Nn.Box)(qv(),(function(e){return e.theme.colors.appInverse}),(function(e){return e.theme.colors.border}),(function(e){return e.theme.colors.app}),f.a.greaterThan("medium")(Vv())),tg=Pn(Nn.Box)($v(),f.a.lessThan("medium")(Dv())),rg=Pn(Nn.Box)(Fv(),(function(e){return e.theme.colors.appInverse}),(function(e){return e.theme.colors.border}),f.a.greaterThan("medium")(Mv())),ag=Pn(Nn.Box)(Uv(),f.a.greaterThan("large")(zv()),f.a.lessThan("medium")(Av())),ig=Pn(Nn.Box)(Rv(),f.a.greaterThan("medium")(Bv()),f.a.lessThan("medium")(Lv()),f.a.lessThan("small")(Iv())),og=Pn(Nn.Box)(Pv()),lg=function(e){var n=e.children,t=un().me,r=zt().logout,a=Object(l.useMemo)((function(){return(null===t||void 0===t?void 0:t.user)?{SidebarBox:c.a.createElement(Ru,null),HeaderBox:c.a.createElement(Go,null),SearchBox:c.a.createElement(tr,null),signOut:r}:null}),[t,r]);return a?c.a.createElement(Yv,a,n):c.a.createElement(ul,null,n)},cg={exact:!0,path:"/settings/:tab(preferences|logs|invites|instance|flags)?",component:function(e){var n=e.match.params.tab,t="preferences"===n?Jf.Preferences:"logs"===n?Jf.ModerationLogs:"invites"===n?Jf.Invites:"instance"===n?Jf.Instance:"flags"===n?Jf.Flags:n?null:Jf.General,r=Object(l.useMemo)((function(){return null===t?null:{tab:t,basePath:"/settings"}}),[t]);return r?c.a.createElement(Qt,null,c.a.createElement(lg,null,c.a.createElement(_v,r))):c.a.createElement(Iu,null)}},ug=Gt(cg);function sg(){var e=Object(i.a)(["\n  background: ",";\n  border-radius: 4px;\n  align-items: center;\n  div {\n    color: white;\n  }\n"]);return sg=function(){return e},e}function mg(){var e=Object(i.a)(["\n  margin: 0;\n  flex: 1;\n  input {\n    height: 50px;\n    color: inherit;\n    background-color: transparent;\n    border-radius: 4px;\n    border: 1px solid #dadada;\n  }\n  background: ",";\n  border-radius: 4px;\n  height: inherit;\n  border: 1px solid #dddfe2;\n  text-align: left;\n  height: fit-content;\n  padding: 16px;\n"]);return mg=function(){return e},e}function dg(){var e=Object(i.a)(["\n  grid-area: header;\n  text-align: center;\n"]);return dg=function(){return e},e}function pg(){var e=Object(i.a)(["\n  display: block;\n  margin-bottom: 6px;\n"]);return pg=function(){return e},e}function fg(){var e=Object(i.a)(["\n  margin: 0 auto;\n  max-width: 900px;\n  padding-bottom: 50px;\n"]);return fg=function(){return e},e}function vg(){var e=Object(i.a)(["\n    // display: grid;\n    // grid-template-columns: 1fr;\n    padding: 16px\n  "]);return vg=function(){return e},e}function gg(){var e=Object(i.a)(["\n  ",";\n"]);return gg=function(){return e},e}function bg(){var e=Object(i.a)(["\n  background: #fff;\n  border-radius: 4px;\n  padding: 30px 20px;\n  text-align: center;\n  height: fit-content;\n"]);return bg=function(){return e},e}function hg(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  min-width: 180px;\n"]);return hg=function(){return e},e}function Eg(){var e=Object(i.a)(["\n  text-align: center;\n  margin-top: 10px;\n"]);return Eg=function(){return e},e}var xg={login:Object(dn.i18nMark)("Sign in"),placeholders:{email:Object(dn.i18nMark)("eg. mary@moodlers.org"),password:Object(dn.i18nMark)("Choose your password"),passwordConfirm:Object(dn.i18nMark)("Confirm your password")}},Og=function(e){var n=e.formik,t=e.registeredUserID,r=e.registeredEmail;return l.createElement(Tg,null,!n.isSubmitting&&n.submitCount&&t?l.createElement(Nn.Box,{mt:3},l.createElement(Vn,null),l.createElement(wg,null,l.createElement(Nn.Box,null,l.createElement(Nn.Text,{variant:"suptitle"},l.createElement(dn.Trans,{id:"Welcome"})," ",l.createElement("b",null,t)),l.createElement(Nn.Text,{mt:2,variant:"text"},l.createElement(dn.Trans,{id:"Please confirm your email address"}),l.createElement("b",null," "+r+" "),l.createElement(dn.Trans,{id:"by clicking on the link we emailed you (check your spam folder if necessary)."}))),l.createElement(jg,null,l.createElement(pn.b,{to:"/login"},l.createElement(Mn,{mt:3,variant:"primary"},l.createElement(dn.Trans,{id:"Sign in"})))))):l.createElement(kg,null,l.createElement(Vn,null),l.createElement(Cg,null,l.createElement(_g,{p:3},l.createElement(Nn.Box,{mr:2},l.createElement(ml.a,{size:"20",color:"white"})),l.createElement(Nn.Text,{variant:"suptitle"},J))),l.createElement(Nn.Flex,{mt:2},l.createElement(Ng,{onSubmit:n.handleSubmit},l.createElement(Nn.Box,null,l.createElement(Sg,null,l.createElement(dn.Trans,{id:"Email"})),l.createElement(vn.a,{placeholder:xg.placeholders.email,name:"email",value:n.values.email,onChange:n.handleChange}),n.errors.email&&l.createElement(wa,null,l.createElement(Ci,{variant:"negative"},n.errors.email))),l.createElement(Nn.Box,{mt:3},l.createElement(Sg,null,l.createElement(dn.Trans,{id:"Password"})),l.createElement(vn.a,{placeholder:xg.placeholders.password,name:"password",type:"password",value:n.values.password,onChange:n.handleChange}),n.errors.password&&l.createElement(wa,null,l.createElement(Ci,{variant:"negative"},n.errors.password))),l.createElement(Nn.Box,{mt:3},l.createElement(Sg,null,l.createElement(dn.Trans,{id:"Confirm password"})),l.createElement(vn.a,{placeholder:xg.placeholders.passwordConfirm,name:"passwordConfirm",type:"password",value:n.values.passwordConfirm,onChange:n.handleChange}),n.errors.passwordConfirm&&l.createElement(wa,null,l.createElement(Ci,{variant:"negative"},n.errors.passwordConfirm))),l.createElement(Nn.Box,{mt:3,css:{display:"flex",justifyContent:"space-between",alignItems:"center"}},l.createElement(Mn,{variant:"primary",isSubmitting:n.isSubmitting,isDisabled:n.isSubmitting,type:"submit"},l.createElement(dn.Trans,{id:"Sign up"})),l.createElement(yg,null,l.createElement(dn.Trans,{id:"You have account"}),l.createElement(pn.b,{to:"/login",className:"ml-3"},l.createElement(dn.Trans,{id:"Sign in"}))))))))},jg=Pn(Nn.Box)(Eg()),yg=Pn(Nn.Box)(hg()),wg=Pn.div(bg()),kg=Pn(Nn.Box)(gg(),f.a.lessThan("medium")(vg())),Tg=Pn.div(fg()),Sg=Pn.label(pg()),Cg=Pn.div(dg()),Ng=Pn.form(mg(),(function(e){return e.theme.colors.appInverse})),_g=Pn(Nn.Flex)(sg(),(function(e){return e.green?"#546d4f":e.theme.colors.secondary})),Pg={email:"",password:"",passwordConfirm:""},Ig={id:"Sign Up"},Lg=function(){Dt(Ig);var e=zt(),n=e.signUp,t=e.signUpStatus,r=Rt.object({email:Rt.string().max(50).required(),password:Rt.string().min(10).max(50).required(),passwordConfirm:Rt.string().oneOf([Rt.ref("password"),null],"Passwords must match").required()}),a=Object(fn.a)({initialValues:Pg,enableReinitialize:!0,validateOnChange:!1,validateOnBlur:!1,validationSchema:r,onSubmit:function(e){return n({email:e.email,password:e.password})}});Object(l.useEffect)((function(){var e,n;(null===(e=t.error)||void 0===e?void 0:e.graphQLErrors.length)&&d.c.error(null===(n=t.error)||void 0===n?void 0:n.graphQLErrors[0].message)}),[t.error]);var i=Object(l.useMemo)((function(){var e,n;return t.called&&(null===(e=t.data)||void 0===e?void 0:e.signup)?{formik:a,registeredUserID:null===(n=t.data)||void 0===n?void 0:n.signup,registeredEmail:a.values.email}:{formik:a}}),[a,t.called,t.data]);return c.a.createElement(Og,i)},Bg={exact:!0,path:"/signup",component:function(e){e.match;return c.a.createElement(ul,{withoutHeader:!0},c.a.createElement(Lg,null))}},Rg=function(){return c.a.createElement(Ye.c,null,c.a.createElement(Ye.a,Np),c.a.createElement(Ye.a,cg),c.a.createElement(Ye.a,Bl),c.a.createElement(Ye.a,Qp),c.a.createElement(Ye.a,Ip),c.a.createElement(Ye.a,uc),c.a.createElement(Ye.a,xf),c.a.createElement(Ye.a,Yt),c.a.createElement(Ye.a,Bg),c.a.createElement(Ye.a,Ql),c.a.createElement(Ye.a,Lu),c.a.createElement(Ye.a,ef),c.a.createElement(Ye.a,{component:Iu}))};function Ag(){var e=Object(i.a)(["\n  position: relative;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 4010;\n"]);return Ag=function(){return e},e}var zg=function(){var e=l.useState(!0),n=Object(Xe.a)(e,2),t=n[0],r=n[1];return t?l.createElement(Ug,null,l.createElement(Ci,{variant:"warning"},l.createElement("div",{style:{textAlign:"center"}},"This site is currently in active development. We are looking forward to reading your feedback and ideas in our"," ",l.createElement("a",{href:"https://github.com/reflow-project/weloop/issues",target:"_blank",rel:"noopener noreferrer"},"Issues Tracker"),l.createElement("span",{style:{cursor:"pointer",position:"absolute",top:"10px",right:"10px"},onClick:function(){return r(!1)}},l.createElement(oa.default,{size:16}))))):null},Ug=Pn(Gc.a)(Ag()),Mg=function(){return l.createElement(Ge,null,l.createElement(l.Fragment,null,l.createElement(zg,null),l.createElement(Rg,null)))},Fg=t(423),Dg=t.n(Fg),$g=t(291),Vg=t.n($g),qg=t(849),Hg=function(e){return"?".concat(Vg.a.stringify(e))},Wg=ae&&ae.appId&&ae.apiKey&&Dg()(ae.appId,ae.apiKey),Kg=function(e){var n,t=e.children,r=Object(Ye.g)().push,a=Object(Ye.h)(),i=c.a.useRef(),o=c.a.useRef(Qg(a.pathname)),l=c.a.useState((n=a.search,Vg.a.parse(n.slice(1)))),u=Object(Xe.a)(l,2),s=u[0],m=u[1];c.a.useEffect((function(){var e=setTimeout((function(){o.current&&!Qg(a.pathname)?(i.current=void 0,o.current=!1,m(Gg)):s.query?(i.current=i.current||(Qg(a.pathname)?void 0:a),o.current=!0,r(function(e){return"/search/".concat(Hg(e))}(s))):Qg(a.pathname)&&(i.current?r(i.current):r("/"),i.current=void 0)}),500);return function(){clearTimeout(e)}}),[s,a.pathname,a.hash,a.search,r]);var d=c.a.useCallback((function(e){var n,t;!("query"in e)||(null===e||void 0===e?void 0:e.query)==(null===s||void 0===s?void 0:s.query)&&(null===e||void 0===e||null===(n=e.refinementList)||void 0===n?void 0:n.index_type)==(null===s||void 0===s||null===(t=s.refinementList)||void 0===t?void 0:t.index_type)&&(null===e||void 0===e?void 0:e.page)==(null===s||void 0===s?void 0:s.page)||m(e)}),[s]);return Wg&&ae?c.a.createElement(qg.a,{searchState:s,onSearchStateChange:d,searchClient:Wg,refresh:!0,indexName:ae.indexName||"",createURL:Hg},t):c.a.createElement(c.a.Fragment,null,t)},Qg=function(e){return"/search/"===e},Gg={query:""},Yg=function(e){var n=e.children;return c.a.createElement(Tn,null,c.a.createElement(Ft,null,c.a.createElement(pn.a,null,c.a.createElement(Kg,null,n))))},Xg=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Jg(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Xg?(!function(e){fetch(e).then((function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Zg(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Zg(e)}))}}function Zg(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}function eb(){var e=Object(i.a)([" \n          width: 90vw !important;\n          margin: 0 auto; \n        "]);return eb=function(){return e},e}function nb(){var e=Object(i.a)(["\n      body, html {\n          border: 0;\n          margin: 0;\n          padding: 0;\n          width: 100%;\n          height: 100%;\n          font-family: "," !important;\n      }\n\n      * {\n        box-sizing: border-box;\n      }\n      input, textarea {\n        ::placeholder {\n          font-family: "," !important;\n        }\n      }\n      h1 {\n        font-size: 50px;\n      }\n      h2 {\n        font-size: 30px;\n      }\n      h3 {\n        font-size: 18px;\n      }\n      p {\n        font-size: 18px;\n      }\n\n      body {\n        background: ",";\n        .ais-SearchBox {\n          border-radius: 4px;\n          border: ","\n          height: 34px;\n          width: 380px;\n          background: ","\n          input {\n            border: none;\n            margin: 0 !important; \n            border-radius: 4px;\n            text-indent: 30px;\n            padding: 0;\n            height: 32px;\n            background: ",";\n          }\n        }\n        .ais-InstantSearch__root { \n          display: flex;\n        width: 100%;\n        }\n      }\n\n      .Toastify__toast--success{\n        background-color: ",";\n      }\n\n      .Toastify__toast-container--top-right{\n        top:60px !important;\n        ","; \n    }\n\n    input, textarea{\n      &:focus::placeholder{\n        color: transparent;\n      }\n    }\n\n    input:focus::-webkit-input-placeholder, textarea:focus::-webkit-input-placeholder { color:transparent; }\n    input:focus:-moz-placeholder, textarea:focus:-moz-placeholder { color:transparent; } /* FF 4-18 */\n    input:focus::-moz-placeholder, textarea:focus::-moz-placeholder { color:transparent; } /* FF 19+ */\n    input:focus:-ms-input-placeholder, textarea:focus:-ms-input-placeholder { color:transparent; } /* IE 10+ */\n  "]);return nb=function(){return e},e}function tb(){return(tb=Object(o.a)(a.a.mark((function e(){var n,t,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(p.createGlobalStyle)(nb(),we.primary,we.primary,oe,ye,oe,oe,ue,f.a.lessThan("480px")(eb())),t=hn("local"),e.next=4,We({localKVStore:t("APOLLO#"),appLinks:[]});case 4:r=e.sent,i=function(){return l.createElement(u.a,{client:r.client},l.createElement(Yg,null,l.createElement(n,null),l.createElement(d.b,{hideProgressBar:!0,transition:d.a,autoClose:3e3,newestOnTop:!0}),l.createElement(Mg,null)))},m.a.render(l.createElement(i,null),document.getElementById("root")),Jg();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){tb.apply(this,arguments)}()}},[[435,2,3]]]);
//# sourceMappingURL=main.a0a4a009.chunk.js.map